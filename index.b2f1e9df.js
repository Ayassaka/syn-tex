!function(){var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},i=t.parcelRequire0bf0;null==i&&((i=function(t){if(t in r)return r[t].exports;if(t in n){let e=n[t];delete n[t];let i={id:t,exports:{}};return r[t]=i,e.call(i.exports,i,i.exports),i.exports}var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}).register=function(t,e){n[t]=e},t.parcelRequire0bf0=i);var o={};Object.defineProperty(o,"__esModule",{value:!0}),o.mathjax=void 0;var s,a={},l=a&&a.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),c=a&&a.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(a,"__esModule",{value:!0}),a.HandlerList=void 0;var u={};Object.defineProperty(u,"__esModule",{value:!0}),u.PrioritizedList=void 0;var h=function(){function t(){this.items=[],this.items=[]}return t.prototype[Symbol.iterator]=function(){var t=0,e=this.items;return{next:function(){return{value:e[t++],done:t>e.length}}}},t.prototype.add=function(e,r){void 0===r&&(r=t.DEFAULTPRIORITY);var n=this.items.length;do{n--}while(n>=0&&r<this.items[n].priority);return this.items.splice(n+1,0,{item:e,priority:r}),e},t.prototype.remove=function(t){var e=this.items.length;do{e--}while(e>=0&&this.items[e].item!==t);e>=0&&this.items.splice(e,1)},t.prototype.toArray=function(){return Array.from(this)},t.DEFAULTPRIORITY=5,t}();u.PrioritizedList=h;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e.prototype.register=function(t){return this.add(t,t.priority)},e.prototype.unregister=function(t){this.remove(t)},e.prototype.handlesDocument=function(t){var e,r;try{for(var n=c(this),i=n.next();!i.done;i=n.next()){var o=i.value.item;if(o.handlesDocument(t))return o}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}throw new Error("Can't find handler for document")},e.prototype.document=function(t,e){return void 0===e&&(e=null),this.handlesDocument(t).create(t,e)},e}(u.PrioritizedList);a.HandlerList=d;var f={};Object.defineProperty(f,"__esModule",{value:!0}),f.retryAfter=f.handleRetriesFor=void 0,f.handleRetriesFor=function(t){return new Promise((function e(r,n){try{r(t())}catch(t){t.retry&&t.retry instanceof Promise?t.retry.then((function(){return e(r,n)})).catch((function(t){return n(t)})):t.restart&&t.restart.isCallback?MathJax.Callback.After((function(){return e(r,n)}),t.restart):n(t)}}))},f.retryAfter=function(t){var e=new Error("MathJax retry");throw e.retry=t,e},o.mathjax={version:"3.1.4",handlers:new a.HandlerList,document:function(t,e){return o.mathjax.handlers.document(t,e)},handleRetriesFor:f.handleRetriesFor,retryAfter:f.retryAfter,asyncLoad:null};var p={},m=p&&p.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),g=p&&p.__assign||function(){return(g=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},y=p&&p.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s};Object.defineProperty(p,"__esModule",{value:!0}),p.TeX=void 0;var v={};Object.defineProperty(v,"__esModule",{value:!0}),v.AbstractInputJax=void 0;var A={},C=A&&A.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},w=A&&A.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},x=A&&A.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(A,"__esModule",{value:!0}),A.separateOptions=A.selectOptionsFromKeys=A.selectOptions=A.userOptions=A.defaultOptions=A.insert=A.copy=A.keys=A.makeArray=A.expandable=A.Expandable=A.REMOVE=A.APPEND=void 0;var E={}.constructor;function S(t){return"object"==typeof t&&null!==t&&(t.constructor===E||t.constructor===M)}A.APPEND="[+]",A.REMOVE="[-]";var M=function(){};function O(t){return Object.assign(Object.create(M.prototype),t)}function _(t){return t?Object.keys(t).concat(Object.getOwnPropertySymbols(t)):[]}function T(t){var e,r,n={};try{for(var i=C(_(t)),o=i.next();!o.done;o=i.next()){var s=o.value,a=Object.getOwnPropertyDescriptor(t,s),l=a.value;Array.isArray(l)?a.value=F([],l,!1):S(l)&&(a.value=T(l)),a.enumerable&&(n[s]=a)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return Object.defineProperties(t.constructor===M?O({}):{},n)}function F(t,e,r){var n,i;void 0===r&&(r=!0);var o=function(n){if(r&&void 0===t[n]&&t.constructor!==M)throw"symbol"==typeof n&&(n=n.toString()),new Error('Invalid option "'+n+'" (no default value).');var i=e[n],o=t[n];if(!S(i)||null===o||"object"!=typeof o&&"function"!=typeof o)Array.isArray(i)?(t[n]=[],F(t[n],i,!1)):S(i)?t[n]=T(i):t[n]=i;else{var s=_(i);Array.isArray(o)&&(1===s.length&&(s[0]===A.APPEND||s[0]===A.REMOVE)&&Array.isArray(i[s[0]])||2===s.length&&s.sort().join(",")===A.APPEND+","+A.REMOVE&&Array.isArray(i[A.APPEND])&&Array.isArray(i[A.REMOVE]))?(i[A.REMOVE]&&(o=t[n]=o.filter((function(t){return i[A.REMOVE].indexOf(t)<0}))),i[A.APPEND]&&(t[n]=x(x([],w(o)),w(i[A.APPEND])))):F(o,i,r)}};try{for(var s=C(_(e)),a=s.next();!a.done;a=s.next()){o(a.value)}}catch(t){n={error:t}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return t}function B(t){for(var e,r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o={};try{for(var s=C(n),a=s.next();!a.done;a=s.next()){var l=a.value;t.hasOwnProperty(l)&&(o[l]=t[l])}}catch(t){e={error:t}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return o}A.Expandable=M,A.expandable=O,A.makeArray=function(t){return Array.isArray(t)?t:[t]},A.keys=_,A.copy=T,A.insert=F,A.defaultOptions=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.forEach((function(e){return F(t,e,!1)})),t},A.userOptions=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.forEach((function(e){return F(t,e,!0)})),t},A.selectOptions=B,A.selectOptionsFromKeys=function(t,e){return B.apply(void 0,x([t],w(Object.keys(e))))},A.separateOptions=function(t){for(var e,r,n,i,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];var a=[];try{for(var l=C(o),c=l.next();!c.done;c=l.next()){var u=c.value,h={},d={};try{for(var f=(n=void 0,C(Object.keys(t||{}))),p=f.next();!p.done;p=f.next()){var m=p.value;(void 0===u[m]?d:h)[m]=t[m]}}catch(t){n={error:t}}finally{try{p&&!p.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}a.push(h),t=d}}catch(t){e={error:t}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}return a.unshift(t),a};var L={},k=L&&L.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),R=L&&L.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},D=L&&L.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},P=L&&L.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(L,"__esModule",{value:!0}),L.FunctionList=void 0;var I=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return k(e,t),e.prototype.execute=function(){for(var t,e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{for(var i=R(this),o=i.next();!o.done;o=i.next()){var s=o.value,a=s.item.apply(s,P([],D(r)));if(!1===a)return!1}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return!0},e.prototype.asyncExecute=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=-1,n=this.items;return new Promise((function(e,i){!function o(){for(var s;++r<n.length;){var a=(s=n[r]).item.apply(s,P([],D(t)));if(a instanceof Promise)return void a.then(o).catch((function(t){return i(t)}));if(!1===a)return void e(!1)}e(!0)}()}))},e}(u.PrioritizedList);L.FunctionList=I;var N=function(){function t(t){void 0===t&&(t={}),this.adaptor=null,this.mmlFactory=null;var e=this.constructor;this.options=A.userOptions(A.defaultOptions({},e.OPTIONS),t),this.preFilters=new L.FunctionList,this.postFilters=new L.FunctionList}return Object.defineProperty(t.prototype,"name",{get:function(){return this.constructor.NAME},enumerable:!1,configurable:!0}),t.prototype.setAdaptor=function(t){this.adaptor=t},t.prototype.setMmlFactory=function(t){this.mmlFactory=t},t.prototype.initialize=function(){},t.prototype.reset=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},Object.defineProperty(t.prototype,"processStrings",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.findMath=function(t,e){return[]},t.prototype.executeFilters=function(t,e,r,n){var i={math:e,document:r,data:n};return t.execute(i),i.data},t.NAME="generic",t.OPTIONS={},t}();v.AbstractInputJax=N;var $={},j=$&&$.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),H=$&&$.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s};Object.defineProperty($,"__esModule",{value:!0}),$.FindTeX=void 0;var W={};Object.defineProperty(W,"__esModule",{value:!0}),W.AbstractFindMath=void 0;var z=function(){function t(t){var e=this.constructor;this.options=A.userOptions(A.defaultOptions({},e.OPTIONS),t)}return t.OPTIONS={},t}();W.AbstractFindMath=z;var V={},X=V&&V.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},q=V&&V.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(V,"__esModule",{value:!0}),V.split=V.isPercent=V.unicodeString=V.unicodeChars=V.quotePattern=V.sortLength=void 0,V.sortLength=function(t,e){return t.length!==e.length?e.length-t.length:t===e?0:t<e?-1:1},V.quotePattern=function(t){return t.replace(/([\^$(){}+*?\-|\[\]\:\\])/g,"\\$1")},V.unicodeChars=function(t){return Array.from(t).map((function(t){return t.codePointAt(0)}))},V.unicodeString=function(t){return String.fromCodePoint.apply(String,q([],X(t)))},V.isPercent=function(t){return!!t.match(/%\s*$/)},V.split=function(t){return t.trim().split(/\s+/)};var G={};Object.defineProperty(G,"__esModule",{value:!0}),G.newState=G.STATE=G.AbstractMathItem=G.protoItem=void 0,G.protoItem=function(t,e,r,n,i,o,s){return void 0===s&&(s=null),{open:t,math:e,close:r,n:n,start:{n:i},end:{n:o},display:s}};var U=function(){function t(t,e,r,n,i){void 0===r&&(r=!0),void 0===n&&(n={i:0,n:0,delim:""}),void 0===i&&(i={i:0,n:0,delim:""}),this.root=null,this.typesetRoot=null,this.metrics={},this.inputData={},this.outputData={},this._state=G.STATE.UNPROCESSED,this.math=t,this.inputJax=e,this.display=r,this.start=n,this.end=i,this.root=null,this.typesetRoot=null,this.metrics={},this.inputData={},this.outputData={}}return Object.defineProperty(t.prototype,"isEscaped",{get:function(){return null===this.display},enumerable:!1,configurable:!0}),t.prototype.render=function(t){t.renderActions.renderMath(this,t)},t.prototype.rerender=function(t,e){void 0===e&&(e=G.STATE.RERENDER),this.state()>=e&&this.state(e-1),t.renderActions.renderMath(this,t,e)},t.prototype.convert=function(t,e){void 0===e&&(e=G.STATE.LAST),t.renderActions.renderConvert(this,t,e)},t.prototype.compile=function(t){this.state()<G.STATE.COMPILED&&(this.root=this.inputJax.compile(this,t),this.state(G.STATE.COMPILED))},t.prototype.typeset=function(t){this.state()<G.STATE.TYPESET&&(this.typesetRoot=t.outputJax[this.isEscaped?"escaped":"typeset"](this,t),this.state(G.STATE.TYPESET))},t.prototype.updateDocument=function(t){},t.prototype.removeFromDocument=function(t){void 0===t&&(t=!1)},t.prototype.setMetrics=function(t,e,r,n,i){this.metrics={em:t,ex:e,containerWidth:r,lineWidth:n,scale:i}},t.prototype.state=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),null!=t&&(t<G.STATE.INSERTED&&this._state>=G.STATE.INSERTED&&this.removeFromDocument(e),t<G.STATE.TYPESET&&this._state>=G.STATE.TYPESET&&(this.outputData={}),t<G.STATE.COMPILED&&this._state>=G.STATE.COMPILED&&(this.inputData={}),this._state=t),this._state},t.prototype.reset=function(t){void 0===t&&(t=!1),this.state(G.STATE.UNPROCESSED,t)},t}();G.AbstractMathItem=U,G.STATE={UNPROCESSED:0,FINDMATH:10,COMPILED:20,CONVERT:100,METRICS:110,RERENDER:125,TYPESET:150,INSERTED:200,LAST:1e4},G.newState=function(t,e){if(t in G.STATE)throw Error("State "+t+" already exists");G.STATE[t]=e};var K=function(t){function e(e){var r=t.call(this,e)||this;return r.getPatterns(),r}return j(e,t),e.prototype.getPatterns=function(){var t=this,e=this.options,r=[],n=[],i=[];this.end={},this.env=this.sub=0;var o=1;e.inlineMath.forEach((function(e){return t.addPattern(r,e,!1)})),e.displayMath.forEach((function(e){return t.addPattern(r,e,!0)})),r.length&&n.push(r.sort(V.sortLength).join("|")),e.processEnvironments&&(n.push("\\\\begin\\s*\\{([^}]*)\\}"),this.env=o,o++),e.processEscapes&&i.push("\\\\([\\\\$])"),e.processRefs&&i.push("(\\\\(?:eq)?ref\\s*\\{[^}]*\\})"),i.length&&(n.push("("+i.join("|")+")"),this.sub=o),this.start=new RegExp(n.join("|"),"g"),this.hasPatterns=n.length>0},e.prototype.addPattern=function(t,e,r){var n=H(e,2),i=n[0],o=n[1];t.push(V.quotePattern(i)),this.end[i]=[o,r,this.endPattern(o)]},e.prototype.endPattern=function(t,e){return new RegExp((e||V.quotePattern(t))+"|\\\\(?:[a-zA-Z]|.)|[{}]","g")},e.prototype.findEnd=function(t,e,r,n){for(var i,o=H(n,3),s=o[0],a=o[1],l=o[2],c=l.lastIndex=r.index+r[0].length,u=0;i=l.exec(t);){if((i[1]||i[0])===s&&0===u)return G.protoItem(r[0],t.substr(c,i.index-c),i[0],e,r.index,i.index+i[0].length,a);"{"===i[0]?u++:"}"===i[0]&&u&&u--}return null},e.prototype.findMathInString=function(t,e,r){var n,i;for(this.start.lastIndex=0;n=this.start.exec(r);){if(void 0!==n[this.env]&&this.env){var o="\\\\end\\s*(\\{"+V.quotePattern(n[this.env])+"\\})";(i=this.findEnd(r,e,n,["{"+n[this.env]+"}",!0,this.endPattern(null,o)]))&&(i.math=i.open+i.math+i.close,i.open=i.close="")}else if(void 0!==n[this.sub]&&this.sub){var s=n[this.sub];o=n.index+n[this.sub].length;i=2===s.length?G.protoItem("",s.substr(1),"",e,n.index,o):G.protoItem("",s,"",e,n.index,o,!1)}else i=this.findEnd(r,e,n,this.end[n[0]]);i&&(t.push(i),this.start.lastIndex=i.end.n)}},e.prototype.findMath=function(t){var e=[];if(this.hasPatterns)for(var r=0,n=t.length;r<n;r++)this.findMathInString(e,r,t[r]);return e},e.OPTIONS={inlineMath:[["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0,processEnvironments:!0,processRefs:!0},e}(W.AbstractFindMath);$.FindTeX=K;var J={},Q=J&&J.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(J,"__esModule",{value:!0});var Y={},Z=Y&&Y.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),tt=Y&&Y.__assign||function(){return(tt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},et=Y&&Y.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rt=Y&&Y.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s};Object.defineProperty(Y,"__esModule",{value:!0}),Y.XMLNode=Y.TextNode=Y.AbstractMmlEmptyNode=Y.AbstractMmlBaseNode=Y.AbstractMmlLayoutNode=Y.AbstractMmlTokenNode=Y.AbstractMmlNode=Y.indentAttributes=Y.TEXCLASSNAMES=Y.TEXCLASS=void 0;var nt={},it=nt&&nt.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(nt,"__esModule",{value:!0}),nt.Attributes=nt.INHERIT=void 0,nt.INHERIT="_inherit_";var ot=function(){function t(t,e){this.global=e,this.defaults=Object.create(e),this.inherited=Object.create(this.defaults),this.attributes=Object.create(this.inherited),Object.assign(this.defaults,t)}return t.prototype.set=function(t,e){this.attributes[t]=e},t.prototype.setList=function(t){Object.assign(this.attributes,t)},t.prototype.get=function(t){var e=this.attributes[t];return e===nt.INHERIT&&(e=this.global[t]),e},t.prototype.getExplicit=function(t){if(this.attributes.hasOwnProperty(t))return this.attributes[t]},t.prototype.getList=function(){for(var t,e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i={};try{for(var o=it(r),s=o.next();!s.done;s=o.next()){var a=s.value;i[a]=this.get(a)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return i},t.prototype.setInherited=function(t,e){this.inherited[t]=e},t.prototype.getInherited=function(t){return this.inherited[t]},t.prototype.getDefault=function(t){return this.defaults[t]},t.prototype.isSet=function(t){return this.attributes.hasOwnProperty(t)||this.inherited.hasOwnProperty(t)},t.prototype.hasDefault=function(t){return t in this.defaults},t.prototype.getExplicitNames=function(){return Object.keys(this.attributes)},t.prototype.getInheritedNames=function(){return Object.keys(this.inherited)},t.prototype.getDefaultNames=function(){return Object.keys(this.defaults)},t.prototype.getGlobalNames=function(){return Object.keys(this.global)},t.prototype.getAllAttributes=function(){return this.attributes},t.prototype.getAllInherited=function(){return this.inherited},t.prototype.getAllDefaults=function(){return this.defaults},t.prototype.getAllGlobals=function(){return this.global},t}();nt.Attributes=ot;var st={},at=st&&st.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),lt=st&&st.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(st,"__esModule",{value:!0}),st.AbstractEmptyNode=st.AbstractNode=void 0;var ct=function(){function t(t,e,r){var n,i;void 0===e&&(e={}),void 0===r&&(r=[]),this.factory=t,this.parent=null,this.properties={},this.childNodes=[];try{for(var o=lt(Object.keys(e)),s=o.next();!s.done;s=o.next()){var a=s.value;this.setProperty(a,e[a])}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}r.length&&this.setChildren(r)}return Object.defineProperty(t.prototype,"kind",{get:function(){return"unknown"},enumerable:!1,configurable:!0}),t.prototype.setProperty=function(t,e){this.properties[t]=e},t.prototype.getProperty=function(t){return this.properties[t]},t.prototype.getPropertyNames=function(){return Object.keys(this.properties)},t.prototype.getAllProperties=function(){return this.properties},t.prototype.removeProperty=function(){for(var t,e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{for(var i=lt(r),o=i.next();!o.done;o=i.next()){var s=o.value;delete this.properties[s]}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t.prototype.isKind=function(t){return this.factory.nodeIsKind(this,t)},t.prototype.setChildren=function(t){var e,r;this.childNodes=[];try{for(var n=lt(t),i=n.next();!i.done;i=n.next()){var o=i.value;this.appendChild(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.appendChild=function(t){return this.childNodes.push(t),t.parent=this,t},t.prototype.replaceChild=function(t,e){var r=this.childIndex(e);return null!==r&&(this.childNodes[r]=t,t.parent=this),t},t.prototype.childIndex=function(t){var e=this.childNodes.indexOf(t);return-1===e?null:e},t.prototype.findNodes=function(t){var e=[];return this.walkTree((function(r){r.isKind(t)&&e.push(r)})),e},t.prototype.walkTree=function(t,e){var r,n;t(this,e);try{for(var i=lt(this.childNodes),o=i.next();!o.done;o=i.next()){var s=o.value;s&&s.walkTree(t,e)}}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return e},t.prototype.toString=function(){return this.kind+"("+this.childNodes.join(",")+")"},t}();st.AbstractNode=ct;var ut=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return at(e,t),e.prototype.setChildren=function(t){},e.prototype.appendChild=function(t){return t},e.prototype.replaceChild=function(t,e){return e},e.prototype.childIndex=function(t){return null},e.prototype.walkTree=function(t,e){return t(this,e),e},e.prototype.toString=function(){return this.kind},e}(ct);st.AbstractEmptyNode=ut,Y.TEXCLASS={ORD:0,OP:1,BIN:2,REL:3,OPEN:4,CLOSE:5,PUNCT:6,INNER:7,VCENTER:8,NONE:-1},Y.TEXCLASSNAMES=["ORD","OP","BIN","REL","OPEN","CLOSE","PUNCT","INNER","VCENTER"];var ht=["","thinmathspace","mediummathspace","thickmathspace"],dt=[[0,-1,2,3,0,0,0,1],[-1,-1,0,3,0,0,0,1],[2,2,0,0,2,0,0,2],[3,3,0,0,3,0,0,3],[0,0,0,0,0,0,0,0],[0,-1,2,3,0,0,0,1],[1,1,0,1,1,1,1,1],[1,-1,2,3,1,0,1,1]];Y.indentAttributes=["indentalign","indentalignfirst","indentshift","indentshiftfirst"];var ft=function(t){function e(e,r,n){void 0===r&&(r={}),void 0===n&&(n=[]);var i=t.call(this,e)||this;return i.prevClass=null,i.prevLevel=null,i.texclass=null,i.beginLoc=null,i.endLoc=null,i.arity<0&&(i.childNodes=[e.create("inferredMrow")],i.childNodes[0].parent=i),i.setChildren(n),i.attributes=new nt.Attributes(e.getNodeClass(i.kind).defaults,e.getNodeClass("math").defaults),i.attributes.setList(r),i}return Z(e,t),Object.defineProperty(e.prototype,"texClass",{get:function(){return this.texclass},set:function(t){this.texclass=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isToken",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEmbellished",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSpacelike",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"linebreakContainer",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasNewLine",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return 1/0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isInferred",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Parent",{get:function(){for(var t=this.parent;t&&t.notParent;)t=t.Parent;return t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"notParent",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.setChildren=function(e){return this.arity<0?this.childNodes[0].setChildren(e):t.prototype.setChildren.call(this,e)},e.prototype.appendChild=function(e){var r,n,i=this;if(this.arity<0)return this.childNodes[0].appendChild(e),e;if(e.isInferred){if(this.arity===1/0)return e.childNodes.forEach((function(e){return t.prototype.appendChild.call(i,e)})),e;var o=e;(e=this.factory.create("mrow")).setChildren(o.childNodes),e.attributes=o.attributes;try{for(var s=et(o.getPropertyNames()),a=s.next();!a.done;a=s.next()){var l=a.value;e.setProperty(l,o.getProperty(l))}}catch(t){r={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}}return t.prototype.appendChild.call(this,e)},e.prototype.replaceChild=function(e,r){return this.arity<0?(this.childNodes[0].replaceChild(e,r),e):t.prototype.replaceChild.call(this,e,r)},e.prototype.core=function(){return this},e.prototype.coreMO=function(){return this},e.prototype.coreIndex=function(){return 0},e.prototype.childPosition=function(){for(var t,e,r=this,n=r.parent;n&&n.notParent;)r=n,n=n.parent;if(n){var i=0;try{for(var o=et(n.childNodes),s=o.next();!s.done;s=o.next()){if(s.value===r)return i;i++}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}}return null},e.prototype.setTeXclass=function(t){return this.getPrevClass(t),null!=this.texClass?this:t},e.prototype.updateTeXclass=function(t){t&&(this.prevClass=t.prevClass,this.prevLevel=t.prevLevel,t.prevClass=t.prevLevel=null,this.texClass=t.texClass)},e.prototype.getPrevClass=function(t){t&&(this.prevClass=t.texClass,this.prevLevel=t.attributes.get("scriptlevel"))},e.prototype.texSpacing=function(){var t=null!=this.prevClass?this.prevClass:Y.TEXCLASS.NONE,e=this.texClass||Y.TEXCLASS.ORD;if(t===Y.TEXCLASS.NONE||e===Y.TEXCLASS.NONE)return"";t===Y.TEXCLASS.VCENTER&&(t=Y.TEXCLASS.ORD),e===Y.TEXCLASS.VCENTER&&(e=Y.TEXCLASS.ORD);var r=dt[t][e];return(this.prevLevel>0||this.attributes.get("scriptlevel")>0)&&r>=0?"":ht[Math.abs(r)]},e.prototype.hasSpacingAttributes=function(){return this.isEmbellished&&this.coreMO().hasSpacingAttributes()},e.prototype.setInheritedAttributes=function(t,r,n,i){var o,s;void 0===t&&(t={}),void 0===r&&(r=!1),void 0===n&&(n=0),void 0===i&&(i=!1);var a=this.attributes.getAllDefaults();try{for(var l=et(Object.keys(t)),c=l.next();!c.done;c=l.next()){var u=c.value;if(a.hasOwnProperty(u)||e.alwaysInherit.hasOwnProperty(u)){var h=rt(t[u],2),d=h[0],f=h[1];((e.noInherit[d]||{})[this.kind]||{})[u]||this.attributes.setInherited(u,f)}}}catch(t){o={error:t}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}void 0===this.attributes.getExplicit("displaystyle")&&this.attributes.setInherited("displaystyle",r),void 0===this.attributes.getExplicit("scriptlevel")&&this.attributes.setInherited("scriptlevel",n),i&&this.setProperty("texprimestyle",i);var p=this.arity;if(p>=0&&p!==1/0&&(1===p&&0===this.childNodes.length||1!==p&&this.childNodes.length!==p))if(p<this.childNodes.length)this.childNodes=this.childNodes.slice(0,p);else for(;this.childNodes.length<p;)this.appendChild(this.factory.create("mrow"));this.setChildInheritedAttributes(t,r,n,i)},e.prototype.setChildInheritedAttributes=function(t,e,r,n){var i,o;try{for(var s=et(this.childNodes),a=s.next();!a.done;a=s.next()){a.value.setInheritedAttributes(t,e,r,n)}}catch(t){i={error:t}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}},e.prototype.addInheritedAttributes=function(t,e){var r,n,i=tt({},t);try{for(var o=et(Object.keys(e)),s=o.next();!s.done;s=o.next()){var a=s.value;"displaystyle"!==a&&"scriptlevel"!==a&&"style"!==a&&(i[a]=[this.kind,e[a]])}}catch(t){r={error:t}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},e.prototype.inheritAttributesFrom=function(t){var e=t.attributes,r=e.get("displaystyle"),n=e.get("scriptlevel"),i=e.isSet("mathsize")?{mathsize:["math",e.get("mathsize")]}:{},o=t.getProperty("texprimestyle")||!1;this.setInheritedAttributes(i,r,n,o)},e.prototype.verifyTree=function(t){if(void 0===t&&(t=null),null!==t){this.verifyAttributes(t);var e=this.arity;t.checkArity&&e>=0&&e!==1/0&&(1===e&&0===this.childNodes.length||1!==e&&this.childNodes.length!==e)&&this.mError('Wrong number of children for "'+this.kind+'" node',t,!0),this.verifyChildren(t)}},e.prototype.verifyAttributes=function(t){var e,r;if(t.checkAttributes){var n=this.attributes,i=[];try{for(var o=et(n.getExplicitNames()),s=o.next();!s.done;s=o.next()){var a=s.value;"data-"===a.substr(0,5)||void 0!==n.getDefault(a)||a.match(/^(?:class|style|id|(?:xlink:)?href)$/)||i.push(a)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}i.length&&this.mError("Unknown attributes for "+this.kind+" node: "+i.join(", "),t)}},e.prototype.verifyChildren=function(t){var e,r;try{for(var n=et(this.childNodes),i=n.next();!i.done;i=n.next()){i.value.verifyTree(t)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},e.prototype.mError=function(t,e,r){if(void 0===r&&(r=!1),this.parent&&this.parent.isKind("merror"))return null;var n=this.factory.create("merror");if(e.fullErrors||r){var i=this.factory.create("mtext"),o=this.factory.create("text");o.setText(e.fullErrors?t:this.kind),i.appendChild(o),n.appendChild(i),this.parent.replaceChild(n,this)}else this.parent.replaceChild(n,this),n.appendChild(this);return n},e.defaults={mathbackground:nt.INHERIT,mathcolor:nt.INHERIT,mathsize:nt.INHERIT,dir:nt.INHERIT},e.noInherit={mstyle:{mpadded:{width:!0,height:!0,depth:!0,lspace:!0,voffset:!0},mtable:{width:!0,height:!0,depth:!0,align:!0}},maligngroup:{mrow:{groupalign:!0},mtable:{groupalign:!0}}},e.alwaysInherit={scriptminsize:!0,scriptsizemultiplier:!0},e.verifyDefaults={checkArity:!0,checkAttributes:!1,fullErrors:!1,fixMmultiscripts:!0,fixMtables:!0},e}(st.AbstractNode);Y.AbstractMmlNode=ft;var pt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Z(e,t),Object.defineProperty(e.prototype,"isToken",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.getText=function(){var t,e,r="";try{for(var n=et(this.childNodes),i=n.next();!i.done;i=n.next()){var o=i.value;o instanceof vt&&(r+=o.getText())}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return r},e.prototype.setChildInheritedAttributes=function(t,e,r,n){var i,o;try{for(var s=et(this.childNodes),a=s.next();!a.done;a=s.next()){var l=a.value;l instanceof ft&&l.setInheritedAttributes(t,e,r,n)}}catch(t){i={error:t}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}},e.prototype.walkTree=function(t,e){var r,n;t(this,e);try{for(var i=et(this.childNodes),o=i.next();!o.done;o=i.next()){var s=o.value;s instanceof ft&&s.walkTree(t,e)}}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return e},e.defaults=tt(tt({},ft.defaults),{mathvariant:"normal",mathsize:nt.INHERIT}),e}(ft);Y.AbstractMmlTokenNode=pt;var mt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Z(e,t),Object.defineProperty(e.prototype,"isSpacelike",{get:function(){return this.childNodes[0].isSpacelike},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEmbellished",{get:function(){return this.childNodes[0].isEmbellished},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return-1},enumerable:!1,configurable:!0}),e.prototype.core=function(){return this.childNodes[0]},e.prototype.coreMO=function(){return this.childNodes[0].coreMO()},e.prototype.setTeXclass=function(t){return t=this.childNodes[0].setTeXclass(t),this.updateTeXclass(this.childNodes[0]),t},e.defaults=ft.defaults,e}(ft);Y.AbstractMmlLayoutNode=mt;var gt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Z(e,t),Object.defineProperty(e.prototype,"isEmbellished",{get:function(){return this.childNodes[0].isEmbellished},enumerable:!1,configurable:!0}),e.prototype.core=function(){return this.childNodes[0]},e.prototype.coreMO=function(){return this.childNodes[0].coreMO()},e.prototype.setTeXclass=function(t){var e,r;this.getPrevClass(t),this.texClass=Y.TEXCLASS.ORD;var n=this.childNodes[0];n?this.isEmbellished||n.isKind("mi")?(t=n.setTeXclass(t),this.updateTeXclass(this.core())):(n.setTeXclass(null),t=this):t=this;try{for(var i=et(this.childNodes.slice(1)),o=i.next();!o.done;o=i.next()){var s=o.value;s&&s.setTeXclass(null)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return t},e.defaults=ft.defaults,e}(ft);Y.AbstractMmlBaseNode=gt;var yt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Z(e,t),Object.defineProperty(e.prototype,"isToken",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEmbellished",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSpacelike",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"linebreakContainer",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasNewLine",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isInferred",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"notParent",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Parent",{get:function(){return this.parent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texClass",{get:function(){return Y.TEXCLASS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"prevClass",{get:function(){return Y.TEXCLASS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"prevLevel",{get:function(){return 0},enumerable:!1,configurable:!0}),e.prototype.hasSpacingAttributes=function(){return!1},Object.defineProperty(e.prototype,"attributes",{get:function(){return null},enumerable:!1,configurable:!0}),e.prototype.core=function(){return this},e.prototype.coreMO=function(){return this},e.prototype.coreIndex=function(){return 0},e.prototype.childPosition=function(){return 0},e.prototype.setTeXclass=function(t){return t},e.prototype.texSpacing=function(){return""},e.prototype.setInheritedAttributes=function(t,e,r,n){},e.prototype.inheritAttributesFrom=function(t){},e.prototype.verifyTree=function(t){},e.prototype.mError=function(t,e,r){void 0===r&&(r=!1)},e}(st.AbstractEmptyNode);Y.AbstractMmlEmptyNode=yt;var vt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.text="",e}return Z(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"text"},enumerable:!1,configurable:!0}),e.prototype.getText=function(){return this.text},e.prototype.setText=function(t){return this.text=t,this},e.prototype.toString=function(){return this.text},e}(yt);Y.TextNode=vt;var bt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.xml=null,e.adaptor=null,e}return Z(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"XML"},enumerable:!1,configurable:!0}),e.prototype.getXML=function(){return this.xml},e.prototype.setXML=function(t,e){return void 0===e&&(e=null),this.xml=t,this.adaptor=e,this},e.prototype.getSerializedXML=function(){return this.adaptor.serializeXML(this.xml)},e.prototype.toString=function(){return"XML data"},e}(yt);Y.XMLNode=bt;var At={},Ct=At&&At.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wt=At&&At.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},xt=At&&At.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(At,"__esModule",{value:!0});var Et={},St=Et&&Et.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Mt=Et&&Et.__assign||function(){return(Mt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Ot=Et&&Et.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},_t=Et&&Et.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Et,"__esModule",{value:!0}),Et.MmlMo=void 0;var Tt={};function Ft(t,e,r,n){return void 0===r&&(r=Y.TEXCLASS.BIN),void 0===n&&(n=null),[t,e,r,n]}Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.OPTABLE=Tt.MMLSPACING=Tt.RANGES=Tt.MO=Tt.OPDEF=void 0,Tt.OPDEF=Ft,Tt.MO={ORD:Ft(0,0,Y.TEXCLASS.ORD),ORD11:Ft(1,1,Y.TEXCLASS.ORD),ORD21:Ft(2,1,Y.TEXCLASS.ORD),ORD02:Ft(0,2,Y.TEXCLASS.ORD),ORD55:Ft(5,5,Y.TEXCLASS.ORD),OP:Ft(1,2,Y.TEXCLASS.OP,{largeop:!0,movablelimits:!0,symmetric:!0}),OPFIXED:Ft(1,2,Y.TEXCLASS.OP,{largeop:!0,movablelimits:!0}),INTEGRAL:Ft(0,1,Y.TEXCLASS.OP,{largeop:!0,symmetric:!0}),INTEGRAL2:Ft(1,2,Y.TEXCLASS.OP,{largeop:!0,symmetric:!0}),BIN3:Ft(3,3,Y.TEXCLASS.BIN),BIN4:Ft(4,4,Y.TEXCLASS.BIN),BIN01:Ft(0,1,Y.TEXCLASS.BIN),BIN5:Ft(5,5,Y.TEXCLASS.BIN),TALLBIN:Ft(4,4,Y.TEXCLASS.BIN,{stretchy:!0}),BINOP:Ft(4,4,Y.TEXCLASS.BIN,{largeop:!0,movablelimits:!0}),REL:Ft(5,5,Y.TEXCLASS.REL),REL1:Ft(1,1,Y.TEXCLASS.REL,{stretchy:!0}),REL4:Ft(4,4,Y.TEXCLASS.REL),RELSTRETCH:Ft(5,5,Y.TEXCLASS.REL,{stretchy:!0}),RELACCENT:Ft(5,5,Y.TEXCLASS.REL,{accent:!0}),WIDEREL:Ft(5,5,Y.TEXCLASS.REL,{accent:!0,stretchy:!0}),OPEN:Ft(0,0,Y.TEXCLASS.OPEN,{fence:!0,stretchy:!0,symmetric:!0}),CLOSE:Ft(0,0,Y.TEXCLASS.CLOSE,{fence:!0,stretchy:!0,symmetric:!0}),INNER:Ft(0,0,Y.TEXCLASS.INNER),PUNCT:Ft(0,3,Y.TEXCLASS.PUNCT),ACCENT:Ft(0,0,Y.TEXCLASS.ORD,{accent:!0}),WIDEACCENT:Ft(0,0,Y.TEXCLASS.ORD,{accent:!0,stretchy:!0})},Tt.RANGES=[[32,127,Y.TEXCLASS.REL,"BasicLatin"],[160,255,Y.TEXCLASS.ORD,"Latin1Supplement"],[256,383,Y.TEXCLASS.ORD,"LatinExtendedA"],[384,591,Y.TEXCLASS.ORD,"LatinExtendedB"],[688,767,Y.TEXCLASS.ORD,"SpacingModLetters"],[768,879,Y.TEXCLASS.ORD,"CombDiacritMarks"],[880,1023,Y.TEXCLASS.ORD,"GreekAndCoptic"],[7680,7935,Y.TEXCLASS.ORD,"LatinExtendedAdditional"],[8192,8303,Y.TEXCLASS.PUNCT,"GeneralPunctuation"],[8304,8351,Y.TEXCLASS.ORD,"SuperAndSubscripts"],[8352,8399,Y.TEXCLASS.ORD,"Currency"],[8400,8447,Y.TEXCLASS.ORD,"CombDiactForSymbols"],[8448,8527,Y.TEXCLASS.ORD,"LetterlikeSymbols"],[8528,8591,Y.TEXCLASS.ORD,"NumberForms"],[8592,8703,Y.TEXCLASS.REL,"Arrows"],[8704,8959,Y.TEXCLASS.BIN,"MathOperators"],[8960,9215,Y.TEXCLASS.ORD,"MiscTechnical"],[9312,9471,Y.TEXCLASS.ORD,"EnclosedAlphaNums"],[9472,9631,Y.TEXCLASS.ORD,"BoxDrawing"],[9632,9727,Y.TEXCLASS.ORD,"GeometricShapes"],[9984,10175,Y.TEXCLASS.ORD,"Dingbats"],[10176,10223,Y.TEXCLASS.ORD,"MiscMathSymbolsA"],[10224,10239,Y.TEXCLASS.REL,"SupplementalArrowsA"],[10496,10623,Y.TEXCLASS.REL,"SupplementalArrowsB"],[10624,10751,Y.TEXCLASS.ORD,"MiscMathSymbolsB"],[10752,11007,Y.TEXCLASS.BIN,"SuppMathOperators"],[11008,11263,Y.TEXCLASS.ORD,"MiscSymbolsAndArrows"],[119808,120831,Y.TEXCLASS.ORD,"MathAlphabets"]],Tt.MMLSPACING=[[0,0],[1,2],[3,3],[4,4],[0,0],[0,0],[0,3]],Tt.OPTABLE={prefix:{"(":Tt.MO.OPEN,"+":Tt.MO.BIN01,"-":Tt.MO.BIN01,"[":Tt.MO.OPEN,"{":Tt.MO.OPEN,"|":Tt.MO.OPEN,"||":[0,0,Y.TEXCLASS.BIN,{fence:!0,stretchy:!0,symmetric:!0}],"|||":[0,0,Y.TEXCLASS.ORD,{fence:!0,stretchy:!0,symmetric:!0}],"¬":Tt.MO.ORD21,"±":Tt.MO.BIN01,"‖":[0,0,Y.TEXCLASS.ORD,{fence:!0,stretchy:!0}],"‘":[0,0,Y.TEXCLASS.OPEN,{fence:!0}],"“":[0,0,Y.TEXCLASS.OPEN,{fence:!0}],"ⅅ":Tt.MO.ORD21,"ⅆ":Ft(2,0,Y.TEXCLASS.ORD),"∀":Tt.MO.ORD21,"∂":Tt.MO.ORD21,"∃":Tt.MO.ORD21,"∄":Tt.MO.ORD21,"∇":Tt.MO.ORD21,"∏":Tt.MO.OP,"∐":Tt.MO.OP,"∑":Tt.MO.OP,"−":Tt.MO.BIN01,"∓":Tt.MO.BIN01,"√":[1,1,Y.TEXCLASS.ORD,{stretchy:!0}],"∛":Tt.MO.ORD11,"∜":Tt.MO.ORD11,"∠":Tt.MO.ORD,"∡":Tt.MO.ORD,"∢":Tt.MO.ORD,"∫":Tt.MO.INTEGRAL,"∬":Tt.MO.INTEGRAL,"∭":Tt.MO.INTEGRAL,"∮":Tt.MO.INTEGRAL,"∯":Tt.MO.INTEGRAL,"∰":Tt.MO.INTEGRAL,"∱":Tt.MO.INTEGRAL,"∲":Tt.MO.INTEGRAL,"∳":Tt.MO.INTEGRAL,"⋀":Tt.MO.OP,"⋁":Tt.MO.OP,"⋂":Tt.MO.OP,"⋃":Tt.MO.OP,"⌈":Tt.MO.OPEN,"⌊":Tt.MO.OPEN,"〈":Tt.MO.OPEN,"❲":Tt.MO.OPEN,"⟦":Tt.MO.OPEN,"⟨":Tt.MO.OPEN,"⟪":Tt.MO.OPEN,"⟬":Tt.MO.OPEN,"⟮":Tt.MO.OPEN,"⦀":[0,0,Y.TEXCLASS.ORD,{fence:!0,stretchy:!0}],"⦃":Tt.MO.OPEN,"⦅":Tt.MO.OPEN,"⦇":Tt.MO.OPEN,"⦉":Tt.MO.OPEN,"⦋":Tt.MO.OPEN,"⦍":Tt.MO.OPEN,"⦏":Tt.MO.OPEN,"⦑":Tt.MO.OPEN,"⦓":Tt.MO.OPEN,"⦕":Tt.MO.OPEN,"⦗":Tt.MO.OPEN,"⧼":Tt.MO.OPEN,"⨀":Tt.MO.OP,"⨁":Tt.MO.OP,"⨂":Tt.MO.OP,"⨃":Tt.MO.OP,"⨄":Tt.MO.OP,"⨅":Tt.MO.OP,"⨆":Tt.MO.OP,"⨇":Tt.MO.OP,"⨈":Tt.MO.OP,"⨉":Tt.MO.OP,"⨊":Tt.MO.OP,"⨋":Tt.MO.INTEGRAL2,"⨌":Tt.MO.INTEGRAL,"⨍":Tt.MO.INTEGRAL2,"⨎":Tt.MO.INTEGRAL2,"⨏":Tt.MO.INTEGRAL2,"⨐":Tt.MO.OP,"⨑":Tt.MO.OP,"⨒":Tt.MO.OP,"⨓":Tt.MO.OP,"⨔":Tt.MO.OP,"⨕":Tt.MO.INTEGRAL2,"⨖":Tt.MO.INTEGRAL2,"⨗":Tt.MO.INTEGRAL2,"⨘":Tt.MO.INTEGRAL2,"⨙":Tt.MO.INTEGRAL2,"⨚":Tt.MO.INTEGRAL2,"⨛":Tt.MO.INTEGRAL2,"⨜":Tt.MO.INTEGRAL2,"⫼":Tt.MO.OP,"⫿":Tt.MO.OP},postfix:{"!!":Ft(1,0),"!":[1,0,Y.TEXCLASS.CLOSE,null],'"':Tt.MO.ACCENT,"&":Tt.MO.ORD,")":Tt.MO.CLOSE,"++":Ft(0,0),"--":Ft(0,0),"..":Ft(0,0),"...":Tt.MO.ORD,"'":Tt.MO.ACCENT,"]":Tt.MO.CLOSE,"^":Tt.MO.WIDEACCENT,_:Tt.MO.WIDEACCENT,"`":Tt.MO.ACCENT,"|":Tt.MO.CLOSE,"}":Tt.MO.CLOSE,"~":Tt.MO.WIDEACCENT,"||":[0,0,Y.TEXCLASS.BIN,{fence:!0,stretchy:!0,symmetric:!0}],"|||":[0,0,Y.TEXCLASS.ORD,{fence:!0,stretchy:!0,symmetric:!0}],"¨":Tt.MO.ACCENT,"ª":Tt.MO.ACCENT,"¯":Tt.MO.WIDEACCENT,"°":Tt.MO.ORD,"²":Tt.MO.ACCENT,"³":Tt.MO.ACCENT,"´":Tt.MO.ACCENT,"¸":Tt.MO.ACCENT,"¹":Tt.MO.ACCENT,"º":Tt.MO.ACCENT,"ˆ":Tt.MO.WIDEACCENT,"ˇ":Tt.MO.WIDEACCENT,"ˉ":Tt.MO.WIDEACCENT,"ˊ":Tt.MO.ACCENT,"ˋ":Tt.MO.ACCENT,"ˍ":Tt.MO.WIDEACCENT,"˘":Tt.MO.ACCENT,"˙":Tt.MO.ACCENT,"˚":Tt.MO.ACCENT,"˜":Tt.MO.WIDEACCENT,"˝":Tt.MO.ACCENT,"˷":Tt.MO.WIDEACCENT,"̂":Tt.MO.WIDEACCENT,"̑":Tt.MO.ACCENT,"϶":Tt.MO.REL,"‖":[0,0,Y.TEXCLASS.ORD,{fence:!0,stretchy:!0}],"’":[0,0,Y.TEXCLASS.CLOSE,{fence:!0}],"‚":Tt.MO.ACCENT,"‛":Tt.MO.ACCENT,"”":[0,0,Y.TEXCLASS.CLOSE,{fence:!0}],"„":Tt.MO.ACCENT,"‟":Tt.MO.ACCENT,"′":Tt.MO.ORD,"″":Tt.MO.ACCENT,"‴":Tt.MO.ACCENT,"‵":Tt.MO.ACCENT,"‶":Tt.MO.ACCENT,"‷":Tt.MO.ACCENT,"‾":Tt.MO.WIDEACCENT,"⁗":Tt.MO.ACCENT,"⃛":Tt.MO.ACCENT,"⃜":Tt.MO.ACCENT,"⌉":Tt.MO.CLOSE,"⌋":Tt.MO.CLOSE,"〉":Tt.MO.CLOSE,"⎴":Tt.MO.WIDEACCENT,"⎵":Tt.MO.WIDEACCENT,"⏜":Tt.MO.WIDEACCENT,"⏝":Tt.MO.WIDEACCENT,"⏞":Tt.MO.WIDEACCENT,"⏟":Tt.MO.WIDEACCENT,"⏠":Tt.MO.WIDEACCENT,"⏡":Tt.MO.WIDEACCENT,"■":Tt.MO.BIN3,"□":Tt.MO.BIN3,"▪":Tt.MO.BIN3,"▫":Tt.MO.BIN3,"▭":Tt.MO.BIN3,"▮":Tt.MO.BIN3,"▯":Tt.MO.BIN3,"▰":Tt.MO.BIN3,"▱":Tt.MO.BIN3,"▲":Tt.MO.BIN4,"▴":Tt.MO.BIN4,"▶":Tt.MO.BIN4,"▷":Tt.MO.BIN4,"▸":Tt.MO.BIN4,"▼":Tt.MO.BIN4,"▾":Tt.MO.BIN4,"◀":Tt.MO.BIN4,"◁":Tt.MO.BIN4,"◂":Tt.MO.BIN4,"◄":Tt.MO.BIN4,"◅":Tt.MO.BIN4,"◆":Tt.MO.BIN4,"◇":Tt.MO.BIN4,"◈":Tt.MO.BIN4,"◉":Tt.MO.BIN4,"◌":Tt.MO.BIN4,"◍":Tt.MO.BIN4,"◎":Tt.MO.BIN4,"●":Tt.MO.BIN4,"◖":Tt.MO.BIN4,"◗":Tt.MO.BIN4,"◦":Tt.MO.BIN4,"♭":Tt.MO.ORD02,"♮":Tt.MO.ORD02,"♯":Tt.MO.ORD02,"❳":Tt.MO.CLOSE,"⟧":Tt.MO.CLOSE,"⟩":Tt.MO.CLOSE,"⟫":Tt.MO.CLOSE,"⟭":Tt.MO.CLOSE,"⟯":Tt.MO.CLOSE,"⦀":[0,0,Y.TEXCLASS.ORD,{fence:!0,stretchy:!0}],"⦄":Tt.MO.CLOSE,"⦆":Tt.MO.CLOSE,"⦈":Tt.MO.CLOSE,"⦊":Tt.MO.CLOSE,"⦌":Tt.MO.CLOSE,"⦎":Tt.MO.CLOSE,"⦐":Tt.MO.CLOSE,"⦒":Tt.MO.CLOSE,"⦔":Tt.MO.CLOSE,"⦖":Tt.MO.CLOSE,"⦘":Tt.MO.CLOSE,"⧽":Tt.MO.CLOSE},infix:{"!=":Tt.MO.BIN4,"#":Tt.MO.ORD,$:Tt.MO.ORD,"%":[3,3,Y.TEXCLASS.ORD,null],"&&":Tt.MO.BIN4,"":Tt.MO.ORD,"*":Tt.MO.BIN3,"**":Ft(1,1),"*=":Tt.MO.BIN4,"+":Tt.MO.BIN4,"+=":Tt.MO.BIN4,",":[0,3,Y.TEXCLASS.PUNCT,{linebreakstyle:"after",separator:!0}],"-":Tt.MO.BIN4,"-=":Tt.MO.BIN4,"->":Tt.MO.BIN5,".":[0,3,Y.TEXCLASS.PUNCT,{separator:!0}],"/":Tt.MO.ORD11,"//":Ft(1,1),"/=":Tt.MO.BIN4,":":[1,2,Y.TEXCLASS.REL,null],":=":Tt.MO.BIN4,";":[0,3,Y.TEXCLASS.PUNCT,{linebreakstyle:"after",separator:!0}],"<":Tt.MO.REL,"<=":Tt.MO.BIN5,"<>":Ft(1,1),"=":Tt.MO.REL,"==":Tt.MO.BIN4,">":Tt.MO.REL,">=":Tt.MO.BIN5,"?":[1,1,Y.TEXCLASS.CLOSE,null],"@":Tt.MO.ORD11,"\\":Tt.MO.ORD,"^":Tt.MO.ORD11,_:Tt.MO.ORD11,"|":[2,2,Y.TEXCLASS.ORD,{fence:!0,stretchy:!0,symmetric:!0}],"||":[2,2,Y.TEXCLASS.BIN,{fence:!0,stretchy:!0,symmetric:!0}],"|||":[2,2,Y.TEXCLASS.ORD,{fence:!0,stretchy:!0,symmetric:!0}],"±":Tt.MO.BIN4,"·":Tt.MO.BIN4,"×":Tt.MO.BIN4,"÷":Tt.MO.BIN4,"ʹ":Tt.MO.ORD,"̀":Tt.MO.ACCENT,"́":Tt.MO.ACCENT,"̃":Tt.MO.WIDEACCENT,"̄":Tt.MO.ACCENT,"̆":Tt.MO.ACCENT,"̇":Tt.MO.ACCENT,"̈":Tt.MO.ACCENT,"̌":Tt.MO.ACCENT,"̲":Tt.MO.WIDEACCENT,"̸":Tt.MO.REL4,"―":[0,0,Y.TEXCLASS.ORD,{stretchy:!0}],"‗":[0,0,Y.TEXCLASS.ORD,{stretchy:!0}],"†":Tt.MO.BIN3,"‡":Tt.MO.BIN3,"•":Tt.MO.BIN4,"…":Tt.MO.INNER,"⁃":Tt.MO.BIN4,"⁄":Tt.MO.TALLBIN,"⁡":Tt.MO.ORD,"⁢":Tt.MO.ORD,"⁣":[0,0,Y.TEXCLASS.ORD,{linebreakstyle:"after",separator:!0}],"⁤":Tt.MO.ORD,"⃗":Tt.MO.ACCENT,"ℑ":Tt.MO.ORD,"ℓ":Tt.MO.ORD,"℘":Tt.MO.ORD,"ℜ":Tt.MO.ORD,"←":Tt.MO.WIDEREL,"↑":Tt.MO.RELSTRETCH,"→":Tt.MO.WIDEREL,"↓":Tt.MO.RELSTRETCH,"↔":Tt.MO.WIDEREL,"↕":Tt.MO.RELSTRETCH,"↖":Tt.MO.RELSTRETCH,"↗":Tt.MO.RELSTRETCH,"↘":Tt.MO.RELSTRETCH,"↙":Tt.MO.RELSTRETCH,"↚":Tt.MO.RELACCENT,"↛":Tt.MO.RELACCENT,"↜":Tt.MO.WIDEREL,"↝":Tt.MO.WIDEREL,"↞":Tt.MO.WIDEREL,"↟":Tt.MO.WIDEREL,"↠":Tt.MO.WIDEREL,"↡":Tt.MO.RELSTRETCH,"↢":Tt.MO.WIDEREL,"↣":Tt.MO.WIDEREL,"↤":Tt.MO.WIDEREL,"↥":Tt.MO.RELSTRETCH,"↦":Tt.MO.WIDEREL,"↧":Tt.MO.RELSTRETCH,"↨":Tt.MO.RELSTRETCH,"↩":Tt.MO.WIDEREL,"↪":Tt.MO.WIDEREL,"↫":Tt.MO.WIDEREL,"↬":Tt.MO.WIDEREL,"↭":Tt.MO.WIDEREL,"↮":Tt.MO.RELACCENT,"↯":Tt.MO.RELSTRETCH,"↰":Tt.MO.RELSTRETCH,"↱":Tt.MO.RELSTRETCH,"↲":Tt.MO.RELSTRETCH,"↳":Tt.MO.RELSTRETCH,"↴":Tt.MO.RELSTRETCH,"↵":Tt.MO.RELSTRETCH,"↶":Tt.MO.RELACCENT,"↷":Tt.MO.RELACCENT,"↸":Tt.MO.REL,"↹":Tt.MO.WIDEREL,"↺":Tt.MO.REL,"↻":Tt.MO.REL,"↼":Tt.MO.WIDEREL,"↽":Tt.MO.WIDEREL,"↾":Tt.MO.RELSTRETCH,"↿":Tt.MO.RELSTRETCH,"⇀":Tt.MO.WIDEREL,"⇁":Tt.MO.WIDEREL,"⇂":Tt.MO.RELSTRETCH,"⇃":Tt.MO.RELSTRETCH,"⇄":Tt.MO.WIDEREL,"⇅":Tt.MO.RELSTRETCH,"⇆":Tt.MO.WIDEREL,"⇇":Tt.MO.WIDEREL,"⇈":Tt.MO.RELSTRETCH,"⇉":Tt.MO.WIDEREL,"⇊":Tt.MO.RELSTRETCH,"⇋":Tt.MO.WIDEREL,"⇌":Tt.MO.WIDEREL,"⇍":Tt.MO.RELACCENT,"⇎":Tt.MO.RELACCENT,"⇏":Tt.MO.RELACCENT,"⇐":Tt.MO.WIDEREL,"⇑":Tt.MO.RELSTRETCH,"⇒":Tt.MO.WIDEREL,"⇓":Tt.MO.RELSTRETCH,"⇔":Tt.MO.WIDEREL,"⇕":Tt.MO.RELSTRETCH,"⇖":Tt.MO.RELSTRETCH,"⇗":Tt.MO.RELSTRETCH,"⇘":Tt.MO.RELSTRETCH,"⇙":Tt.MO.RELSTRETCH,"⇚":Tt.MO.WIDEREL,"⇛":Tt.MO.WIDEREL,"⇜":Tt.MO.WIDEREL,"⇝":Tt.MO.WIDEREL,"⇞":Tt.MO.REL,"⇟":Tt.MO.REL,"⇠":Tt.MO.WIDEREL,"⇡":Tt.MO.RELSTRETCH,"⇢":Tt.MO.WIDEREL,"⇣":Tt.MO.RELSTRETCH,"⇤":Tt.MO.WIDEREL,"⇥":Tt.MO.WIDEREL,"⇦":Tt.MO.WIDEREL,"⇧":Tt.MO.RELSTRETCH,"⇨":Tt.MO.WIDEREL,"⇩":Tt.MO.RELSTRETCH,"⇪":Tt.MO.RELSTRETCH,"⇫":Tt.MO.RELSTRETCH,"⇬":Tt.MO.RELSTRETCH,"⇭":Tt.MO.RELSTRETCH,"⇮":Tt.MO.RELSTRETCH,"⇯":Tt.MO.RELSTRETCH,"⇰":Tt.MO.WIDEREL,"⇱":Tt.MO.REL,"⇲":Tt.MO.REL,"⇳":Tt.MO.RELSTRETCH,"⇴":Tt.MO.RELACCENT,"⇵":Tt.MO.RELSTRETCH,"⇶":Tt.MO.WIDEREL,"⇷":Tt.MO.RELACCENT,"⇸":Tt.MO.RELACCENT,"⇹":Tt.MO.RELACCENT,"⇺":Tt.MO.RELACCENT,"⇻":Tt.MO.RELACCENT,"⇼":Tt.MO.RELACCENT,"⇽":Tt.MO.WIDEREL,"⇾":Tt.MO.WIDEREL,"⇿":Tt.MO.WIDEREL,"∁":Ft(1,2,Y.TEXCLASS.ORD),"∅":Tt.MO.ORD,"∆":Tt.MO.BIN3,"∈":Tt.MO.REL,"∉":Tt.MO.REL,"∊":Tt.MO.REL,"∋":Tt.MO.REL,"∌":Tt.MO.REL,"∍":Tt.MO.REL,"∎":Tt.MO.BIN3,"−":Tt.MO.BIN4,"∓":Tt.MO.BIN4,"∔":Tt.MO.BIN4,"∕":Tt.MO.TALLBIN,"∖":Tt.MO.BIN4,"∗":Tt.MO.BIN4,"∘":Tt.MO.BIN4,"∙":Tt.MO.BIN4,"∝":Tt.MO.REL,"∞":Tt.MO.ORD,"∟":Tt.MO.REL,"∣":Tt.MO.REL,"∤":Tt.MO.REL,"∥":Tt.MO.REL,"∦":Tt.MO.REL,"∧":Tt.MO.BIN4,"∨":Tt.MO.BIN4,"∩":Tt.MO.BIN4,"∪":Tt.MO.BIN4,"∴":Tt.MO.REL,"∵":Tt.MO.REL,"∶":Tt.MO.REL,"∷":Tt.MO.REL,"∸":Tt.MO.BIN4,"∹":Tt.MO.REL,"∺":Tt.MO.BIN4,"∻":Tt.MO.REL,"∼":Tt.MO.REL,"∽":Tt.MO.REL,"∽̱":Tt.MO.BIN3,"∾":Tt.MO.REL,"∿":Tt.MO.BIN3,"≀":Tt.MO.BIN4,"≁":Tt.MO.REL,"≂":Tt.MO.REL,"≂̸":Tt.MO.REL,"≃":Tt.MO.REL,"≄":Tt.MO.REL,"≅":Tt.MO.REL,"≆":Tt.MO.REL,"≇":Tt.MO.REL,"≈":Tt.MO.REL,"≉":Tt.MO.REL,"≊":Tt.MO.REL,"≋":Tt.MO.REL,"≌":Tt.MO.REL,"≍":Tt.MO.REL,"≎":Tt.MO.REL,"≎̸":Tt.MO.REL,"≏":Tt.MO.REL,"≏̸":Tt.MO.REL,"≐":Tt.MO.REL,"≑":Tt.MO.REL,"≒":Tt.MO.REL,"≓":Tt.MO.REL,"≔":Tt.MO.REL,"≕":Tt.MO.REL,"≖":Tt.MO.REL,"≗":Tt.MO.REL,"≘":Tt.MO.REL,"≙":Tt.MO.REL,"≚":Tt.MO.REL,"≛":Tt.MO.REL,"≜":Tt.MO.REL,"≝":Tt.MO.REL,"≞":Tt.MO.REL,"≟":Tt.MO.REL,"≠":Tt.MO.REL,"≡":Tt.MO.REL,"≢":Tt.MO.REL,"≣":Tt.MO.REL,"≤":Tt.MO.REL,"≥":Tt.MO.REL,"≦":Tt.MO.REL,"≦̸":Tt.MO.REL,"≧":Tt.MO.REL,"≨":Tt.MO.REL,"≩":Tt.MO.REL,"≪":Tt.MO.REL,"≪̸":Tt.MO.REL,"≫":Tt.MO.REL,"≫̸":Tt.MO.REL,"≬":Tt.MO.REL,"≭":Tt.MO.REL,"≮":Tt.MO.REL,"≯":Tt.MO.REL,"≰":Tt.MO.REL,"≱":Tt.MO.REL,"≲":Tt.MO.REL,"≳":Tt.MO.REL,"≴":Tt.MO.REL,"≵":Tt.MO.REL,"≶":Tt.MO.REL,"≷":Tt.MO.REL,"≸":Tt.MO.REL,"≹":Tt.MO.REL,"≺":Tt.MO.REL,"≻":Tt.MO.REL,"≼":Tt.MO.REL,"≽":Tt.MO.REL,"≾":Tt.MO.REL,"≿":Tt.MO.REL,"≿̸":Tt.MO.REL,"⊀":Tt.MO.REL,"⊁":Tt.MO.REL,"⊂":Tt.MO.REL,"⊂⃒":Tt.MO.REL,"⊃":Tt.MO.REL,"⊃⃒":Tt.MO.REL,"⊄":Tt.MO.REL,"⊅":Tt.MO.REL,"⊆":Tt.MO.REL,"⊇":Tt.MO.REL,"⊈":Tt.MO.REL,"⊉":Tt.MO.REL,"⊊":Tt.MO.REL,"⊋":Tt.MO.REL,"⊌":Tt.MO.BIN4,"⊍":Tt.MO.BIN4,"⊎":Tt.MO.BIN4,"⊏":Tt.MO.REL,"⊏̸":Tt.MO.REL,"⊐":Tt.MO.REL,"⊐̸":Tt.MO.REL,"⊑":Tt.MO.REL,"⊒":Tt.MO.REL,"⊓":Tt.MO.BIN4,"⊔":Tt.MO.BIN4,"⊕":Tt.MO.BIN4,"⊖":Tt.MO.BIN4,"⊗":Tt.MO.BIN4,"⊘":Tt.MO.BIN4,"⊙":Tt.MO.BIN4,"⊚":Tt.MO.BIN4,"⊛":Tt.MO.BIN4,"⊜":Tt.MO.BIN4,"⊝":Tt.MO.BIN4,"⊞":Tt.MO.BIN4,"⊟":Tt.MO.BIN4,"⊠":Tt.MO.BIN4,"⊡":Tt.MO.BIN4,"⊢":Tt.MO.REL,"⊣":Tt.MO.REL,"⊤":Tt.MO.ORD55,"⊥":Tt.MO.REL,"⊦":Tt.MO.REL,"⊧":Tt.MO.REL,"⊨":Tt.MO.REL,"⊩":Tt.MO.REL,"⊪":Tt.MO.REL,"⊫":Tt.MO.REL,"⊬":Tt.MO.REL,"⊭":Tt.MO.REL,"⊮":Tt.MO.REL,"⊯":Tt.MO.REL,"⊰":Tt.MO.REL,"⊱":Tt.MO.REL,"⊲":Tt.MO.REL,"⊳":Tt.MO.REL,"⊴":Tt.MO.REL,"⊵":Tt.MO.REL,"⊶":Tt.MO.REL,"⊷":Tt.MO.REL,"⊸":Tt.MO.REL,"⊹":Tt.MO.REL,"⊺":Tt.MO.BIN4,"⊻":Tt.MO.BIN4,"⊼":Tt.MO.BIN4,"⊽":Tt.MO.BIN4,"⊾":Tt.MO.BIN3,"⊿":Tt.MO.BIN3,"⋄":Tt.MO.BIN4,"⋅":Tt.MO.BIN4,"⋆":Tt.MO.BIN4,"⋇":Tt.MO.BIN4,"⋈":Tt.MO.REL,"⋉":Tt.MO.BIN4,"⋊":Tt.MO.BIN4,"⋋":Tt.MO.BIN4,"⋌":Tt.MO.BIN4,"⋍":Tt.MO.REL,"⋎":Tt.MO.BIN4,"⋏":Tt.MO.BIN4,"⋐":Tt.MO.REL,"⋑":Tt.MO.REL,"⋒":Tt.MO.BIN4,"⋓":Tt.MO.BIN4,"⋔":Tt.MO.REL,"⋕":Tt.MO.REL,"⋖":Tt.MO.REL,"⋗":Tt.MO.REL,"⋘":Tt.MO.REL,"⋙":Tt.MO.REL,"⋚":Tt.MO.REL,"⋛":Tt.MO.REL,"⋜":Tt.MO.REL,"⋝":Tt.MO.REL,"⋞":Tt.MO.REL,"⋟":Tt.MO.REL,"⋠":Tt.MO.REL,"⋡":Tt.MO.REL,"⋢":Tt.MO.REL,"⋣":Tt.MO.REL,"⋤":Tt.MO.REL,"⋥":Tt.MO.REL,"⋦":Tt.MO.REL,"⋧":Tt.MO.REL,"⋨":Tt.MO.REL,"⋩":Tt.MO.REL,"⋪":Tt.MO.REL,"⋫":Tt.MO.REL,"⋬":Tt.MO.REL,"⋭":Tt.MO.REL,"⋮":Tt.MO.ORD55,"⋯":Tt.MO.INNER,"⋰":Tt.MO.REL,"⋱":[5,5,Y.TEXCLASS.INNER,null],"⋲":Tt.MO.REL,"⋳":Tt.MO.REL,"⋴":Tt.MO.REL,"⋵":Tt.MO.REL,"⋶":Tt.MO.REL,"⋷":Tt.MO.REL,"⋸":Tt.MO.REL,"⋹":Tt.MO.REL,"⋺":Tt.MO.REL,"⋻":Tt.MO.REL,"⋼":Tt.MO.REL,"⋽":Tt.MO.REL,"⋾":Tt.MO.REL,"⋿":Tt.MO.REL,"⌅":Tt.MO.BIN3,"⌆":Tt.MO.BIN3,"⌢":Tt.MO.REL4,"⌣":Tt.MO.REL4,"〈":Tt.MO.OPEN,"〉":Tt.MO.CLOSE,"⎪":Tt.MO.ORD,"⎯":[0,0,Y.TEXCLASS.ORD,{stretchy:!0}],"⎰":Tt.MO.OPEN,"⎱":Tt.MO.CLOSE,"─":Tt.MO.ORD,"△":Tt.MO.BIN4,"▵":Tt.MO.BIN4,"▹":Tt.MO.BIN4,"▽":Tt.MO.BIN4,"▿":Tt.MO.BIN4,"◃":Tt.MO.BIN4,"◯":Tt.MO.BIN3,"♠":Tt.MO.ORD,"♡":Tt.MO.ORD,"♢":Tt.MO.ORD,"♣":Tt.MO.ORD,"❘":Tt.MO.REL,"⟰":Tt.MO.RELSTRETCH,"⟱":Tt.MO.RELSTRETCH,"⟵":Tt.MO.WIDEREL,"⟶":Tt.MO.WIDEREL,"⟷":Tt.MO.WIDEREL,"⟸":Tt.MO.WIDEREL,"⟹":Tt.MO.WIDEREL,"⟺":Tt.MO.WIDEREL,"⟻":Tt.MO.WIDEREL,"⟼":Tt.MO.WIDEREL,"⟽":Tt.MO.WIDEREL,"⟾":Tt.MO.WIDEREL,"⟿":Tt.MO.WIDEREL,"⤀":Tt.MO.RELACCENT,"⤁":Tt.MO.RELACCENT,"⤂":Tt.MO.RELACCENT,"⤃":Tt.MO.RELACCENT,"⤄":Tt.MO.RELACCENT,"⤅":Tt.MO.RELACCENT,"⤆":Tt.MO.RELACCENT,"⤇":Tt.MO.RELACCENT,"⤈":Tt.MO.REL,"⤉":Tt.MO.REL,"⤊":Tt.MO.RELSTRETCH,"⤋":Tt.MO.RELSTRETCH,"⤌":Tt.MO.WIDEREL,"⤍":Tt.MO.WIDEREL,"⤎":Tt.MO.WIDEREL,"⤏":Tt.MO.WIDEREL,"⤐":Tt.MO.WIDEREL,"⤑":Tt.MO.RELACCENT,"⤒":Tt.MO.RELSTRETCH,"⤓":Tt.MO.RELSTRETCH,"⤔":Tt.MO.RELACCENT,"⤕":Tt.MO.RELACCENT,"⤖":Tt.MO.RELACCENT,"⤗":Tt.MO.RELACCENT,"⤘":Tt.MO.RELACCENT,"⤙":Tt.MO.RELACCENT,"⤚":Tt.MO.RELACCENT,"⤛":Tt.MO.RELACCENT,"⤜":Tt.MO.RELACCENT,"⤝":Tt.MO.RELACCENT,"⤞":Tt.MO.RELACCENT,"⤟":Tt.MO.RELACCENT,"⤠":Tt.MO.RELACCENT,"⤡":Tt.MO.RELSTRETCH,"⤢":Tt.MO.RELSTRETCH,"⤣":Tt.MO.REL,"⤤":Tt.MO.REL,"⤥":Tt.MO.REL,"⤦":Tt.MO.REL,"⤧":Tt.MO.REL,"⤨":Tt.MO.REL,"⤩":Tt.MO.REL,"⤪":Tt.MO.REL,"⤫":Tt.MO.REL,"⤬":Tt.MO.REL,"⤭":Tt.MO.REL,"⤮":Tt.MO.REL,"⤯":Tt.MO.REL,"⤰":Tt.MO.REL,"⤱":Tt.MO.REL,"⤲":Tt.MO.REL,"⤳":Tt.MO.RELACCENT,"⤴":Tt.MO.REL,"⤵":Tt.MO.REL,"⤶":Tt.MO.REL,"⤷":Tt.MO.REL,"⤸":Tt.MO.REL,"⤹":Tt.MO.REL,"⤺":Tt.MO.RELACCENT,"⤻":Tt.MO.RELACCENT,"⤼":Tt.MO.RELACCENT,"⤽":Tt.MO.RELACCENT,"⤾":Tt.MO.REL,"⤿":Tt.MO.REL,"⥀":Tt.MO.REL,"⥁":Tt.MO.REL,"⥂":Tt.MO.RELACCENT,"⥃":Tt.MO.RELACCENT,"⥄":Tt.MO.RELACCENT,"⥅":Tt.MO.RELACCENT,"⥆":Tt.MO.RELACCENT,"⥇":Tt.MO.RELACCENT,"⥈":Tt.MO.RELACCENT,"⥉":Tt.MO.REL,"⥊":Tt.MO.RELACCENT,"⥋":Tt.MO.RELACCENT,"⥌":Tt.MO.REL,"⥍":Tt.MO.REL,"⥎":Tt.MO.WIDEREL,"⥏":Tt.MO.RELSTRETCH,"⥐":Tt.MO.WIDEREL,"⥑":Tt.MO.RELSTRETCH,"⥒":Tt.MO.WIDEREL,"⥓":Tt.MO.WIDEREL,"⥔":Tt.MO.RELSTRETCH,"⥕":Tt.MO.RELSTRETCH,"⥖":Tt.MO.RELSTRETCH,"⥗":Tt.MO.RELSTRETCH,"⥘":Tt.MO.RELSTRETCH,"⥙":Tt.MO.RELSTRETCH,"⥚":Tt.MO.WIDEREL,"⥛":Tt.MO.WIDEREL,"⥜":Tt.MO.RELSTRETCH,"⥝":Tt.MO.RELSTRETCH,"⥞":Tt.MO.WIDEREL,"⥟":Tt.MO.WIDEREL,"⥠":Tt.MO.RELSTRETCH,"⥡":Tt.MO.RELSTRETCH,"⥢":Tt.MO.RELACCENT,"⥣":Tt.MO.REL,"⥤":Tt.MO.RELACCENT,"⥥":Tt.MO.REL,"⥦":Tt.MO.RELACCENT,"⥧":Tt.MO.RELACCENT,"⥨":Tt.MO.RELACCENT,"⥩":Tt.MO.RELACCENT,"⥪":Tt.MO.RELACCENT,"⥫":Tt.MO.RELACCENT,"⥬":Tt.MO.RELACCENT,"⥭":Tt.MO.RELACCENT,"⥮":Tt.MO.RELSTRETCH,"⥯":Tt.MO.RELSTRETCH,"⥰":Tt.MO.RELACCENT,"⥱":Tt.MO.RELACCENT,"⥲":Tt.MO.RELACCENT,"⥳":Tt.MO.RELACCENT,"⥴":Tt.MO.RELACCENT,"⥵":Tt.MO.RELACCENT,"⥶":Tt.MO.RELACCENT,"⥷":Tt.MO.RELACCENT,"⥸":Tt.MO.RELACCENT,"⥹":Tt.MO.RELACCENT,"⥺":Tt.MO.RELACCENT,"⥻":Tt.MO.RELACCENT,"⥼":Tt.MO.RELACCENT,"⥽":Tt.MO.RELACCENT,"⥾":Tt.MO.REL,"⥿":Tt.MO.REL,"⦁":Tt.MO.BIN3,"⦂":Tt.MO.BIN3,"⦙":Tt.MO.BIN3,"⦚":Tt.MO.BIN3,"⦛":Tt.MO.BIN3,"⦜":Tt.MO.BIN3,"⦝":Tt.MO.BIN3,"⦞":Tt.MO.BIN3,"⦟":Tt.MO.BIN3,"⦠":Tt.MO.BIN3,"⦡":Tt.MO.BIN3,"⦢":Tt.MO.BIN3,"⦣":Tt.MO.BIN3,"⦤":Tt.MO.BIN3,"⦥":Tt.MO.BIN3,"⦦":Tt.MO.BIN3,"⦧":Tt.MO.BIN3,"⦨":Tt.MO.BIN3,"⦩":Tt.MO.BIN3,"⦪":Tt.MO.BIN3,"⦫":Tt.MO.BIN3,"⦬":Tt.MO.BIN3,"⦭":Tt.MO.BIN3,"⦮":Tt.MO.BIN3,"⦯":Tt.MO.BIN3,"⦰":Tt.MO.BIN3,"⦱":Tt.MO.BIN3,"⦲":Tt.MO.BIN3,"⦳":Tt.MO.BIN3,"⦴":Tt.MO.BIN3,"⦵":Tt.MO.BIN3,"⦶":Tt.MO.BIN4,"⦷":Tt.MO.BIN4,"⦸":Tt.MO.BIN4,"⦹":Tt.MO.BIN4,"⦺":Tt.MO.BIN4,"⦻":Tt.MO.BIN4,"⦼":Tt.MO.BIN4,"⦽":Tt.MO.BIN4,"⦾":Tt.MO.BIN4,"⦿":Tt.MO.BIN4,"⧀":Tt.MO.REL,"⧁":Tt.MO.REL,"⧂":Tt.MO.BIN3,"⧃":Tt.MO.BIN3,"⧄":Tt.MO.BIN4,"⧅":Tt.MO.BIN4,"⧆":Tt.MO.BIN4,"⧇":Tt.MO.BIN4,"⧈":Tt.MO.BIN4,"⧉":Tt.MO.BIN3,"⧊":Tt.MO.BIN3,"⧋":Tt.MO.BIN3,"⧌":Tt.MO.BIN3,"⧍":Tt.MO.BIN3,"⧎":Tt.MO.REL,"⧏":Tt.MO.REL,"⧏̸":Tt.MO.REL,"⧐":Tt.MO.REL,"⧐̸":Tt.MO.REL,"⧑":Tt.MO.REL,"⧒":Tt.MO.REL,"⧓":Tt.MO.REL,"⧔":Tt.MO.REL,"⧕":Tt.MO.REL,"⧖":Tt.MO.BIN4,"⧗":Tt.MO.BIN4,"⧘":Tt.MO.BIN3,"⧙":Tt.MO.BIN3,"⧛":Tt.MO.BIN3,"⧜":Tt.MO.BIN3,"⧝":Tt.MO.BIN3,"⧞":Tt.MO.REL,"⧟":Tt.MO.BIN3,"⧠":Tt.MO.BIN3,"⧡":Tt.MO.REL,"⧢":Tt.MO.BIN4,"⧣":Tt.MO.REL,"⧤":Tt.MO.REL,"⧥":Tt.MO.REL,"⧦":Tt.MO.REL,"⧧":Tt.MO.BIN3,"⧨":Tt.MO.BIN3,"⧩":Tt.MO.BIN3,"⧪":Tt.MO.BIN3,"⧫":Tt.MO.BIN3,"⧬":Tt.MO.BIN3,"⧭":Tt.MO.BIN3,"⧮":Tt.MO.BIN3,"⧯":Tt.MO.BIN3,"⧰":Tt.MO.BIN3,"⧱":Tt.MO.BIN3,"⧲":Tt.MO.BIN3,"⧳":Tt.MO.BIN3,"⧴":Tt.MO.REL,"⧵":Tt.MO.BIN4,"⧶":Tt.MO.BIN4,"⧷":Tt.MO.BIN4,"⧸":Tt.MO.BIN3,"⧹":Tt.MO.BIN3,"⧺":Tt.MO.BIN3,"⧻":Tt.MO.BIN3,"⧾":Tt.MO.BIN4,"⧿":Tt.MO.BIN4,"⨝":Tt.MO.BIN3,"⨞":Tt.MO.BIN3,"⨟":Tt.MO.BIN3,"⨠":Tt.MO.BIN3,"⨡":Tt.MO.BIN3,"⨢":Tt.MO.BIN4,"⨣":Tt.MO.BIN4,"⨤":Tt.MO.BIN4,"⨥":Tt.MO.BIN4,"⨦":Tt.MO.BIN4,"⨧":Tt.MO.BIN4,"⨨":Tt.MO.BIN4,"⨩":Tt.MO.BIN4,"⨪":Tt.MO.BIN4,"⨫":Tt.MO.BIN4,"⨬":Tt.MO.BIN4,"⨭":Tt.MO.BIN4,"⨮":Tt.MO.BIN4,"⨯":Tt.MO.BIN4,"⨰":Tt.MO.BIN4,"⨱":Tt.MO.BIN4,"⨲":Tt.MO.BIN4,"⨳":Tt.MO.BIN4,"⨴":Tt.MO.BIN4,"⨵":Tt.MO.BIN4,"⨶":Tt.MO.BIN4,"⨷":Tt.MO.BIN4,"⨸":Tt.MO.BIN4,"⨹":Tt.MO.BIN4,"⨺":Tt.MO.BIN4,"⨻":Tt.MO.BIN4,"⨼":Tt.MO.BIN4,"⨽":Tt.MO.BIN4,"⨾":Tt.MO.BIN4,"⨿":Tt.MO.BIN4,"⩀":Tt.MO.BIN4,"⩁":Tt.MO.BIN4,"⩂":Tt.MO.BIN4,"⩃":Tt.MO.BIN4,"⩄":Tt.MO.BIN4,"⩅":Tt.MO.BIN4,"⩆":Tt.MO.BIN4,"⩇":Tt.MO.BIN4,"⩈":Tt.MO.BIN4,"⩉":Tt.MO.BIN4,"⩊":Tt.MO.BIN4,"⩋":Tt.MO.BIN4,"⩌":Tt.MO.BIN4,"⩍":Tt.MO.BIN4,"⩎":Tt.MO.BIN4,"⩏":Tt.MO.BIN4,"⩐":Tt.MO.BIN4,"⩑":Tt.MO.BIN4,"⩒":Tt.MO.BIN4,"⩓":Tt.MO.BIN4,"⩔":Tt.MO.BIN4,"⩕":Tt.MO.BIN4,"⩖":Tt.MO.BIN4,"⩗":Tt.MO.BIN4,"⩘":Tt.MO.BIN4,"⩙":Tt.MO.REL,"⩚":Tt.MO.BIN4,"⩛":Tt.MO.BIN4,"⩜":Tt.MO.BIN4,"⩝":Tt.MO.BIN4,"⩞":Tt.MO.BIN4,"⩟":Tt.MO.BIN4,"⩠":Tt.MO.BIN4,"⩡":Tt.MO.BIN4,"⩢":Tt.MO.BIN4,"⩣":Tt.MO.BIN4,"⩤":Tt.MO.BIN4,"⩥":Tt.MO.BIN4,"⩦":Tt.MO.REL,"⩧":Tt.MO.REL,"⩨":Tt.MO.REL,"⩩":Tt.MO.REL,"⩪":Tt.MO.REL,"⩫":Tt.MO.REL,"⩬":Tt.MO.REL,"⩭":Tt.MO.REL,"⩮":Tt.MO.REL,"⩯":Tt.MO.REL,"⩰":Tt.MO.REL,"⩱":Tt.MO.BIN4,"⩲":Tt.MO.BIN4,"⩳":Tt.MO.REL,"⩴":Tt.MO.REL,"⩵":Tt.MO.REL,"⩶":Tt.MO.REL,"⩷":Tt.MO.REL,"⩸":Tt.MO.REL,"⩹":Tt.MO.REL,"⩺":Tt.MO.REL,"⩻":Tt.MO.REL,"⩼":Tt.MO.REL,"⩽":Tt.MO.REL,"⩽̸":Tt.MO.REL,"⩾":Tt.MO.REL,"⩾̸":Tt.MO.REL,"⩿":Tt.MO.REL,"⪀":Tt.MO.REL,"⪁":Tt.MO.REL,"⪂":Tt.MO.REL,"⪃":Tt.MO.REL,"⪄":Tt.MO.REL,"⪅":Tt.MO.REL,"⪆":Tt.MO.REL,"⪇":Tt.MO.REL,"⪈":Tt.MO.REL,"⪉":Tt.MO.REL,"⪊":Tt.MO.REL,"⪋":Tt.MO.REL,"⪌":Tt.MO.REL,"⪍":Tt.MO.REL,"⪎":Tt.MO.REL,"⪏":Tt.MO.REL,"⪐":Tt.MO.REL,"⪑":Tt.MO.REL,"⪒":Tt.MO.REL,"⪓":Tt.MO.REL,"⪔":Tt.MO.REL,"⪕":Tt.MO.REL,"⪖":Tt.MO.REL,"⪗":Tt.MO.REL,"⪘":Tt.MO.REL,"⪙":Tt.MO.REL,"⪚":Tt.MO.REL,"⪛":Tt.MO.REL,"⪜":Tt.MO.REL,"⪝":Tt.MO.REL,"⪞":Tt.MO.REL,"⪟":Tt.MO.REL,"⪠":Tt.MO.REL,"⪡":Tt.MO.REL,"⪡̸":Tt.MO.REL,"⪢":Tt.MO.REL,"⪢̸":Tt.MO.REL,"⪣":Tt.MO.REL,"⪤":Tt.MO.REL,"⪥":Tt.MO.REL,"⪦":Tt.MO.REL,"⪧":Tt.MO.REL,"⪨":Tt.MO.REL,"⪩":Tt.MO.REL,"⪪":Tt.MO.REL,"⪫":Tt.MO.REL,"⪬":Tt.MO.REL,"⪭":Tt.MO.REL,"⪮":Tt.MO.REL,"⪯":Tt.MO.REL,"⪯̸":Tt.MO.REL,"⪰":Tt.MO.REL,"⪰̸":Tt.MO.REL,"⪱":Tt.MO.REL,"⪲":Tt.MO.REL,"⪳":Tt.MO.REL,"⪴":Tt.MO.REL,"⪵":Tt.MO.REL,"⪶":Tt.MO.REL,"⪷":Tt.MO.REL,"⪸":Tt.MO.REL,"⪹":Tt.MO.REL,"⪺":Tt.MO.REL,"⪻":Tt.MO.REL,"⪼":Tt.MO.REL,"⪽":Tt.MO.REL,"⪾":Tt.MO.REL,"⪿":Tt.MO.REL,"⫀":Tt.MO.REL,"⫁":Tt.MO.REL,"⫂":Tt.MO.REL,"⫃":Tt.MO.REL,"⫄":Tt.MO.REL,"⫅":Tt.MO.REL,"⫆":Tt.MO.REL,"⫇":Tt.MO.REL,"⫈":Tt.MO.REL,"⫉":Tt.MO.REL,"⫊":Tt.MO.REL,"⫋":Tt.MO.REL,"⫌":Tt.MO.REL,"⫍":Tt.MO.REL,"⫎":Tt.MO.REL,"⫏":Tt.MO.REL,"⫐":Tt.MO.REL,"⫑":Tt.MO.REL,"⫒":Tt.MO.REL,"⫓":Tt.MO.REL,"⫔":Tt.MO.REL,"⫕":Tt.MO.REL,"⫖":Tt.MO.REL,"⫗":Tt.MO.REL,"⫘":Tt.MO.REL,"⫙":Tt.MO.REL,"⫚":Tt.MO.REL,"⫛":Tt.MO.REL,"⫝":Tt.MO.REL,"⫝̸":Tt.MO.REL,"⫞":Tt.MO.REL,"⫟":Tt.MO.REL,"⫠":Tt.MO.REL,"⫡":Tt.MO.REL,"⫢":Tt.MO.REL,"⫣":Tt.MO.REL,"⫤":Tt.MO.REL,"⫥":Tt.MO.REL,"⫦":Tt.MO.REL,"⫧":Tt.MO.REL,"⫨":Tt.MO.REL,"⫩":Tt.MO.REL,"⫪":Tt.MO.REL,"⫫":Tt.MO.REL,"⫬":Tt.MO.REL,"⫭":Tt.MO.REL,"⫮":Tt.MO.REL,"⫯":Tt.MO.REL,"⫰":Tt.MO.REL,"⫱":Tt.MO.REL,"⫲":Tt.MO.REL,"⫳":Tt.MO.REL,"⫴":Tt.MO.BIN4,"⫵":Tt.MO.BIN4,"⫶":Tt.MO.BIN4,"⫷":Tt.MO.REL,"⫸":Tt.MO.REL,"⫹":Tt.MO.REL,"⫺":Tt.MO.REL,"⫻":Tt.MO.BIN4,"⫽":Tt.MO.BIN4,"⫾":Tt.MO.BIN3,"⭅":Tt.MO.RELSTRETCH,"⭆":Tt.MO.RELSTRETCH,"〈":Tt.MO.OPEN,"〉":Tt.MO.CLOSE,"︷":Tt.MO.WIDEACCENT,"︸":Tt.MO.WIDEACCENT}},Tt.OPTABLE.infix["^"]=Tt.MO.WIDEREL,Tt.OPTABLE.infix._=Tt.MO.WIDEREL,Tt.OPTABLE.infix["⫝̸"]=Tt.MO.REL;var Bt,Lt,kt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._texClass=null,e.lspace=5/18,e.rspace=5/18,e}return St(e,t),Object.defineProperty(e.prototype,"texClass",{get:function(){if(null===this._texClass){var t=this.getText(),e=Ot(this.handleExplicitForm(this.getForms()),3),r=e[0],n=e[1],i=e[2],o=this.constructor.OPTABLE,s=o[r][t]||o[n][t]||o[i][t];return s?s[2]:Y.TEXCLASS.REL}return this._texClass},set:function(t){this._texClass=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"kind",{get:function(){return"mo"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEmbellished",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasNewLine",{get:function(){return"newline"===this.attributes.get("linebreak")},enumerable:!1,configurable:!0}),e.prototype.coreParent=function(){for(var t=this,e=this,r=this.factory.getNodeClass("math");e&&e.isEmbellished&&e.coreMO()===this&&!(e instanceof r);)t=e,e=e.parent;return t},e.prototype.coreText=function(t){if(!t)return"";if(t.isEmbellished)return t.coreMO().getText();for(;((t.isKind("mrow")||t.isKind("TeXAtom")||t.isKind("mstyle")||t.isKind("mphantom"))&&1===t.childNodes.length||t.isKind("munderover"))&&t.childNodes[0];)t=t.childNodes[0];return t.isToken?t.getText():""},e.prototype.hasSpacingAttributes=function(){return this.attributes.isSet("lspace")||this.attributes.isSet("rspace")},Object.defineProperty(e.prototype,"isAccent",{get:function(){var t=!1,e=this.coreParent().parent;if(e){var r=e.isKind("mover")?e.childNodes[e.over].coreMO()?"accent":"":e.isKind("munder")?e.childNodes[e.under].coreMO()?"accentunder":"":e.isKind("munderover")?this===e.childNodes[e.over].coreMO()?"accent":this===e.childNodes[e.under].coreMO()?"accentunder":"":"";if(r)t=void 0!==e.attributes.getExplicit(r)?t:this.attributes.get("accent")}return t},enumerable:!1,configurable:!0}),e.prototype.setTeXclass=function(t){var e=this.attributes.getList("form","fence"),r=e.form,n=e.fence;return void 0===this.getProperty("texClass")&&(this.attributes.isSet("lspace")||this.attributes.isSet("rspace"))?null:(n&&this.texClass===Y.TEXCLASS.REL&&("prefix"===r&&(this.texClass=Y.TEXCLASS.OPEN),"postfix"===r&&(this.texClass=Y.TEXCLASS.CLOSE)),"⁡"===this.getText()?(t&&void 0===t.getProperty("texClass")&&"italic"!==t.attributes.get("mathvariant")&&(t.texClass=Y.TEXCLASS.OP,t.setProperty("fnOP",!0)),this.texClass=this.prevClass=Y.TEXCLASS.NONE,t):this.adjustTeXclass(t))},e.prototype.adjustTeXclass=function(t){var e=this.texClass,r=this.prevClass;if(e===Y.TEXCLASS.NONE)return t;if(t?(!t.getProperty("autoOP")||e!==Y.TEXCLASS.BIN&&e!==Y.TEXCLASS.REL||(r=t.texClass=Y.TEXCLASS.ORD),r=this.prevClass=t.texClass||Y.TEXCLASS.ORD,this.prevLevel=this.attributes.getInherited("scriptlevel")):r=this.prevClass=Y.TEXCLASS.NONE,e!==Y.TEXCLASS.BIN||r!==Y.TEXCLASS.NONE&&r!==Y.TEXCLASS.BIN&&r!==Y.TEXCLASS.OP&&r!==Y.TEXCLASS.REL&&r!==Y.TEXCLASS.OPEN&&r!==Y.TEXCLASS.PUNCT)if(r!==Y.TEXCLASS.BIN||e!==Y.TEXCLASS.REL&&e!==Y.TEXCLASS.CLOSE&&e!==Y.TEXCLASS.PUNCT){if(e===Y.TEXCLASS.BIN){for(var n=this,i=this.parent;i&&i.parent&&i.isEmbellished&&(1===i.childNodes.length||!i.isKind("mrow")&&i.core()===n);)n=i,i=i.parent;i.childNodes[i.childNodes.length-1]===n&&(this.texClass=Y.TEXCLASS.ORD)}}else t.texClass=this.prevClass=Y.TEXCLASS.ORD;else this.texClass=Y.TEXCLASS.ORD;return this},e.prototype.setInheritedAttributes=function(e,r,n,i){void 0===e&&(e={}),void 0===r&&(r=!1),void 0===n&&(n=0),void 0===i&&(i=!1),t.prototype.setInheritedAttributes.call(this,e,r,n,i);var o=this.getText();this.checkOperatorTable(o),this.checkPseudoScripts(o),this.checkPrimes(o),this.checkMathAccent(o)},e.prototype.checkOperatorTable=function(t){var e,r,n=Ot(this.handleExplicitForm(this.getForms()),3),i=n[0],o=n[1],s=n[2];this.attributes.setInherited("form",i);var a=this.constructor.OPTABLE,l=a[i][t]||a[o][t]||a[s][t];if(l){void 0===this.getProperty("texClass")&&(this.texClass=l[2]);try{for(var c=_t(Object.keys(l[3]||{})),u=c.next();!u.done;u=c.next()){var h=u.value;this.attributes.setInherited(h,l[3][h])}}catch(t){e={error:t}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(e)throw e.error}}this.lspace=(l[0]+1)/18,this.rspace=(l[1]+1)/18}else{var d=this.getRange(t);if(d){void 0===this.getProperty("texClass")&&(this.texClass=d[2]);var f=this.constructor.MMLSPACING[d[2]];this.lspace=(f[0]+1)/18,this.rspace=(f[1]+1)/18}}},e.prototype.getForms=function(){for(var t=this,e=this.parent,r=this.Parent;r&&r.isEmbellished;)t=e,e=r.parent,r=r.Parent;if(e&&e.isKind("mrow")&&1!==e.nonSpaceLength()){if(e.firstNonSpace()===t)return["prefix","infix","postfix"];if(e.lastNonSpace()===t)return["postfix","infix","prefix"]}return["infix","prefix","postfix"]},e.prototype.handleExplicitForm=function(t){if(this.attributes.isSet("form")){var e=this.attributes.get("form");t=[e].concat(t.filter((function(t){return t!==e})))}return t},e.prototype.getRange=function(t){var e,r;if(!t.match(/^[\uD800-\uDBFF]?.$/))return null;var n=t.codePointAt(0),i=this.constructor.RANGES;try{for(var o=_t(i),s=o.next();!s.done;s=o.next()){var a=s.value;if(a[0]<=n&&n<=a[1])return a;if(n<a[0])return null}}catch(t){e={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return null},e.prototype.checkPseudoScripts=function(t){var e=this.constructor.pseudoScripts;if(t.match(e)){var r=this.coreParent().Parent,n=!r||!(r.isKind("msubsup")&&!r.isKind("msub"));this.setProperty("pseudoscript",n),n&&(this.attributes.setInherited("lspace",0),this.attributes.setInherited("rspace",0))}},e.prototype.checkPrimes=function(t){var e=this.constructor.primes;if(t.match(e)){var r=this.constructor.remapPrimes,n=V.unicodeString(V.unicodeChars(t).map((function(t){return r[t]})));this.setProperty("primes",n)}},e.prototype.checkMathAccent=function(t){var e=this.Parent;if(void 0===this.getProperty("mathaccent")&&e&&e.isKind("munderover")){var r=e.childNodes[0];if(!r.isEmbellished||r.coreMO()!==this){var n=this.constructor.mathaccents;t.match(n)&&this.setProperty("mathaccent",!0)}}},e.defaults=Mt(Mt({},Y.AbstractMmlTokenNode.defaults),{form:"infix",fence:!1,separator:!1,lspace:"thickmathspace",rspace:"thickmathspace",stretchy:!1,symmetric:!1,maxsize:"infinity",minsize:"0em",largeop:!1,movablelimits:!1,accent:!1,linebreak:"auto",lineleading:"1ex",linebreakstyle:"before",indentalign:"auto",indentshift:"0",indenttarget:"",indentalignfirst:"indentalign",indentshiftfirst:"indentshift",indentalignlast:"indentalign",indentshiftlast:"indentshift"}),e.RANGES=Tt.RANGES,e.MMLSPACING=Tt.MMLSPACING,e.OPTABLE=Tt.OPTABLE,e.pseudoScripts=new RegExp(["^[\"'*`","ª","°","²-´","¹","º","‘-‟","′-‷⁗","⁰ⁱ","⁴-ⁿ","₀-₎","]+$"].join("")),e.primes=new RegExp(["^[\"'`","‘-‟","]+$"].join("")),e.remapPrimes={34:8243,39:8242,96:8245,8216:8245,8217:8242,8218:8242,8219:8245,8220:8246,8221:8243,8222:8243,8223:8246},e.mathaccents=new RegExp(["^[","´́ˊ","`̀ˋ","¨̈","~̃˜","¯̄ˉ","˘̆","ˇ̌","^̂ˆ","→⃗","˙̇","˚̊","⃛","⃜","]$"].join("")),e}(Y.AbstractMmlTokenNode);Et.MmlMo=kt,function(t){var e=new Map([["autoOP",!0],["fnOP",!0],["movesupsub",!0],["subsupOK",!0],["texprimestyle",!0],["useHeight",!0],["variantForm",!0],["withDelims",!0],["mathaccent",!0],["open",!0],["close",!0]]);function r(t,r){var n,i;try{for(var o=Ct(Object.keys(r)),s=o.next();!s.done;s=o.next()){var a=s.value,l=r[a];"texClass"===a?(t.texClass=l,t.setProperty(a,l)):"movablelimits"===a?(t.setProperty("movablelimits",l),(t.isKind("mo")||t.isKind("mstyle"))&&t.attributes.set("movablelimits",l)):"inferred"===a||(e.has(a)?t.setProperty(a,l):t.attributes.set(a,l))}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}function n(t,e,r){t.childNodes[e]=r,r&&(r.parent=t)}function i(t,e){return t.isKind(e)}t.createEntity=function(t){return String.fromCodePoint(parseInt(t,16))},t.getChildren=function(t){return t.childNodes},t.getText=function(t){return t.getText()},t.appendChildren=function(t,e){var r,n;try{for(var i=Ct(e),o=i.next();!o.done;o=i.next()){var s=o.value;t.appendChild(s)}}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},t.setAttribute=function(t,e,r){t.attributes.set(e,r)},t.setProperty=function(t,e,r){t.setProperty(e,r)},t.setProperties=r,t.getProperty=function(t,e){return t.getProperty(e)},t.getAttribute=function(t,e){return t.attributes.get(e)},t.removeProperties=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];t.removeProperty.apply(t,xt([],wt(e)))},t.getChildAt=function(t,e){return t.childNodes[e]},t.setChild=n,t.copyChildren=function(t,e){for(var r=t.childNodes,i=0;i<r.length;i++)n(e,i,r[i])},t.copyAttributes=function(t,e){e.attributes=t.attributes,r(e,t.getAllProperties())},t.isType=i,t.isEmbellished=function(t){return t.isEmbellished},t.getTexClass=function(t){return t.texClass},t.getCoreMO=function(t){return t.coreMO()},t.isNode=function(t){return t instanceof Y.AbstractMmlNode||t instanceof Y.AbstractMmlEmptyNode},t.isInferred=function(t){return t.isInferred},t.getForm=function(t){var e,r;if(!i(t,"mo"))return null;var n=t,o=n.getForms();try{for(var s=Ct(o),a=s.next();!a.done;a=s.next()){var l=a.value,c=Et.MmlMo.OPTABLE[l][n.getText()];if(c)return c}}catch(t){e={error:t}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return null}}(Bt||(Bt={})),At.default=Bt,function(t){t.cleanStretchy=function(t){var e,r,n=t.data;try{for(var i=Q(n.getList("fixStretchy")),o=i.next();!o.done;o=i.next()){var s=o.value;if(At.default.getProperty(s,"fixStretchy")){var a=At.default.getForm(s);a&&a[3]&&a[3].stretchy&&At.default.setAttribute(s,"stretchy",!1);var l=s.parent;if(!(At.default.getTexClass(s)||a&&a[2])){var c=n.nodeFactory.create("node","TeXAtom",[s]);l.replaceChild(c,s),c.inheritAttributesFrom(s)}At.default.removeProperties(s,"fixStretchy")}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}},t.cleanAttributes=function(t){t.data.root.walkTree((function(t,e){var r,n,i=t.attributes;if(i)try{for(var o=Q(i.getExplicitNames()),s=o.next();!s.done;s=o.next()){var a=s.value;i.attributes[a]===t.attributes.getInherited(a)&&delete i.attributes[a]}}catch(t){r={error:t}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}}),{})},t.combineRelations=function(t){var n,i;try{for(var o=Q(t.data.getList("mo")),s=o.next();!s.done;s=o.next()){var a=s.value;if(!a.getProperty("relationsCombined")&&a.parent&&(!a.parent||At.default.isType(a.parent,"mrow"))&&At.default.getTexClass(a)===Y.TEXCLASS.REL){for(var l=a.parent,c=void 0,u=l.childNodes,h=u.indexOf(a)+1,d=At.default.getProperty(a,"variantForm");h<u.length&&(c=u[h])&&At.default.isType(c,"mo")&&At.default.getTexClass(c)===Y.TEXCLASS.REL;){if(d!==At.default.getProperty(c,"variantForm")||!r(a,c)){null==a.attributes.getExplicit("rspace")&&At.default.setAttribute(a,"rspace","0pt"),null==c.attributes.getExplicit("lspace")&&At.default.setAttribute(c,"lspace","0pt");break}At.default.appendChildren(a,At.default.getChildren(c)),e(["stretchy","rspace"],a,c),At.default.setProperties(a,c.getAllProperties()),u.splice(h,1),c.parent=null,c.setProperty("relationsCombined",!0)}a.attributes.setInherited("form",a.getForms()[0])}}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}};var e=function(t,e,r){var n=e.attributes,i=r.attributes;t.forEach((function(t){var e=i.getExplicit(t);null!=e&&n.set(t,e)}))},r=function(t,e){var r,n,i=function(t,e){return t.getExplicitNames().filter((function(r){return r!==e&&("stretchy"!==r||t.getExplicit("stretchy"))}))},o=t.attributes,s=e.attributes,a=i(o,"lspace"),l=i(s,"rspace");if(a.length!==l.length)return!1;try{for(var c=Q(a),u=c.next();!u.done;u=c.next()){var h=u.value;if(o.getExplicit(h)!==s.getExplicit(h))return!1}}catch(t){r={error:t}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}return!0},n=function(t,e,r){var n,i;try{for(var o=Q(t.getList("m"+e+r)),s=o.next();!s.done;s=o.next()){var a=s.value,l=a.childNodes;if(!l[a[e]]||!l[a[r]]){var c=a.parent,u=l[a[e]]?t.nodeFactory.create("node","m"+e,[l[a.base],l[a[e]]]):t.nodeFactory.create("node","m"+r,[l[a.base],l[a[r]]]);At.default.copyAttributes(a,u),c?c.replaceChild(u,a):t.root=u}}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}};t.cleanSubSup=function(t){var e=t.data;e.error||(n(e,"sub","sup"),n(e,"under","over"))};var i=function(t,e,r){var n,i;try{for(var o=Q(t.getList(e)),s=o.next();!s.done;s=o.next()){var a=s.value;if(!a.attributes.get("displaystyle")){var l=a.childNodes[a.base],c=l.coreMO();if(l.getProperty("movablelimits")&&!c.attributes.getExplicit("movablelimits")){var u=t.nodeFactory.create("node",r,a.childNodes);At.default.copyAttributes(a,u),a.parent?a.parent.replaceChild(u,a):t.root=u}}}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}};t.moveLimits=function(t){var e=t.data;i(e,"munderover","msubsup"),i(e,"munder","msub"),i(e,"mover","msup")},t.setInherited=function(t){t.data.root.setInheritedAttributes({},t.math.display,0,!1)}}(Lt||(Lt={})),J.default=Lt;var Rt={},Dt=Rt&&Rt.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Pt=Rt&&Rt.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},It=Rt&&Rt.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(Rt,"__esModule",{value:!0});var Nt={},$t=Nt&&Nt.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},jt=Nt&&Nt.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Nt,"__esModule",{value:!0});var Ht={};Object.defineProperty(Ht,"__esModule",{value:!0});var Wt=function(){function t(e,r){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];this.id=e,this.message=t.processString(r,n)}return t.processString=function(e,r){for(var n=e.split(t.pattern),i=1,o=n.length;i<o;i+=2){var s=n[i].charAt(0);if(s>="0"&&s<="9")n[i]=r[parseInt(n[i],10)-1],"number"==typeof n[i]&&(n[i]=n[i].toString());else if("{"===s){if((s=n[i].substr(1))>="0"&&s<="9")n[i]=r[parseInt(n[i].substr(1,n[i].length-2),10)-1],"number"==typeof n[i]&&(n[i]=n[i].toString());else n[i].match(/^\{([a-z]+):%(\d+)\|(.*)\}$/)&&(n[i]="%"+n[i])}null==n[i]&&(n[i]="???")}return n.join("")},t.pattern=/%(\d+|\{\d+\}|\{[a-z]+:\%\d+(?:\|(?:%\{\d+\}|%.|[^\}])*)+\}|.)/g,t}();Ht.default=Wt;var zt={};Object.defineProperty(zt,"__esModule",{value:!0}),zt.numeric=zt.translate=zt.remove=zt.add=zt.entities=zt.options=void 0;var Vt={};Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.asyncLoad=void 0,Vt.asyncLoad=function(t){return o.mathjax.asyncLoad?new Promise((function(e,r){var n=o.mathjax.asyncLoad(t);n instanceof Promise?n.then((function(t){return e(t)})).catch((function(t){return r(t)})):e(n)})):Promise.reject("Can't load '"+t+"': No asyncLoad method specified")},zt.options={loadMissingEntities:!0},zt.entities={ApplyFunction:"⁡",Backslash:"∖",Because:"∵",Breve:"˘",Cap:"⋒",CenterDot:"·",CircleDot:"⊙",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",Congruent:"≡",ContourIntegral:"∮",Coproduct:"∐",Cross:"⨯",Cup:"⋓",CupCap:"≍",Dagger:"‡",Del:"∇",Delta:"Δ",Diamond:"⋄",DifferentialD:"ⅆ",DotEqual:"≐",DoubleDot:"¨",DoubleRightTee:"⊨",DoubleVerticalBar:"∥",DownArrow:"↓",DownLeftVector:"↽",DownRightVector:"⇁",DownTee:"⊤",Downarrow:"⇓",Element:"∈",EqualTilde:"≂",Equilibrium:"⇌",Exists:"∃",ExponentialE:"ⅇ",FilledVerySmallSquare:"▪",ForAll:"∀",Gamma:"Γ",Gg:"⋙",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Hacek:"ˇ",Hat:"^",HumpDownHump:"≎",HumpEqual:"≏",Im:"ℑ",ImaginaryI:"ⅈ",Integral:"∫",Intersection:"⋂",InvisibleComma:"⁣",InvisibleTimes:"⁢",Lambda:"Λ",Larr:"↞",LeftAngleBracket:"⟨",LeftArrow:"←",LeftArrowRightArrow:"⇆",LeftCeiling:"⌈",LeftDownVector:"⇃",LeftFloor:"⌊",LeftRightArrow:"↔",LeftTee:"⊣",LeftTriangle:"⊲",LeftTriangleEqual:"⊴",LeftUpVector:"↿",LeftVector:"↼",Leftarrow:"⇐",Leftrightarrow:"⇔",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",LessSlantEqual:"⩽",LessTilde:"≲",Ll:"⋘",Lleftarrow:"⇚",LongLeftArrow:"⟵",LongLeftRightArrow:"⟷",LongRightArrow:"⟶",Longleftarrow:"⟸",Longleftrightarrow:"⟺",Longrightarrow:"⟹",Lsh:"↰",MinusPlus:"∓",NestedGreaterGreater:"≫",NestedLessLess:"≪",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotLeftTriangle:"⋪",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotPrecedes:"⊀",NotPrecedesSlantEqual:"⋠",NotRightTriangle:"⋫",NotRightTriangleEqual:"⋭",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsSlantEqual:"⋡",NotSupersetEqual:"⊉",NotTilde:"≁",NotVerticalBar:"∤",Omega:"Ω",OverBar:"‾",OverBrace:"⏞",PartialD:"∂",Phi:"Φ",Pi:"Π",PlusMinus:"±",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",Product:"∏",Proportional:"∝",Psi:"Ψ",Rarr:"↠",Re:"ℜ",ReverseEquilibrium:"⇋",RightAngleBracket:"⟩",RightArrow:"→",RightArrowLeftArrow:"⇄",RightCeiling:"⌉",RightDownVector:"⇂",RightFloor:"⌋",RightTee:"⊢",RightTeeArrow:"↦",RightTriangle:"⊳",RightTriangleEqual:"⊵",RightUpVector:"↾",RightVector:"⇀",Rightarrow:"⇒",Rrightarrow:"⇛",Rsh:"↱",Sigma:"Σ",SmallCircle:"∘",Sqrt:"√",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",Star:"⋆",Subset:"⋐",SubsetEqual:"⊆",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",SuchThat:"∋",Sum:"∑",Superset:"⊃",SupersetEqual:"⊇",Supset:"⋑",Therefore:"∴",Theta:"Θ",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",UnderBar:"_",UnderBrace:"⏟",Union:"⋃",UnionPlus:"⊎",UpArrow:"↑",UpDownArrow:"↕",UpTee:"⊥",Uparrow:"⇑",Updownarrow:"⇕",Upsilon:"Υ",Vdash:"⊩",Vee:"⋁",VerticalBar:"∣",VerticalTilde:"≀",Vvdash:"⊪",Wedge:"⋀",Xi:"Ξ",amp:"&",acute:"´",aleph:"ℵ",alpha:"α",amalg:"⨿",and:"∧",ang:"∠",angmsd:"∡",angsph:"∢",ape:"≊",backprime:"‵",backsim:"∽",backsimeq:"⋍",beta:"β",beth:"ℶ",between:"≬",bigcirc:"◯",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",blacklozenge:"⧫",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",bowtie:"⋈",boxdl:"┐",boxdr:"┌",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxul:"┘",boxur:"└",bsol:"\\",bull:"•",cap:"∩",check:"✓",chi:"χ",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledR:"®",circledS:"Ⓢ",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",clubs:"♣",colon:":",comp:"∁",ctdot:"⋯",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cup:"∪",curarr:"↷",curlyvee:"⋎",curlywedge:"⋏",dagger:"†",daleth:"ℸ",ddarr:"⇊",deg:"°",delta:"δ",digamma:"ϝ",div:"÷",divideontimes:"⋇",dot:"˙",doteqdot:"≑",dotplus:"∔",dotsquare:"⊡",dtdot:"⋱",ecir:"≖",efDot:"≒",egs:"⪖",ell:"ℓ",els:"⪕",empty:"∅",epsi:"ε",epsiv:"ϵ",erDot:"≓",eta:"η",eth:"ð",flat:"♭",fork:"⋔",frown:"⌢",gEl:"⪌",gamma:"γ",gap:"⪆",gimel:"ℷ",gnE:"≩",gnap:"⪊",gne:"⪈",gnsim:"⋧",gt:">",gtdot:"⋗",harrw:"↭",hbar:"ℏ",hellip:"…",hookleftarrow:"↩",hookrightarrow:"↪",imath:"ı",infin:"∞",intcal:"⊺",iota:"ι",jmath:"ȷ",kappa:"κ",kappav:"ϰ",lEg:"⪋",lambda:"λ",lap:"⪅",larrlp:"↫",larrtl:"↢",lbrace:"{",lbrack:"[",le:"≤",leftleftarrows:"⇇",leftthreetimes:"⋋",lessdot:"⋖",lmoust:"⎰",lnE:"≨",lnap:"⪉",lne:"⪇",lnsim:"⋦",longmapsto:"⟼",looparrowright:"↬",lowast:"∗",loz:"◊",lt:"<",ltimes:"⋉",ltri:"◃",macr:"¯",malt:"✠",mho:"℧",mu:"μ",multimap:"⊸",nLeftarrow:"⇍",nLeftrightarrow:"⇎",nRightarrow:"⇏",nVDash:"⊯",nVdash:"⊮",natur:"♮",nearr:"↗",nharr:"↮",nlarr:"↚",not:"¬",nrarr:"↛",nu:"ν",nvDash:"⊭",nvdash:"⊬",nwarr:"↖",omega:"ω",omicron:"ο",or:"∨",osol:"⊘",period:".",phi:"φ",phiv:"ϕ",pi:"π",piv:"ϖ",prap:"⪷",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",prime:"′",psi:"ψ",quot:'"',rarrtl:"↣",rbrace:"}",rbrack:"]",rho:"ρ",rhov:"ϱ",rightrightarrows:"⇉",rightthreetimes:"⋌",ring:"˚",rmoust:"⎱",rtimes:"⋊",rtri:"▹",scap:"⪸",scnE:"⪶",scnap:"⪺",scnsim:"⋩",sdot:"⋅",searr:"↘",sect:"§",sharp:"♯",sigma:"σ",sigmav:"ς",simne:"≆",smile:"⌣",spades:"♠",sub:"⊂",subE:"⫅",subnE:"⫋",subne:"⊊",supE:"⫆",supnE:"⫌",supne:"⊋",swarr:"↙",tau:"τ",theta:"θ",thetav:"ϑ",tilde:"˜",times:"×",triangle:"▵",triangleq:"≜",upsi:"υ",upuparrows:"⇈",veebar:"⊻",vellip:"⋮",weierp:"℘",xi:"ξ",yen:"¥",zeta:"ζ",zigrarr:"⇝",nbsp:" ",rsquo:"’",lsquo:"‘"};var Xt,qt={};function Gt(t,e){if("#"===e.charAt(0))return Ut(e.slice(1));if(zt.entities[e])return zt.entities[e];if(zt.options.loadMissingEntities){var r=e.match(/^[a-zA-Z](fr|scr|opf)$/)?RegExp.$1:e.charAt(0).toLowerCase();qt[r]||(qt[r]=!0,f.retryAfter(Vt.asyncLoad("./util/entities/"+r+".js")))}return t}function Ut(t){var e="x"===t.charAt(0)?parseInt(t.slice(1),16):parseInt(t);return String.fromCodePoint(e)}zt.add=function(t,e){Object.assign(zt.entities,t),qt[e]=!0},zt.remove=function(t){delete zt.entities[t]},zt.translate=function(t){return t.replace(/&([a-z][a-z0-9]*|#(?:[0-9]+|x[0-9a-f]+));/gi,Gt)},zt.numeric=Ut,function(t){var e=7.2,r={em:function(t){return t},ex:function(t){return.43*t},pt:function(t){return t/10},pc:function(t){return 1.2*t},px:function(t){return t*e/72},in:function(t){return t*e},cm:function(t){return t*e/2.54},mm:function(t){return t*e/25.4},mu:function(t){return t/18}},n="([-+]?([.,]\\d+|\\d+([.,]\\d*)?))",i="(pt|em|ex|mu|px|mm|cm|in|pc)",o=RegExp("^\\s*"+n+"\\s*"+i+"\\s*$"),s=RegExp("^\\s*"+n+"\\s*"+i+" ?");function a(t,e){void 0===e&&(e=!1);var n,i,a,c,u,h=t.match(e?s:o);return h?(n=[h[1].replace(/,/,"."),h[4],h[0].length],i=$t(n,3),a=i[0],c=i[1],u=i[2],"mu"!==c?[a,c,u]:[l(r[c](parseFloat(a||"1"))).slice(0,-2),"em",u]):[null,null,0]}function l(t){return Math.abs(t)<6e-4?"0em":t.toFixed(3).replace(/\.?0+$/,"")+"em"}function c(t,e,r){"{"!==e&&"}"!==e||(e="\\"+e);var n="{\\bigg"+r+" "+e+"}",i="{\\big"+r+" "+e+"}";return new Rt.default("\\mathchoice"+n+i+i+i,{},t).mml()}function u(t,e,r){e=e.replace(/^\s+/,zt.entities.nbsp).replace(/\s+$/,zt.entities.nbsp);var n=t.create("text",e);return t.create("node","mtext",[],r,n)}function h(t,e,r){if(r.match(/^[a-z]/i)&&e.match(/(^|[^\\])(\\\\)*\\[a-z]+$/i)&&(e+=" "),e.length+r.length>t.configuration.options.maxBuffer)throw new Ht.default("MaxBufferSize","MathJax internal buffer size exceeded; is there a recursive macro call?");return e+r}function d(t,e){for(;e>0;)t=t.trim().slice(1,-1),e--;return t.trim()}function f(t,e){for(var r=t.length,n=0,i="",o=0,s=0,a=!0,l=!1;o<r;){var c=t[o++];switch(c){case" ":break;case"{":a?s++:(l=!1,s>n&&(s=n)),n++;break;case"}":n&&n--,(a||l)&&(s--,l=!0),a=!1;break;default:if(!n&&-1!==e.indexOf(c))return[l?"true":d(i,s),c,t.slice(o)];a=!1,l=!1}i+=c}if(n)throw new Ht.default("ExtraOpenMissingClose","Extra open brace or missing close brace");return[l?"true":d(i,s),"",t.slice(o)]}t.matchDimen=a,t.dimen2em=function(t){var e=$t(a(t),2),n=e[0],i=e[1],o=parseFloat(n||"1"),s=r[i];return s?s(o):0},t.Em=l,t.fenced=function(t,e,r,n,i,o){void 0===i&&(i=""),void 0===o&&(o="");var s,a=t.nodeFactory,l=a.create("node","mrow",[],{open:e,close:n,texClass:Y.TEXCLASS.INNER});if(i)s=new Rt.default("\\"+i+"l"+e,t.parser.stack.env,t).mml();else{var c=a.create("text",e);s=a.create("node","mo",[],{fence:!0,stretchy:!0,symmetric:!0,texClass:Y.TEXCLASS.OPEN},c)}if(At.default.appendChildren(l,[s,r]),i)s=new Rt.default("\\"+i+"r"+n,t.parser.stack.env,t).mml();else{var u=a.create("text",n);s=a.create("node","mo",[],{fence:!0,stretchy:!0,symmetric:!0,texClass:Y.TEXCLASS.CLOSE},u)}return o&&s.attributes.set("mathcolor",o),At.default.appendChildren(l,[s]),l},t.fixedFence=function(t,e,r,n){var i=t.nodeFactory.create("node","mrow",[],{open:e,close:n,texClass:Y.TEXCLASS.ORD});return e&&At.default.appendChildren(i,[c(t,e,"l")]),At.default.isType(r,"mrow")?At.default.appendChildren(i,At.default.getChildren(r)):At.default.appendChildren(i,[r]),n&&At.default.appendChildren(i,[c(t,n,"r")]),i},t.mathPalette=c,t.fixInitialMO=function(t,e){for(var r=0,n=e.length;r<n;r++){var i=e[r];if(i&&!At.default.isType(i,"mspace")&&(!At.default.isType(i,"TeXAtom")||At.default.getChildren(i)[0]&&At.default.getChildren(At.default.getChildren(i)[0]).length)){if(At.default.isEmbellished(i)||At.default.isType(i,"TeXAtom")&&At.default.getTexClass(i)===Y.TEXCLASS.REL){var o=t.nodeFactory.create("node","mi");e.unshift(o)}break}}},t.internalMath=function(t,e,r,n){if(t.configuration.options.internalMath)return t.configuration.options.internalMath(t,e,r,n);var i,o,s=n||t.stack.env.font,a=s?{mathvariant:s}:{},l=[],c=0,h=0,d="",f=0;if(e.match(/\\?[${}\\]|\\\(|\\(eq)?ref\s*\{/)){for(;c<e.length;)if("$"===(i=e.charAt(c++)))"$"===d&&0===f?(o=t.create("node","TeXAtom",[new Rt.default(e.slice(h,c-1),{},t.configuration).mml()]),l.push(o),d="",h=c):""===d&&(h<c-1&&l.push(u(t,e.slice(h,c-1),a)),d="$",h=c);else if("{"===i&&""!==d)f++;else if("}"===i)if("}"===d&&0===f){var p=new Rt.default(e.slice(h,c),{},t.configuration).mml();o=t.create("node","TeXAtom",[p],a),l.push(o),d="",h=c}else""!==d&&f&&f--;else if("\\"===i)if(""===d&&e.substr(c).match(/^(eq)?ref\s*\{/)){var m=RegExp["$&"].length;h<c-1&&l.push(u(t,e.slice(h,c-1),a)),d="}",h=c-1,c+=m}else"("===(i=e.charAt(c++))&&""===d?(h<c-2&&l.push(u(t,e.slice(h,c-2),a)),d=")",h=c):")"===i&&")"===d&&0===f?(o=t.create("node","TeXAtom",[new Rt.default(e.slice(h,c-2),{},t.configuration).mml()]),l.push(o),d="",h=c):i.match(/[${}\\]/)&&""===d&&(c--,e=e.substr(0,c-1)+e.substr(c));if(""!==d)throw new Ht.default("MathNotTerminated","Math not terminated in text box")}return h<e.length&&l.push(u(t,e.slice(h),a)),null!=r?l=[t.create("node","mstyle",l,{displaystyle:!1,scriptlevel:r})]:l.length>1&&(l=[t.create("node","mrow",l)]),l},t.internalText=u,t.trimSpaces=function(t){if("string"!=typeof t)return t;var e=t.trim();return e.match(/\\$/)&&t.match(/ $/)&&(e+=" "),e},t.setArrayAlign=function(e,r){return"t"===(r=t.trimSpaces(r||""))?e.arraydef.align="baseline 1":"b"===r?e.arraydef.align="baseline -1":"c"===r?e.arraydef.align="center":r&&(e.arraydef.align=r),e},t.substituteArgs=function(t,e,r){for(var n="",i="",o=0;o<r.length;){var s=r.charAt(o++);if("\\"===s)n+=s+r.charAt(o++);else if("#"===s)if("#"===(s=r.charAt(o++)))n+=s;else{if(!s.match(/[1-9]/)||parseInt(s,10)>e.length)throw new Ht.default("IllegalMacroParam","Illegal macro parameter reference");i=h(t,h(t,i,n),e[parseInt(s,10)-1]),n=""}else n+=s}return h(t,i,n)},t.addArgs=h,t.checkEqnEnv=function(t){if(t.stack.global.eqnenv)throw new Ht.default("ErroneousNestingEq","Erroneous nesting of equation structures");t.stack.global.eqnenv=!0},t.MmlFilterAttribute=function(t,e,r){return r},t.getFontDef=function(t){var e=t.stack.env.font;return e?{mathvariant:e}:{}},t.keyvalOptions=function(t,e,r){var n,i;void 0===e&&(e=null),void 0===r&&(r=!1);var o=function(t){var e,r,n,i,o,s={},a=t;for(;a;)i=(e=$t(f(a,["=",","]),3))[0],n=e[1],a=e[2],"="===n?(o=(r=$t(f(a,[","]),3))[0],n=r[1],a=r[2],o="false"===o||"true"===o?JSON.parse(o):o,s[i]=o):i&&(s[i]=!0);return s}(t);if(e)try{for(var s=jt(Object.keys(o)),a=s.next();!a.done;a=s.next()){var l=a.value;if(!e.hasOwnProperty(l)){if(r)throw new Ht.default("InvalidOption","Invalid optional argument: %1",l);delete o[l]}}}catch(t){n={error:t}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return o}}(Xt||(Xt={})),Nt.default=Xt;var Kt={},Jt=Kt&&Kt.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Qt=Kt&&Kt.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},Yt=Kt&&Kt.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(Kt,"__esModule",{value:!0});var Zt=function(){function t(t,e,r){this._factory=t,this._env=e,this.global={},this.stack=[],this.global={isInner:r},this.stack=[this._factory.create("start",this.global)],e&&(this.stack[0].env=e),this.env=this.stack[0].env}return Object.defineProperty(t.prototype,"env",{get:function(){return this._env},set:function(t){this._env=t},enumerable:!1,configurable:!0}),t.prototype.Push=function(){for(var t,e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{for(var i=Jt(r),o=i.next();!o.done;o=i.next()){var s=o.value;if(s){var a=At.default.isNode(s)?this._factory.create("mml",s):s;a.global=this.global;var l=Qt(this.stack.length?this.Top().checkItem(a):[null,!0],2),c=l[0],u=l[1];u&&(c?(this.Pop(),this.Push.apply(this,Yt([],Qt(c)))):(this.stack.push(a),a.env?(a.copyEnv&&Object.assign(a.env,this.env),this.env=a.env):a.env=this.env))}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t.prototype.Pop=function(){var t=this.stack.pop();return t.isOpen||delete t.env,this.env=this.stack.length?this.Top().env:{},t},t.prototype.Top=function(t){return void 0===t&&(t=1),this.stack.length<t?null:this.stack[this.stack.length-t]},t.prototype.Prev=function(t){var e=this.Top();return t?e.First:e.Pop()},t.prototype.toString=function(){return"stack[\n  "+this.stack.join("\n  ")+"\n]"},t}();Kt.default=Zt;var te=function(){function t(t,e,r){var n,i,o;this._string=t,this.configuration=r,this.macroCount=0,this.i=0,this.currentCS="",this.baseI=this.prevI=(null===(o=r.parser)||void 0===o?void 0:o.actualI)-t.length-1|0;var s,a=e.hasOwnProperty("isInner"),l=e.isInner;if(delete e.isInner,e){s={};try{for(var c=Dt(Object.keys(e)),u=c.next();!u.done;u=c.next()){var h=u.value;s[h]=e[h]}}catch(t){n={error:t}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}}this.configuration.pushParser(this),this.stack=new Kt.default(this.itemFactory,s,!a||l),this.Parse(),this.Push(this.itemFactory.create("stop"))}return Object.defineProperty(t.prototype,"options",{get:function(){return this.configuration.options},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemFactory",{get:function(){return this.configuration.itemFactory},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tags",{get:function(){return this.configuration.tags},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"string",{get:function(){return this._string},set:function(t){this._string=t},enumerable:!1,configurable:!0}),t.prototype.parse=function(t,e){return this.configuration.handlers.get(t).parse(e)},t.prototype.lookup=function(t,e){return this.configuration.handlers.get(t).lookup(e)},t.prototype.contains=function(t,e){return this.configuration.handlers.get(t).contains(e)},t.prototype.toString=function(){var t,e,r="";try{for(var n=Dt(Array.from(this.configuration.handlers.keys())),i=n.next();!i.done;i=n.next()){var o=i.value;r+=o+": "+this.configuration.handlers.get(o)+"\n"}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return r},t.prototype.Parse=function(){for(var t;this.i<this.string.length;)t=this.getCodePoint(),this.i+=t.length,this.parse("character",[this,t])},Object.defineProperty(t.prototype,"actualI",{get:function(){return this.i+this.baseI},enumerable:!1,configurable:!0}),t.prototype.Push=function(t){t instanceof Y.AbstractMmlNode&&(t.beginLoc=this.prevI,t.endLoc=this.actualI),this.prevI=this.actualI,this.decBase&&(this.baseI--,this.decBase=!1),t instanceof Y.AbstractMmlNode&&t.isInferred?this.PushAll(t.childNodes):this.stack.Push(t)},t.prototype.PushAll=function(t){var e,r;try{for(var n=Dt(t),i=n.next();!i.done;i=n.next()){var o=i.value;this.stack.Push(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.mml=function(){if(!this.stack.Top().isKind("mml"))return null;var t=this.stack.Top().First;return this.configuration.popParser(),t},t.prototype.convertDelimiter=function(t){var e=this.lookup("delimiter",t);return e?e.char:null},t.prototype.getCodePoint=function(){var t=this.string.codePointAt(this.i);return void 0===t?"":String.fromCodePoint(t)},t.prototype.nextIsSpace=function(){return!!this.string.charAt(this.i).match(/\s/)},t.prototype.GetNext=function(){for(;this.nextIsSpace();)this.i++;return this.getCodePoint()},t.prototype.GetCS=function(){var t=this.string.slice(this.i).match(/^(([a-z]+) ?|[\uD800-\uDBFF].|.)/i);return t?(this.i+=t[0].length,t[2]||t[1]):(this.i++," ")},t.prototype.GetArgument=function(t,e){switch(this.GetNext()){case"":if(!e)throw new Ht.default("MissingArgFor","Missing argument for %1",this.currentCS);return null;case"}":if(!e)throw new Ht.default("ExtraCloseMissingOpen","Extra close brace or missing open brace");return null;case"\\":return this.i++,"\\"+this.GetCS();case"{":for(var r=++this.i,n=1;this.i<this.string.length;)switch(this.string.charAt(this.i++)){case"\\":this.i++;break;case"{":n++;break;case"}":if(0==--n)return this.string.slice(r,this.i-1)}throw new Ht.default("MissingCloseBrace","Missing close brace")}var i=this.getCodePoint();return this.i+=i.length,i},t.prototype.GetBrackets=function(t,e){if("["!==this.GetNext())return e;for(var r=++this.i,n=0;this.i<this.string.length;)switch(this.string.charAt(this.i++)){case"{":n++;break;case"\\":this.i++;break;case"}":if(n--<=0)throw new Ht.default("ExtraCloseLooking","Extra close brace while looking for %1","']'");break;case"]":if(0===n)return this.string.slice(r,this.i-1)}throw new Ht.default("MissingCloseBracket","Could not find closing ']' for argument to %1",this.currentCS)},t.prototype.GetDelimiter=function(t,e){var r=this.GetNext();if(this.i+=r.length,this.i<=this.string.length&&("\\"===r?r+=this.GetCS():"{"===r&&e&&(this.i--,r=this.GetArgument(t)),this.contains("delimiter",r)))return this.convertDelimiter(r);throw new Ht.default("MissingOrUnrecognizedDelim","Missing or unrecognized delimiter for %1",this.currentCS)},t.prototype.GetDimen=function(t){if("{"===this.GetNext()){var e=this.GetArgument(t),r=Pt(Nt.default.matchDimen(e),2),n=r[0],i=r[1];if(n)return n+i}else{e=this.string.slice(this.i);var o=Pt(Nt.default.matchDimen(e,!0),3),s=(n=o[0],i=o[1],o[2]);if(n)return this.i+=s,n+i}throw new Ht.default("MissingDimOrUnits","Missing dimension or its units for %1",this.currentCS)},t.prototype.GetUpTo=function(t,e){for(;this.nextIsSpace();)this.i++;for(var r=this.i,n=0;this.i<this.string.length;){var i=this.i,o=this.GetNext();switch(this.i+=o.length,o){case"\\":o+=this.GetCS();break;case"{":n++;break;case"}":if(0===n)throw new Ht.default("ExtraCloseLooking","Extra close brace while looking for %1",e);n--}if(0===n&&o===e)return this.string.slice(r,i)}throw new Ht.default("TokenNotFoundForCommand","Could not find %1 for %2",e,this.currentCS)},t.prototype.ParseArg=function(e){return new t(this.GetArgument(e),this.stack.env,this.configuration).mml()},t.prototype.ParseUpTo=function(e,r){return new t(this.GetUpTo(e,r),this.stack.env,this.configuration).mml()},t.prototype.GetDelimiterArg=function(t){var e=Nt.default.trimSpaces(this.GetArgument(t));if(""===e)return null;if(this.contains("delimiter",e))return e;throw new Ht.default("MissingOrUnrecognizedDelim","Missing or unrecognized delimiter for %1",this.currentCS)},t.prototype.GetStar=function(){var t="*"===this.GetNext();return t&&this.i++,t},t.prototype.create=function(t){for(var e,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return(e=this.configuration.nodeFactory).create.apply(e,It([t],Pt(r)))},t}();Rt.default=te;var ee={},re=ee&&ee.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},ne=ee&&ee.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t},ie=ee&&ee.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ee,"__esModule",{value:!0});var oe,se={},ae=se&&se.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(se,"__esModule",{value:!0});var le={},ce=le&&le.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ue=le&&le.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},he=le&&le.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t},de=le&&le.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(le,"__esModule",{value:!0}),le.BaseItem=le.MmlStack=void 0;var fe=function(){function t(t){this._nodes=t}return Object.defineProperty(t.prototype,"nodes",{get:function(){return this._nodes},enumerable:!1,configurable:!0}),t.prototype.Push=function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];(t=this._nodes).push.apply(t,he([],ue(e)))},t.prototype.Pop=function(){return this._nodes.pop()},Object.defineProperty(t.prototype,"First",{get:function(){return this._nodes[this.Size()-1]},set:function(t){this._nodes[this.Size()-1]=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Last",{get:function(){return this._nodes[0]},set:function(t){this._nodes[0]=t},enumerable:!1,configurable:!0}),t.prototype.Peek=function(t){return null==t&&(t=1),this._nodes.slice(this.Size()-t)},t.prototype.Size=function(){return this._nodes.length},t.prototype.Clear=function(){this._nodes=[]},t.prototype.toMml=function(t,e){return void 0===t&&(t=!0),1!==this._nodes.length||e?this.create("node",t?"inferredMrow":"mrow",this._nodes,{}):this.First},t.prototype.create=function(t){for(var e,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return(e=this.factory.configuration.nodeFactory).create.apply(e,he([t],ue(r)))},t}();le.MmlStack=fe;var pe=function(t){function e(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=t.call(this,r)||this;return i.factory=e,i.global={},i._properties={},i.isOpen&&(i._env={}),i}return ce(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"base"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"env",{get:function(){return this._env},set:function(t){this._env=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"copyEnv",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.getProperty=function(t){return this._properties[t]},e.prototype.setProperty=function(t,e){return this._properties[t]=e,this},Object.defineProperty(e.prototype,"isOpen",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isClose",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFinal",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.isKind=function(t){return t===this.kind},e.prototype.checkItem=function(t){if(t.isKind("over")&&this.isOpen&&(t.setProperty("num",this.toMml(!1)),this.Clear()),t.isKind("cell")&&this.isOpen){if(t.getProperty("linebreak"))return e.fail;throw new Ht.default("Misplaced","Misplaced %1",t.getName())}if(t.isClose&&this.getErrors(t.kind)){var r=ue(this.getErrors(t.kind),2),n=r[0],i=r[1];throw new Ht.default(n,i,t.getName())}return t.isFinal?(this.Push(t.First),e.fail):e.success},e.prototype.clearEnv=function(){var t,e;try{for(var r=de(Object.keys(this.env)),n=r.next();!n.done;n=r.next()){var i=n.value;delete this.env[i]}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},e.prototype.setProperties=function(t){return Object.assign(this._properties,t),this},e.prototype.getName=function(){return this.getProperty("name")},e.prototype.toString=function(){return this.kind+"["+this.nodes.join("; ")+"]"},e.prototype.getErrors=function(t){return(this.constructor.errors||{})[t]||e.errors[t]},e.fail=[null,!1],e.success=[null,!0],e.errors={end:["MissingBeginExtraEnd","Missing \\begin{%1} or extra \\end{%1}"],close:["ExtraCloseMissingOpen","Extra close brace or missing open brace"],right:["MissingLeftExtraRight","Missing \\left or extra \\right"],middle:["ExtraMiddle","Extra \\middle"]},e}(fe);le.BaseItem=pe;var me={},ge=me&&me.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ye=me&&me.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},ve=me&&me.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(me,"__esModule",{value:!0}),me.AbstractFactory=void 0;var be=function(){function t(t){var e,r;void 0===t&&(t=null),this.defaultKind="unknown",this.nodeMap=new Map,this.node={},null===t&&(t=this.constructor.defaultNodes);try{for(var n=ge(Object.keys(t)),i=n.next();!i.done;i=n.next()){var o=i.value;this.setNodeClass(o,t[o])}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}}return t.prototype.create=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return(this.node[t]||this.node[this.defaultKind]).apply(void 0,ve([],ye(e)))},t.prototype.setNodeClass=function(t,e){this.nodeMap.set(t,e);var r=this,n=this.nodeMap.get(t);this.node[t]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new(n.bind.apply(n,ve([void 0,r],ye(t))))}},t.prototype.getNodeClass=function(t){return this.nodeMap.get(t)},t.prototype.deleteNodeClass=function(t){this.nodeMap.delete(t),delete this.node[t]},t.prototype.nodeIsKind=function(t,e){return t instanceof this.getNodeClass(e)},t.prototype.getKinds=function(){return Array.from(this.nodeMap.keys())},t.defaultNodes={},t}();me.AbstractFactory=be;var Ae=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ae(e,t),e}(le.BaseItem),Ce=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaultKind="dummy",e.configuration=null,e}return ae(e,t),e.DefaultStackItems=((oe={})[Ae.prototype.kind]=Ae,oe),e}(me.AbstractFactory);se.default=Ce;var we={},xe=we&&we.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},Ee=we&&we.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(we,"__esModule",{value:!0}),we.NodeFactory=void 0;var Se=function(){function t(){this.mmlFactory=null,this.factory={node:t.createNode,token:t.createToken,text:t.createText,error:t.createError}}return t.createNode=function(t,e,r,n,i){void 0===r&&(r=[]),void 0===n&&(n={});var o=t.mmlFactory.create(e);return o.setChildren(r),i&&o.appendChild(i),At.default.setProperties(o,n),o},t.createToken=function(t,e,r,n){void 0===r&&(r={}),void 0===n&&(n="");var i=t.create("text",n);return t.create("node",e,[],r,i)},t.createText=function(t,e){return null==e?null:t.mmlFactory.create("text").setText(e)},t.createError=function(t,e){var r=t.create("text",e),n=t.create("node","mtext",[],{},r);return t.create("node","merror",[n],{"data-mjx-error":e})},t.prototype.setMmlFactory=function(t){this.mmlFactory=t},t.prototype.set=function(t,e){this.factory[t]=e},t.prototype.setCreators=function(t){for(var e in t)this.set(e,t[e])},t.prototype.create=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=this.factory[t]||this.factory.node,i=n.apply(void 0,Ee([this,e[0]],xe(e.slice(1))));return"node"===t&&this.configuration.addNode(e[0],i),i},t.prototype.get=function(t){return this.factory[t]},t}();we.NodeFactory=Se;var Me=function(){function t(t,e){void 0===e&&(e=[]),this.options={},this.packageData=new Map,this.parsers=[],this.root=null,this.nodeLists={},this.error=!1,this.handlers=t.handlers,this.nodeFactory=new we.NodeFactory,this.nodeFactory.configuration=this,this.nodeFactory.setCreators(t.nodes),this.itemFactory=new se.default(t.items),this.itemFactory.configuration=this,A.defaultOptions.apply(void 0,ne([this.options],re(e))),A.defaultOptions(this.options,t.options)}return t.prototype.pushParser=function(t){this.parsers.unshift(t)},t.prototype.popParser=function(){this.parsers.shift()},Object.defineProperty(t.prototype,"parser",{get:function(){return this.parsers[0]},enumerable:!1,configurable:!0}),t.prototype.clear=function(){this.parsers=[],this.root=null,this.nodeLists={},this.error=!1,this.tags.resetTag()},t.prototype.addNode=function(t,e){var r=this.nodeLists[t];r||(r=this.nodeLists[t]=[]),r.push(e)},t.prototype.getList=function(t){var e,r,n=this.nodeLists[t]||[],i=[];try{for(var o=ie(n),s=o.next();!s.done;s=o.next()){var a=s.value;this.inTree(a)&&i.push(a)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return this.nodeLists[t]=i,i},t.prototype.inTree=function(t){for(;t&&t!==this.root;)t=t.parent;return!!t},t}();ee.default=Me;var Oe={},_e=Oe&&Oe.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Te=Oe&&Oe.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.TagsFactory=Oe.AllTags=Oe.NoTags=Oe.AbstractTags=Oe.TagInfo=Oe.Label=void 0;var Fe=function(t,e){void 0===t&&(t="???"),void 0===e&&(e=""),this.tag=t,this.id=e};Oe.Label=Fe;var Be=function(t,e,r,n,i,o,s,a){void 0===t&&(t=""),void 0===e&&(e=!1),void 0===r&&(r=!1),void 0===n&&(n=null),void 0===i&&(i=""),void 0===o&&(o=""),void 0===s&&(s=!1),void 0===a&&(a=""),this.env=t,this.taggable=e,this.defaultTags=r,this.tag=n,this.tagId=i,this.tagFormat=o,this.noTag=s,this.labelId=a};Oe.TagInfo=Be;var Le=function(){function t(){this.counter=0,this.allCounter=0,this.configuration=null,this.ids={},this.allIds={},this.labels={},this.allLabels={},this.redo=!1,this.refUpdate=!1,this.currentTag=new Be,this.history=[],this.stack=[],this.enTag=function(t,e){var r=this.configuration.nodeFactory,n=r.create("node","mtd",[t]),i=r.create("node","mlabeledtr",[e,n]);return r.create("node","mtable",[i],{side:this.configuration.options.tagSide,minlabelspacing:this.configuration.options.tagIndent,displaystyle:!0})}}return t.prototype.start=function(t,e,r){this.currentTag&&this.stack.push(this.currentTag),this.currentTag=new Be(t,e,r)},Object.defineProperty(t.prototype,"env",{get:function(){return this.currentTag.env},enumerable:!1,configurable:!0}),t.prototype.end=function(){this.history.push(this.currentTag),this.currentTag=this.stack.pop()},t.prototype.tag=function(t,e){this.currentTag.tag=t,this.currentTag.tagFormat=e?t:this.formatTag(t),this.currentTag.noTag=!1},t.prototype.notag=function(){this.tag("",!0),this.currentTag.noTag=!0},Object.defineProperty(t.prototype,"noTag",{get:function(){return this.currentTag.noTag},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this.currentTag.labelId},set:function(t){this.currentTag.labelId=t},enumerable:!1,configurable:!0}),t.prototype.formatUrl=function(t,e){return e+"#"+encodeURIComponent(t)},t.prototype.formatTag=function(t){return"("+t+")"},t.prototype.formatId=function(t){return"mjx-eqn:"+t.replace(/\s/g,"_")},t.prototype.formatNumber=function(t){return t.toString()},t.prototype.autoTag=function(){null==this.currentTag.tag&&(this.counter++,this.tag(this.formatNumber(this.counter),!1))},t.prototype.clearTag=function(){this.label="",this.tag(null,!0),this.currentTag.tagId=""},t.prototype.getTag=function(t){if(void 0===t&&(t=!1),t)return this.autoTag(),this.makeTag();var e=this.currentTag;return e.taggable&&!e.noTag&&(e.defaultTags&&this.autoTag(),e.tag)?this.makeTag():null},t.prototype.resetTag=function(){this.history=[],this.redo=!1,this.refUpdate=!1,this.clearTag()},t.prototype.reset=function(t){void 0===t&&(t=0),this.resetTag(),this.counter=this.allCounter=t,this.allLabels={},this.allIds={}},t.prototype.startEquation=function(t){this.history=[],this.stack=[],this.clearTag(),this.currentTag=new Be("",void 0,void 0),this.labels={},this.ids={},this.counter=this.allCounter,this.redo=!1;var e=t.inputData.recompile;e&&(this.refUpdate=!0,this.counter=e.counter)},t.prototype.finishEquation=function(t){this.redo&&(t.inputData.recompile={state:t.state(),counter:this.allCounter}),this.refUpdate||(this.allCounter=this.counter),Object.assign(this.allIds,this.ids),Object.assign(this.allLabels,this.labels)},t.prototype.finalize=function(t,e){if(!e.display||this.currentTag.env||null==this.currentTag.tag)return t;var r=this.makeTag();return this.enTag(t,r)},t.prototype.makeId=function(){this.currentTag.tagId=this.formatId(this.configuration.options.useLabelIds&&this.label||this.currentTag.tag)},t.prototype.makeTag=function(){this.makeId(),this.label&&(this.labels[this.label]=new Fe(this.currentTag.tag,this.currentTag.tagId));var t=new Rt.default("\\text{"+this.currentTag.tagFormat+"}",{},this.configuration).mml();return this.configuration.nodeFactory.create("node","mtd",[t],{id:this.currentTag.tagId})},t}();Oe.AbstractTags=Le;var ke=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _e(e,t),e.prototype.autoTag=function(){},e.prototype.getTag=function(){return this.currentTag.tag?t.prototype.getTag.call(this):null},e}(Le);Oe.NoTags=ke;var Re,De,Pe,Ie=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _e(e,t),e.prototype.finalize=function(t,e){if(!e.display||this.history.find((function(t){return t.taggable})))return t;var r=this.getTag(!0);return this.enTag(t,r)},e}(Le);Oe.AllTags=Ie,Re=Oe.TagsFactory||(Oe.TagsFactory={}),De=new Map([["none",ke],["all",Ie]]),Pe="none",Re.OPTIONS={tags:Pe,tagSide:"right",tagIndent:"0.8em",multlineWidth:"85%",useLabelIds:!0,ignoreDuplicateLabels:!1},Re.add=function(t,e){De.set(t,e)},Re.addTags=function(t){var e,r;try{for(var n=Te(Object.keys(t)),i=n.next();!i.done;i=n.next()){var o=i.value;Re.add(o,t[o])}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},Re.create=function(t){var e=De.get(t)||De.get(Pe);if(!e)throw Error("Unknown tags class");return new e},Re.setDefault=function(t){Pe=t},Re.getDefault=function(){return Re.create(Pe)};var Ne={},$e=Ne&&Ne.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},je=Ne&&Ne.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s};Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.ParserConfiguration=Ne.ConfigurationHandler=Ne.Configuration=void 0;var He,We,ze,Ve={},Xe=Ve&&Ve.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qe=Ve&&Ve.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s};Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.SubHandlers=Ve.SubHandler=Ve.MapHandler=void 0,We=He=Ve.MapHandler||(Ve.MapHandler={}),ze=new Map,We.register=function(t){ze.set(t.name,t)},We.getMap=function(t){return ze.get(t)};var Ge=function(){function t(){this._configuration=new u.PrioritizedList,this._fallback=new L.FunctionList}return t.prototype.add=function(t,e,r){var n,i;void 0===r&&(r=u.PrioritizedList.DEFAULTPRIORITY);try{for(var o=Xe(t.slice().reverse()),s=o.next();!s.done;s=o.next()){var a=s.value,l=He.getMap(a);if(!l)return void this.warn("Configuration "+a+" not found! Omitted.");this._configuration.add(l,r)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}e&&this._fallback.add(e,r)},t.prototype.parse=function(t){var e,r;try{for(var n=Xe(this._configuration),i=n.next();!i.done;i=n.next()){var o=i.value.item.parse(t);if(o)return o}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}var s=qe(t,2),a=s[0],l=s[1];this._fallback.toArray()[0].item(a,l)},t.prototype.lookup=function(t){var e=this.applicable(t);return e?e.lookup(t):null},t.prototype.contains=function(t){return!!this.applicable(t)},t.prototype.toString=function(){var t,e,r=[];try{for(var n=Xe(this._configuration),i=n.next();!i.done;i=n.next()){var o=i.value.item;r.push(o.name)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return r.join(", ")},t.prototype.applicable=function(t){var e,r;try{for(var n=Xe(this._configuration),i=n.next();!i.done;i=n.next()){var o=i.value.item;if(o.contains(t))return o}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return null},t.prototype.retrieve=function(t){var e,r;try{for(var n=Xe(this._configuration),i=n.next();!i.done;i=n.next()){var o=i.value.item;if(o.name===t)return o}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return null},t.prototype.warn=function(t){console.log("TexParser Warning: "+t)},t}();Ve.SubHandler=Ge;var Ue=function(){function t(){this.map=new Map}return t.prototype.add=function(t,e,r){var n,i;void 0===r&&(r=u.PrioritizedList.DEFAULTPRIORITY);try{for(var o=Xe(Object.keys(t)),s=o.next();!s.done;s=o.next()){var a=s.value,l=this.get(a);l||(l=new Ge,this.set(a,l)),l.add(t[a],e[a],r)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},t.prototype.set=function(t,e){this.map.set(t,e)},t.prototype.get=function(t){return this.map.get(t)},t.prototype.retrieve=function(t){var e,r;try{for(var n=Xe(this.map.values()),i=n.next();!i.done;i=n.next()){var o=i.value.retrieve(t);if(o)return o}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return null},t.prototype.keys=function(){return this.map.keys()},t}();Ve.SubHandlers=Ue;var Ke,Je=function(){function t(t,e,r,n,i,o,s,a,l,c,u,h){void 0===e&&(e={}),void 0===r&&(r={}),void 0===n&&(n={}),void 0===i&&(i={}),void 0===o&&(o={}),void 0===s&&(s={}),void 0===a&&(a=[]),void 0===l&&(l=[]),void 0===c&&(c=null),void 0===u&&(u=null),this.name=t,this.handler=e,this.fallback=r,this.items=n,this.tags=i,this.options=o,this.nodes=s,this.preprocessors=a,this.postprocessors=l,this.initMethod=c,this.configMethod=u,this.priority=h,this.handler=Object.assign({character:[],delimiter:[],macro:[],environment:[]},e)}return t.makeProcessor=function(t,e){return Array.isArray(t)?t:[t,e]},t._create=function(e,r){var n=this;void 0===r&&(r={});var i=r.priority||u.PrioritizedList.DEFAULTPRIORITY,o=r.init?this.makeProcessor(r.init,i):null,s=r.config?this.makeProcessor(r.config,i):null,a=(r.preprocessors||[]).map((function(t){return n.makeProcessor(t,i)})),l=(r.postprocessors||[]).map((function(t){return n.makeProcessor(t,i)}));return new t(e,r.handler||{},r.fallback||{},r.items||{},r.tags||{},r.options||{},r.nodes||{},a,l,o,s,i)},t.create=function(e,r){void 0===r&&(r={});var n=t._create(e,r);return Ke.set(e,n),n},t.local=function(e){return void 0===e&&(e={}),t._create("",e)},Object.defineProperty(t.prototype,"init",{get:function(){return this.initMethod?this.initMethod[0]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"config",{get:function(){return this.configMethod?this.configMethod[0]:null},enumerable:!1,configurable:!0}),t}();Ne.Configuration=Je,function(t){var e=new Map;t.set=function(t,r){e.set(t,r)},t.get=function(t){return e.get(t)},t.keys=function(){return e.keys()}}(Ke=Ne.ConfigurationHandler||(Ne.ConfigurationHandler={}));var Qe=function(){function t(t){var e,r,n,i;this.initMethod=new L.FunctionList,this.configMethod=new L.FunctionList,this.configurations=new u.PrioritizedList,this.handlers=new Ve.SubHandlers,this.items={},this.tags={},this.options={},this.nodes={};try{for(var o=$e(t.slice().reverse()),s=o.next();!s.done;s=o.next()){var a=s.value;this.addPackage(a)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}try{for(var l=$e(this.configurations),c=l.next();!c.done;c=l.next()){var h=c.value,d=h.item,f=h.priority;this.append(d,f)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}}return t.prototype.init=function(){this.initMethod.execute(this)},t.prototype.config=function(t){var e,r;this.configMethod.execute(this,t);try{for(var n=$e(this.configurations),i=n.next();!i.done;i=n.next()){var o=i.value;this.addFilters(t,o.item)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.addPackage=function(t){var e="string"==typeof t?t:t[0],r=Ke.get(e);r&&this.configurations.add(r,"string"==typeof t?r.priority:t[1])},t.prototype.add=function(t,e,r){var n,i;void 0===r&&(r={}),this.append(t),this.configurations.add(t,t.priority),this.init();var o=e.parseOptions;o.nodeFactory.setCreators(t.nodes);try{for(var s=$e(Object.keys(t.items)),a=s.next();!a.done;a=s.next()){var l=a.value;o.itemFactory.setNodeClass(l,t.items[l])}}catch(t){n={error:t}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}Oe.TagsFactory.addTags(t.tags),A.defaultOptions(o.options,t.options),A.userOptions(o.options,r),this.addFilters(e,t),t.config&&t.config(this,e)},t.prototype.append=function(t,e){e=e||t.priority,t.initMethod&&this.initMethod.add(t.initMethod[0],t.initMethod[1]),t.configMethod&&this.configMethod.add(t.configMethod[0],t.configMethod[1]),this.handlers.add(t.handler,t.fallback,e),Object.assign(this.items,t.items),Object.assign(this.tags,t.tags),A.defaultOptions(this.options,t.options),Object.assign(this.nodes,t.nodes)},t.prototype.addFilters=function(t,e){var r,n,i,o;try{for(var s=$e(e.preprocessors),a=s.next();!a.done;a=s.next()){var l=je(a.value,2),c=l[0],u=l[1];t.preFilters.add(c,u)}}catch(t){r={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}try{for(var h=$e(e.postprocessors),d=h.next();!d.done;d=h.next()){var f=je(d.value,2),p=f[0];u=f[1];t.postFilters.add(p,u)}}catch(t){i={error:t}}finally{try{d&&!d.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}},t}();Ne.ParserConfiguration=Qe;var Ye,Ze={},tr=Ze&&Ze.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.BaseConfiguration=Ze.BaseTags=Ze.Other=void 0;var er={},rr=er&&er.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),nr=er&&er.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},ir=er&&er.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},or=er&&er.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(er,"__esModule",{value:!0}),er.EnvironmentMap=er.CommandMap=er.MacroMap=er.DelimiterMap=er.CharacterMap=er.AbstractParseMap=er.RegExpMap=er.AbstractSymbolMap=void 0;var sr={};Object.defineProperty(sr,"__esModule",{value:!0}),sr.Macro=sr.Symbol=void 0;var ar=function(){function t(t,e,r){this._symbol=t,this._char=e,this._attributes=r}return Object.defineProperty(t.prototype,"symbol",{get:function(){return this._symbol},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"char",{get:function(){return this._char},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){return this._attributes},enumerable:!1,configurable:!0}),t}();sr.Symbol=ar;var lr=function(){function t(t,e,r){void 0===r&&(r=[]),this._symbol=t,this._func=e,this._args=r}return Object.defineProperty(t.prototype,"symbol",{get:function(){return this._symbol},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"func",{get:function(){return this._func},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"args",{get:function(){return this._args},enumerable:!1,configurable:!0}),t}();sr.Macro=lr;var cr=function(){function t(t,e){this._name=t,this._parser=e,Ve.MapHandler.register(this)}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t.prototype.parserFor=function(t){return this.contains(t)?this.parser:null},t.prototype.parse=function(t){var e=nr(t,2),r=e[0],n=e[1],i=this.parserFor(n),o=this.lookup(n);return i&&o?i(r,o)||!0:null},Object.defineProperty(t.prototype,"parser",{get:function(){return this._parser},set:function(t){this._parser=t},enumerable:!1,configurable:!0}),t}();er.AbstractSymbolMap=cr;var ur=function(t){function e(e,r,n){var i=t.call(this,e,r)||this;return i._regExp=n,i}return rr(e,t),e.prototype.contains=function(t){return this._regExp.test(t)},e.prototype.lookup=function(t){return this.contains(t)?t:null},e}(cr);er.RegExpMap=ur;var hr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.map=new Map,e}return rr(e,t),e.prototype.lookup=function(t){return this.map.get(t)},e.prototype.contains=function(t){return this.map.has(t)},e.prototype.add=function(t,e){this.map.set(t,e)},e.prototype.remove=function(t){this.map.delete(t)},e}(cr);er.AbstractParseMap=hr;var dr=function(t){function e(e,r,n){var i,o,s=t.call(this,e,r)||this;try{for(var a=ir(Object.keys(n)),l=a.next();!l.done;l=a.next()){var c=l.value,u=n[c],h=nr("string"==typeof u?[u,null]:u,2),d=h[0],f=h[1],p=new sr.Symbol(c,d,f);s.add(c,p)}}catch(t){i={error:t}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}return s}return rr(e,t),e}(hr);er.CharacterMap=dr;var fr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return rr(e,t),e.prototype.parse=function(e){var r=nr(e,2),n=r[0],i=r[1];return t.prototype.parse.call(this,[n,"\\"+i])},e}(dr);er.DelimiterMap=fr;var pr=function(t){function e(e,r,n){var i,o,s=t.call(this,e,null)||this;try{for(var a=ir(Object.keys(r)),l=a.next();!l.done;l=a.next()){var c=l.value,u=r[c],h=nr("string"==typeof u?[u]:u),d=h[0],f=h.slice(1),p=new sr.Macro(c,n[d],f);s.add(c,p)}}catch(t){i={error:t}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}return s}return rr(e,t),e.prototype.parserFor=function(t){var e=this.lookup(t);return e?e.func:null},e.prototype.parse=function(t){var e=nr(t,2),r=e[0],n=e[1],i=this.lookup(n),o=this.parserFor(n);return i&&o?o.apply(void 0,or([r,i.symbol],nr(i.args)))||!0:null},e}(hr);er.MacroMap=pr;var mr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return rr(e,t),e.prototype.parse=function(t){var e=nr(t,2),r=e[0],n=e[1],i=this.lookup(n),o=this.parserFor(n);if(!i||!o)return null;if(!o)return null;var s=r.currentCS;r.currentCS="\\"+n;var a=o.apply(void 0,or([r,"\\"+i.symbol],nr(i.args)));return r.currentCS=s,a||!0},e}(pr);er.CommandMap=mr;var gr=function(t){function e(e,r,n,i){var o=t.call(this,e,n,i)||this;return o.parser=r,o}return rr(e,t),e.prototype.parse=function(t){var e=nr(t,2),r=e[0],n=e[1],i=this.lookup(n),o=this.parserFor(n);return i&&o?(this.parser(r,i.symbol,o,i.args),!0):null},e}(pr);er.EnvironmentMap=gr;var yr={},vr=yr&&yr.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),br=yr&&yr.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},Ar=yr&&yr.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(yr,"__esModule",{value:!0}),yr.EquationItem=yr.EqnArrayItem=yr.ArrayItem=yr.DotsItem=yr.NotItem=yr.FnItem=yr.MmlItem=yr.CellItem=yr.PositionItem=yr.StyleItem=yr.EndItem=yr.BeginItem=yr.RightItem=yr.Middle=yr.LeftItem=yr.OverItem=yr.SubsupItem=yr.PrimeItem=yr.CloseItem=yr.OpenItem=yr.StopItem=yr.StartItem=void 0;var Cr=function(t){function e(e,r){var n=t.call(this,e)||this;return n.global=r,n}return vr(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"start"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isOpen",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.checkItem=function(e){if(e.isKind("stop")){var r=this.toMml();return this.global.isInner||(r=this.factory.configuration.tags.finalize(r,this.env)),[[this.factory.create("mml",r)],!0]}return t.prototype.checkItem.call(this,e)},e}(le.BaseItem);yr.StartItem=Cr;var wr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return vr(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"stop"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isClose",{get:function(){return!0},enumerable:!1,configurable:!0}),e}(le.BaseItem);yr.StopItem=wr;var xr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return vr(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"open"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isOpen",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.checkItem=function(e){if(e.isKind("close")){var r=this.toMml(),n=this.create("node","TeXAtom",[r]);return[[this.factory.create("mml",n)],!0]}return t.prototype.checkItem.call(this,e)},e.errors=Object.assign(Object.create(le.BaseItem.errors),{stop:["ExtraOpenMissingClose","Extra open brace or missing close brace"]}),e}(le.BaseItem);yr.OpenItem=xr;var Er=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return vr(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"close"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isClose",{get:function(){return!0},enumerable:!1,configurable:!0}),e}(le.BaseItem);yr.CloseItem=Er;var Sr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return vr(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"prime"},enumerable:!1,configurable:!0}),e.prototype.checkItem=function(t){var e=br(this.Peek(2),2),r=e[0],n=e[1];return!At.default.isType(r,"msubsup")||At.default.isType(r,"msup")?[[this.create("node","msup",[r,n]),t],!0]:(At.default.setChild(r,r.sup,n),[[r,t],!0])},e}(le.BaseItem);yr.PrimeItem=Sr;var Mr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return vr(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"subsup"},enumerable:!1,configurable:!0}),e.prototype.checkItem=function(e){if(e.isKind("open")||e.isKind("left"))return le.BaseItem.success;var r=this.First,n=this.getProperty("position");if(e.isKind("mml")){if(this.getProperty("primes"))if(2!==n)At.default.setChild(r,2,this.getProperty("primes"));else{At.default.setProperty(this.getProperty("primes"),"variantForm",!0);var i=this.create("node","mrow",[this.getProperty("primes"),e.First]);e.First=i}return At.default.setChild(r,n,e.First),null!=this.getProperty("movesupsub")&&At.default.setProperty(r,"movesupsub",this.getProperty("movesupsub")),[[this.factory.create("mml",r)],!0]}if(t.prototype.checkItem.call(this,e)[1]){var o=this.getErrors(["","sub","sup"][n]);throw new(Ht.default.bind.apply(Ht.default,Ar([void 0,o[0],o[1]],br(o.splice(2)))))}return null},e.errors=Object.assign(Object.create(le.BaseItem.errors),{stop:["MissingScript","Missing superscript or subscript argument"],sup:["MissingOpenForSup","Missing open brace for superscript"],sub:["MissingOpenForSub","Missing open brace for subscript"]}),e}(le.BaseItem);yr.SubsupItem=Mr;var Or=function(t){function e(e){var r=t.call(this,e)||this;return r.setProperty("name","\\over"),r}return vr(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"over"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isClose",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.checkItem=function(e){if(e.isKind("over"))throw new Ht.default("AmbiguousUseOf","Ambiguous use of %1",e.getName());if(e.isClose){var r=this.create("node","mfrac",[this.getProperty("num"),this.toMml(!1)]);return null!=this.getProperty("thickness")&&At.default.setAttribute(r,"linethickness",this.getProperty("thickness")),(this.getProperty("open")||this.getProperty("close"))&&(At.default.setProperty(r,"withDelims",!0),r=Nt.default.fixedFence(this.factory.configuration,this.getProperty("open"),r,this.getProperty("close"))),[[this.factory.create("mml",r),e],!0]}return t.prototype.checkItem.call(this,e)},e.prototype.toString=function(){return"over["+this.getProperty("num")+" / "+this.nodes.join("; ")+"]"},e}(le.BaseItem);yr.OverItem=Or;var _r=function(t){function e(e,r){var n=t.call(this,e)||this;return n.setProperty("delim",r),n}return vr(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"left"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isOpen",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.checkItem=function(e){if(e.isKind("right"))return[[this.factory.create("mml",Nt.default.fenced(this.factory.configuration,this.getProperty("delim"),this.toMml(),e.getProperty("delim"),"",e.getProperty("color")))],!0];if(e.isKind("middle")){var r={stretchy:!0};return e.getProperty("color")&&(r.mathcolor=e.getProperty("color")),this.Push(this.create("node","TeXAtom",[],{texClass:Y.TEXCLASS.CLOSE}),this.create("token","mo",r,e.getProperty("delim")),this.create("node","TeXAtom",[],{texClass:Y.TEXCLASS.OPEN})),this.env={},[[this],!0]}return t.prototype.checkItem.call(this,e)},e.errors=Object.assign(Object.create(le.BaseItem.errors),{stop:["ExtraLeftMissingRight","Extra \\left or missing \\right"]}),e}(le.BaseItem);yr.LeftItem=_r;var Tr=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.setProperty("delim",r),n&&i.setProperty("color",n),i}return vr(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"middle"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isClose",{get:function(){return!0},enumerable:!1,configurable:!0}),e}(le.BaseItem);yr.Middle=Tr;var Fr=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.setProperty("delim",r),n&&i.setProperty("color",n),i}return vr(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"right"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isClose",{get:function(){return!0},enumerable:!1,configurable:!0}),e}(le.BaseItem);yr.RightItem=Fr;var Br=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return vr(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"begin"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isOpen",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.checkItem=function(e){if(e.isKind("end")){if(e.getName()!==this.getName())throw new Ht.default("EnvBadEnd","\\begin{%1} ended with \\end{%2}",this.getName(),e.getName());return this.getProperty("end")?le.BaseItem.fail:[[this.factory.create("mml",this.toMml())],!0]}if(e.isKind("stop"))throw new Ht.default("EnvMissingEnd","Missing \\end{%1}",this.getName());return t.prototype.checkItem.call(this,e)},e}(le.BaseItem);yr.BeginItem=Br;var Lr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return vr(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"end"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isClose",{get:function(){return!0},enumerable:!1,configurable:!0}),e}(le.BaseItem);yr.EndItem=Lr;var kr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return vr(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"style"},enumerable:!1,configurable:!0}),e.prototype.checkItem=function(e){if(!e.isClose)return t.prototype.checkItem.call(this,e);var r=this.create("node","mstyle",this.nodes,this.getProperty("styles"));return[[this.factory.create("mml",r),e],!0]},e}(le.BaseItem);yr.StyleItem=kr;var Rr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return vr(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"position"},enumerable:!1,configurable:!0}),e.prototype.checkItem=function(e){if(e.isClose)throw new Ht.default("MissingBoxFor","Missing box for %1",this.getName());if(e.isFinal){var r=e.toMml();switch(this.getProperty("move")){case"vertical":return r=this.create("node","mpadded",[r],{height:this.getProperty("dh"),depth:this.getProperty("dd"),voffset:this.getProperty("dh")}),[[this.factory.create("mml",r)],!0];case"horizontal":return[[this.factory.create("mml",this.getProperty("left")),e,this.factory.create("mml",this.getProperty("right"))],!0]}}return t.prototype.checkItem.call(this,e)},e}(le.BaseItem);yr.PositionItem=Rr;var Dr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return vr(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"cell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isClose",{get:function(){return!0},enumerable:!1,configurable:!0}),e}(le.BaseItem);yr.CellItem=Dr;var Pr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return vr(e,t),Object.defineProperty(e.prototype,"isFinal",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"kind",{get:function(){return"mml"},enumerable:!1,configurable:!0}),e}(le.BaseItem);yr.MmlItem=Pr;var Ir=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return vr(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"fn"},enumerable:!1,configurable:!0}),e.prototype.checkItem=function(e){var r=this.First;if(r){if(e.isOpen)return le.BaseItem.success;if(!e.isKind("fn")){var n=e.First;if(!e.isKind("mml")||!n)return[[r,e],!0];if(At.default.isType(n,"mstyle")&&n.childNodes.length&&At.default.isType(n.childNodes[0].childNodes[0],"mspace")||At.default.isType(n,"mspace"))return[[r,e],!0];At.default.isEmbellished(n)&&(n=At.default.getCoreMO(n));var i=At.default.getForm(n);if(null!=i&&[0,0,1,1,0,1,1,0,0,0][i[2]])return[[r,e],!0]}var o=this.create("token","mo",{texClass:Y.TEXCLASS.NONE},zt.entities.ApplyFunction);return[[r,o,e],!0]}return t.prototype.checkItem.apply(this,arguments)},e}(le.BaseItem);yr.FnItem=Ir;var Nr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.remap=Ve.MapHandler.getMap("not_remap"),e}return vr(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"not"},enumerable:!1,configurable:!0}),e.prototype.checkItem=function(t){var e,r,n;if(t.isKind("open")||t.isKind("left"))return le.BaseItem.success;if(t.isKind("mml")&&(At.default.isType(t.First,"mo")||At.default.isType(t.First,"mi")||At.default.isType(t.First,"mtext"))&&(e=t.First,1===(r=At.default.getText(e)).length&&!At.default.getProperty(e,"movesupsub")&&1===At.default.getChildren(e).length))return this.remap.contains(r)?(n=this.create("text",this.remap.lookup(r).char),At.default.setChild(e,0,n)):(n=this.create("text","̸"),At.default.appendChildren(e,[n])),[[t],!0];n=this.create("text","⧸");var i=this.create("node","mtext",[],{},n),o=this.create("node","mpadded",[i],{width:0});return[[e=this.create("node","TeXAtom",[o],{texClass:Y.TEXCLASS.REL}),t],!0]},e}(le.BaseItem);yr.NotItem=Nr;var $r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return vr(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"dots"},enumerable:!1,configurable:!0}),e.prototype.checkItem=function(t){if(t.isKind("open")||t.isKind("left"))return le.BaseItem.success;var e=this.getProperty("ldots"),r=t.First;if(t.isKind("mml")&&At.default.isEmbellished(r)){var n=At.default.getTexClass(At.default.getCoreMO(r));n!==Y.TEXCLASS.BIN&&n!==Y.TEXCLASS.REL||(e=this.getProperty("cdots"))}return[[e,t],!0]},e}(le.BaseItem);yr.DotsItem=$r;var jr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.table=[],e.row=[],e.frame=[],e.hfill=[],e.arraydef={},e.dashed=!1,e}return vr(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"array"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isOpen",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"copyEnv",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.checkItem=function(e){if(e.isClose&&!e.isKind("over")){if(e.getProperty("isEntry"))return this.EndEntry(),this.clearEnv(),le.BaseItem.fail;if(e.getProperty("isCR"))return this.EndEntry(),this.EndRow(),this.clearEnv(),le.BaseItem.fail;this.EndTable(),this.clearEnv();var r=this.arraydef.scriptlevel;delete this.arraydef.scriptlevel;var n=this.create("node","mtable",this.table,this.arraydef);r&&n.setProperty("scriptlevel",r),4===this.frame.length?At.default.setAttribute(n,"frame",this.dashed?"dashed":"solid"):this.frame.length&&(this.arraydef.rowlines&&(this.arraydef.rowlines=this.arraydef.rowlines.replace(/none( none)+$/,"none")),n=this.create("node","menclose",[n],{notation:this.frame.join(" "),isFrame:!0}),"none"===(this.arraydef.columnlines||"none")&&"none"===(this.arraydef.rowlines||"none")||At.default.setAttribute(n,"padding",0)),(this.getProperty("open")||this.getProperty("close"))&&(n=Nt.default.fenced(this.factory.configuration,this.getProperty("open"),n,this.getProperty("close")));var i=this.factory.create("mml",n);if(this.getProperty("requireClose")){if(e.isKind("close"))return[[i],!0];throw new Ht.default("MissingCloseBrace","Missing close brace")}return[[i,e],!0]}return t.prototype.checkItem.call(this,e)},e.prototype.EndEntry=function(){var t=this.create("node","mtd",this.nodes);this.hfill.length&&(0===this.hfill[0]&&At.default.setAttribute(t,"columnalign","right"),this.hfill[this.hfill.length-1]===this.Size()&&At.default.setAttribute(t,"columnalign",At.default.getAttribute(t,"columnalign")?"center":"left")),this.row.push(t),this.Clear(),this.hfill=[]},e.prototype.EndRow=function(){var t;this.getProperty("isNumbered")&&3===this.row.length?(this.row.unshift(this.row.pop()),t=this.create("node","mlabeledtr",this.row)):t=this.create("node","mtr",this.row),this.table.push(t),this.row=[]},e.prototype.EndTable=function(){(this.Size()||this.row.length)&&(this.EndEntry(),this.EndRow()),this.checkLines()},e.prototype.checkLines=function(){if(this.arraydef.rowlines){var t=this.arraydef.rowlines.split(/ /);t.length===this.table.length?(this.frame.push("bottom"),t.pop(),this.arraydef.rowlines=t.join(" ")):t.length<this.table.length-1&&(this.arraydef.rowlines+=" none")}if(this.getProperty("rowspacing")){for(var e=this.arraydef.rowspacing.split(/ /);e.length<this.table.length;)e.push(this.getProperty("rowspacing")+"em");this.arraydef.rowspacing=e.join(" ")}},e}(le.BaseItem);yr.ArrayItem=jr;var Hr=function(t){function e(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=t.call(this,e)||this;return i.factory.configuration.tags.start(r[0],r[2],r[1]),i}return vr(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"eqnarray"},enumerable:!1,configurable:!0}),e.prototype.EndEntry=function(){this.row.length&&Nt.default.fixInitialMO(this.factory.configuration,this.nodes);var t=this.create("node","mtd",this.nodes);this.row.push(t),this.Clear()},e.prototype.EndRow=function(){var t="mtr",e=this.factory.configuration.tags.getTag();e&&(this.row=[e].concat(this.row),t="mlabeledtr"),this.factory.configuration.tags.clearTag();var r=this.create("node",t,this.row);this.table.push(r),this.row=[]},e.prototype.EndTable=function(){t.prototype.EndTable.call(this),this.factory.configuration.tags.end()},e}(jr);yr.EqnArrayItem=Hr;var Wr=function(t){function e(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=t.call(this,e)||this;return i.factory.configuration.tags.start("equation",!0,r[0]),i}return vr(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"equation"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isOpen",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.checkItem=function(e){if(e.isKind("end")){var r=this.toMml(),n=this.factory.configuration.tags.getTag();return this.factory.configuration.tags.end(),[[n?this.factory.configuration.tags.enTag(r,n):r,e],!0]}if(e.isKind("stop"))throw new Ht.default("EnvMissingEnd","Missing \\end{%1}",this.getName());return t.prototype.checkItem.call(this,e)},e}(le.BaseItem);yr.EquationItem=Wr;var zr={};Object.defineProperty(zr,"__esModule",{value:!0});var Vr,Xr={};Object.defineProperty(Xr,"__esModule",{value:!0}),Xr.TexConstant=void 0,(Vr=Xr.TexConstant||(Xr.TexConstant={})).Variant={NORMAL:"normal",BOLD:"bold",ITALIC:"italic",BOLDITALIC:"bold-italic",DOUBLESTRUCK:"double-struck",FRAKTUR:"fraktur",BOLDFRAKTUR:"bold-fraktur",SCRIPT:"script",BOLDSCRIPT:"bold-script",SANSSERIF:"sans-serif",BOLDSANSSERIF:"bold-sans-serif",SANSSERIFITALIC:"sans-serif-italic",SANSSERIFBOLDITALIC:"sans-serif-bold-italic",MONOSPACE:"monospace",INITIAL:"inital",TAILED:"tailed",LOOPED:"looped",STRETCHED:"stretched",CALLIGRAPHIC:"-tex-calligraphic",BOLDCALLIGRAPHIC:"-tex-bold-calligraphic",OLDSTYLE:"-tex-oldstyle",BOLDOLDSTYLE:"-tex-bold-oldstyle",MATHITALIC:"-tex-mathit"},Vr.Form={PREFIX:"prefix",INFIX:"infix",POSTFIX:"postfix"},Vr.LineBreak={AUTO:"auto",NEWLINE:"newline",NOBREAK:"nobreak",GOODBREAK:"goodbreak",BADBREAK:"badbreak"},Vr.LineBreakStyle={BEFORE:"before",AFTER:"after",DUPLICATE:"duplicate",INFIXLINBREAKSTYLE:"infixlinebreakstyle"},Vr.IndentAlign={LEFT:"left",CENTER:"center",RIGHT:"right",AUTO:"auto",ID:"id",INDENTALIGN:"indentalign"},Vr.IndentShift={INDENTSHIFT:"indentshift"},Vr.LineThickness={THIN:"thin",MEDIUM:"medium",THICK:"thick"},Vr.Notation={LONGDIV:"longdiv",ACTUARIAL:"actuarial",PHASORANGLE:"phasorangle",RADICAL:"radical",BOX:"box",ROUNDEDBOX:"roundedbox",CIRCLE:"circle",LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom",UPDIAGONALSTRIKE:"updiagonalstrike",DOWNDIAGONALSTRIKE:"downdiagonalstrike",VERTICALSTRIKE:"verticalstrike",HORIZONTALSTRIKE:"horizontalstrike",NORTHEASTARROW:"northeastarrow",MADRUWB:"madruwb",UPDIAGONALARROW:"updiagonalarrow"},Vr.Align={TOP:"top",BOTTOM:"bottom",CENTER:"center",BASELINE:"baseline",AXIS:"axis",LEFT:"left",RIGHT:"right"},Vr.Lines={NONE:"none",SOLID:"solid",DASHED:"dashed"},Vr.Side={LEFT:"left",RIGHT:"right",LEFTOVERLAP:"leftoverlap",RIGHTOVERLAP:"rightoverlap"},Vr.Width={AUTO:"auto",FIT:"fit"},Vr.Actiontype={TOGGLE:"toggle",STATUSLINE:"statusline",TOOLTIP:"tooltip",INPUT:"input"},Vr.Overflow={LINBREAK:"linebreak",SCROLL:"scroll",ELIDE:"elide",TRUNCATE:"truncate",SCALE:"scale"},Vr.Unit={EM:"em",EX:"ex",PX:"px",IN:"in",CM:"cm",MM:"mm",PT:"pt",PC:"pc"};var qr={},Gr=qr&&qr.__assign||function(){return(Gr=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Ur=qr&&qr.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s};Object.defineProperty(qr,"__esModule",{value:!0});var Kr={};Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.px=Kr.emRounded=Kr.em=Kr.percent=Kr.length2em=Kr.MATHSPACE=Kr.RELUNITS=Kr.UNITS=Kr.BIGDIMEN=void 0,Kr.BIGDIMEN=1e6,Kr.UNITS={px:1,in:96,cm:96/2.54,mm:96/25.4},Kr.RELUNITS={em:1,ex:.431,pt:.1,pc:1.2,mu:1/18},Kr.MATHSPACE={veryverythinmathspace:1/18,verythinmathspace:2/18,thinmathspace:3/18,mediummathspace:4/18,thickmathspace:5/18,verythickmathspace:6/18,veryverythickmathspace:7/18,negativeveryverythinmathspace:-1/18,negativeverythinmathspace:-2/18,negativethinmathspace:-3/18,negativemediummathspace:-4/18,negativethickmathspace:-5/18,negativeverythickmathspace:-6/18,negativeveryverythickmathspace:-7/18,thin:.04,medium:.06,thick:.1,normal:1,big:2,small:1/Math.sqrt(2),infinity:Kr.BIGDIMEN},Kr.length2em=function(t,e,r,n){if(void 0===e&&(e=0),void 0===r&&(r=1),void 0===n&&(n=16),"string"!=typeof t&&(t=String(t)),""===t||null==t)return e;if(Kr.MATHSPACE[t])return Kr.MATHSPACE[t];var i=t.match(/^\s*([-+]?(?:\.\d+|\d+(?:\.\d*)?))?(pt|em|ex|mu|px|pc|in|mm|cm|%)?/);if(!i)return e;var o=parseFloat(i[1]||"1"),s=i[2];return Kr.UNITS.hasOwnProperty(s)?o*Kr.UNITS[s]/n/r:Kr.RELUNITS.hasOwnProperty(s)?o*Kr.RELUNITS[s]:"%"===s?o/100*e:o*e},Kr.percent=function(t){return(100*t).toFixed(1).replace(/\.?0+$/,"")+"%"},Kr.em=function(t){return Math.abs(t)<.001?"0":t.toFixed(3).replace(/\.?0+$/,"")+"em"},Kr.emRounded=function(t,e){return void 0===e&&(e=16),t=(Math.round(t*e)+.05)/e,Math.abs(t)<.001?"0em":t.toFixed(3).replace(/\.?0+$/,"")+"em"},Kr.px=function(t,e,r){return void 0===e&&(e=-Kr.BIGDIMEN),void 0===r&&(r=16),t*=r,e&&t<e&&(t=e),Math.abs(t)<.1?"0":t.toFixed(1).replace(/\.0$/,"")+"px"};var Jr={},Qr={fontfamily:1,fontsize:1,fontweight:1,fontstyle:1,color:1,background:1,id:1,class:1,href:1,style:1};function Yr(t,e){var r=t.stack.env,n=r.inRoot;r.inRoot=!0;var i=new Rt.default(e,r,t.configuration),o=i.mml(),s=i.stack.global;if(s.leftRoot||s.upRoot){var a={};s.leftRoot&&(a.width=s.leftRoot),s.upRoot&&(a.voffset=s.upRoot,a.height=s.upRoot),o=t.create("node","mpadded",[o],a)}return r.inRoot=n,o}Jr.Open=function(t,e){t.Push(t.itemFactory.create("open"))},Jr.Close=function(t,e){t.Push(t.itemFactory.create("close"))},Jr.Tilde=function(t,e){t.Push(t.create("token","mtext",{},zt.entities.nbsp))},Jr.Space=function(t,e){},Jr.Superscript=function(t,e){var r,n,i,o=!1;t.GetNext().match(/\d/)&&(t.string=t.string.substr(0,t.i+1)+" "+t.string.substr(t.i+1),o=!0);var s=t.stack.Top();s.isKind("prime")?(i=(r=Ur(s.Peek(2),2))[0],n=r[1],t.stack.Pop()):(i=t.stack.Prev())||(i=t.create("token","mi",{},""));var a=At.default.getProperty(i,"movesupsub"),l=At.default.isType(i,"msubsup")?i.sup:i.over;if(At.default.isType(i,"msubsup")&&!At.default.isType(i,"msup")&&At.default.getChildAt(i,i.sup)||At.default.isType(i,"munderover")&&!At.default.isType(i,"mover")&&At.default.getChildAt(i,i.over)&&!At.default.getProperty(i,"subsupOK"))throw new Ht.default("DoubleExponent","Double exponent: use braces to clarify");At.default.isType(i,"msubsup")&&!At.default.isType(i,"msup")||(a?((!At.default.isType(i,"munderover")||At.default.isType(i,"mover")||At.default.getChildAt(i,i.over))&&(i=t.create("node","munderover",[i],{movesupsub:!0})),l=i.over):l=(i=t.create("node","msubsup",[i])).sup),t.Push(t.itemFactory.create("subsup",i).setProperties({position:l,primes:n,movesupsub:a})),t.decBase=o},Jr.Subscript=function(t,e){var r,n,i,o=!1;t.GetNext().match(/\d/)&&(t.string=t.string.substr(0,t.i+1)+" "+t.string.substr(t.i+1),o=!0);var s=t.stack.Top();s.isKind("prime")?(i=(r=Ur(s.Peek(2),2))[0],n=r[1],t.stack.Pop()):(i=t.stack.Prev())||(i=t.create("token","mi",{},""));var a=At.default.getProperty(i,"movesupsub"),l=At.default.isType(i,"msubsup")?i.sub:i.under;if(At.default.isType(i,"msubsup")&&!At.default.isType(i,"msup")&&At.default.getChildAt(i,i.sub)||At.default.isType(i,"munderover")&&!At.default.isType(i,"mover")&&At.default.getChildAt(i,i.under)&&!At.default.getProperty(i,"subsupOK"))throw new Ht.default("DoubleSubscripts","Double subscripts: use braces to clarify");At.default.isType(i,"msubsup")&&!At.default.isType(i,"msup")||(a?((!At.default.isType(i,"munderover")||At.default.isType(i,"mover")||At.default.getChildAt(i,i.under))&&(i=t.create("node","munderover",[i],{movesupsub:!0})),l=i.under):l=(i=t.create("node","msubsup",[i])).sub),t.Push(t.itemFactory.create("subsup",i).setProperties({position:l,primes:n,movesupsub:a})),t.decBase=o},Jr.Prime=function(t,e){var r=t.stack.Prev();if(r||(r=t.create("node","mi")),At.default.isType(r,"msubsup")&&!At.default.isType(r,"msup")&&At.default.getChildAt(r,r.sup))throw new Ht.default("DoubleExponentPrime","Prime causes double exponent: use braces to clarify");var n="";t.i--;do{n+=zt.entities.prime,t.i++,e=t.GetNext()}while("'"===e||e===zt.entities.rsquo);n=["","′","″","‴","⁗"][n.length]||n;var i=t.create("token","mo",{variantForm:!0},n);t.Push(t.itemFactory.create("prime",r,i))},Jr.Comment=function(t,e){for(;t.i<t.string.length&&"\n"!==t.string.charAt(t.i);)t.i++},Jr.Hash=function(t,e){throw new Ht.default("CantUseHash1","You can't use 'macro parameter character #' in math mode")},Jr.MathFont=function(t,e,r){var n=t.GetArgument(e),i=new Rt.default(n,Gr(Gr({},t.stack.env),{font:r,multiLetterIdentifiers:!0}),t.configuration).mml();i.isKind("inferredMrow")&&(i=t.create("node","mrow",i.childNodes)),t.Push(i)},Jr.SetFont=function(t,e,r){t.stack.env.font=r},Jr.SetStyle=function(t,e,r,n,i){t.stack.env.style=r,t.stack.env.level=i,t.Push(t.itemFactory.create("style").setProperty("styles",{displaystyle:n,scriptlevel:i}))},Jr.SetSize=function(t,e,r){t.stack.env.size=r,t.Push(t.itemFactory.create("style").setProperty("styles",{mathsize:Kr.em(r)}))},Jr.Spacer=function(t,e,r){var n=t.create("node","mspace",[],{width:Kr.em(r)}),i=t.create("node","mstyle",[n],{scriptlevel:0});t.Push(i)},Jr.LeftRight=function(t,e){var r=e.substr(1);t.Push(t.itemFactory.create(r,t.GetDelimiter(e),t.stack.env.color))},Jr.NamedFn=function(t,e,r){r||(r=e.substr(1));var n=t.create("token","mi",{texClass:Y.TEXCLASS.OP},r);t.Push(t.itemFactory.create("fn",n))},Jr.NamedOp=function(t,e,r){r||(r=e.substr(1)),r=r.replace(/&thinsp;/," ");var n=t.create("token","mo",{movablelimits:!0,movesupsub:!0,form:Xr.TexConstant.Form.PREFIX,texClass:Y.TEXCLASS.OP},r);t.Push(n)},Jr.Limits=function(t,e,r){var n=t.stack.Prev(!0);if(!n||At.default.getTexClass(At.default.getCoreMO(n))!==Y.TEXCLASS.OP&&null==At.default.getProperty(n,"movesupsub"))throw new Ht.default("MisplacedLimits","%1 is allowed only on operators",t.currentCS);var i,o=t.stack.Top();At.default.isType(n,"munderover")&&!r?(i=t.create("node","msubsup"),At.default.copyChildren(n,i),n=o.Last=i):At.default.isType(n,"msubsup")&&r&&(i=t.create("node","munderover"),At.default.copyChildren(n,i),n=o.Last=i),At.default.setProperty(n,"movesupsub",!!r),At.default.setProperties(At.default.getCoreMO(n),{movablelimits:!1}),(At.default.getAttribute(n,"movablelimits")||At.default.getProperty(n,"movablelimits"))&&At.default.setProperties(n,{movablelimits:!1})},Jr.Over=function(t,e,r,n){var i=t.itemFactory.create("over").setProperty("name",t.currentCS);r||n?(i.setProperty("open",r),i.setProperty("close",n)):e.match(/withdelims$/)&&(i.setProperty("open",t.GetDelimiter(e)),i.setProperty("close",t.GetDelimiter(e))),e.match(/^\\above/)?i.setProperty("thickness",t.GetDimen(e)):(e.match(/^\\atop/)||r||n)&&i.setProperty("thickness",0),t.Push(i)},Jr.Frac=function(t,e){var r=t.ParseArg(e),n=t.ParseArg(e),i=t.create("node","mfrac",[r,n]);t.Push(i)},Jr.Sqrt=function(t,e){var r=t.GetBrackets(e),n=t.GetArgument(e);"\\frac"===n&&(n+="{"+t.GetArgument(n)+"}{"+t.GetArgument(n)+"}");var i=new Rt.default(n,t.stack.env,t.configuration).mml();i=r?t.create("node","mroot",[i,Yr(t,r)]):t.create("node","msqrt",[i]),t.Push(i)},Jr.Root=function(t,e){var r=t.GetUpTo(e,"\\of"),n=t.ParseArg(e),i=t.create("node","mroot",[n,Yr(t,r)]);t.Push(i)},Jr.MoveRoot=function(t,e,r){if(!t.stack.env.inRoot)throw new Ht.default("MisplacedMoveRoot","%1 can appear only within a root",t.currentCS);if(t.stack.global[r])throw new Ht.default("MultipleMoveRoot","Multiple use of %1",t.currentCS);var n=t.GetArgument(e);if(!n.match(/-?[0-9]+/))throw new Ht.default("IntegerArg","The argument to %1 must be an integer",t.currentCS);"-"!==(n=parseInt(n,10)/15+"em").substr(0,1)&&(n="+"+n),t.stack.global[r]=n},Jr.Accent=function(t,e,r,n){var i=t.ParseArg(e),o=Gr(Gr({},Nt.default.getFontDef(t)),{accent:!0,mathaccent:!0}),s=At.default.createEntity(r),a=t.create("token","mo",o,s);At.default.setAttribute(a,"stretchy",!!n);var l=At.default.isEmbellished(i)?At.default.getCoreMO(i):i;At.default.isType(l,"mo")&&At.default.setProperties(l,{movablelimits:!1});var c=t.create("node","munderover");At.default.setChild(c,0,i),At.default.setChild(c,1,null),At.default.setChild(c,2,a);var u=t.create("node","TeXAtom",[c]);t.Push(u)},Jr.UnderOver=function(t,e,r,n){var i,o=t.ParseArg(e),s=At.default.getForm(o);(s&&s[3]&&s[3].movablelimits||At.default.getProperty(o,"movablelimits"))&&At.default.setProperties(o,{movablelimits:!1}),At.default.isType(o,"munderover")&&At.default.isEmbellished(o)&&(At.default.setProperties(At.default.getCoreMO(o),{lspace:0,rspace:0}),i=t.create("node","mo",[],{rspace:0}),o=t.create("node","mrow",[i,o]));var a=t.create("node","munderover",[o]),l=At.default.createEntity(r);i=t.create("token","mo",{stretchy:!0,accent:!0},l),At.default.setChild(a,"o"===e.charAt(1)?a.over:a.under,i);var c=a;n&&(c=t.create("node","TeXAtom",[a],{texClass:Y.TEXCLASS.OP,movesupsub:!0})),At.default.setProperty(c,"subsupOK",!0),t.Push(c)},Jr.Overset=function(t,e){var r=t.ParseArg(e),n=t.ParseArg(e);(At.default.getAttribute(n,"movablelimits")||At.default.getProperty(n,"movablelimits"))&&At.default.setProperties(n,{movablelimits:!1});var i=t.create("node","mover",[n,r]);t.Push(i)},Jr.Underset=function(t,e){var r=t.ParseArg(e),n=t.ParseArg(e);(At.default.isType(n,"mo")||At.default.getProperty(n,"movablelimits"))&&At.default.setProperties(n,{movablelimits:!1});var i=t.create("node","munder",[n,r]);t.Push(i)},Jr.TeXAtom=function(t,e,r){var n,i,o,s={texClass:r};if(r===Y.TEXCLASS.OP){s.movesupsub=s.movablelimits=!0;var a=t.GetArgument(e),l=a.match(/^\s*\\rm\s+([a-zA-Z0-9 ]+)$/);l?(s.mathvariant=Xr.TexConstant.Variant.NORMAL,i=t.create("token","mi",s,l[1])):(o=new Rt.default(a,t.stack.env,t.configuration).mml(),i=t.create("node","TeXAtom",[o],s)),n=t.itemFactory.create("fn",i)}else o=t.ParseArg(e),n=t.create("node","TeXAtom",[o],s);t.Push(n)},Jr.MmlToken=function(t,e){var r,n=t.GetArgument(e),i=t.GetBrackets(e,"").replace(/^\s+/,""),o=t.GetArgument(e),s={};try{r=t.create("node",n)}catch(t){r=null}if(!r||!r.isToken)throw new Ht.default("NotMathMLToken","%1 is not a token element",n);for(;""!==i;){var a=i.match(/^([a-z]+)\s*=\s*('[^']*'|"[^"]*"|[^ ,]*)\s*,?\s*/i);if(!a)throw new Ht.default("InvalidMathMLAttr","Invalid MathML attribute: %1",i);if(!r.attributes.hasDefault(a[1])&&!Qr[a[1]])throw new Ht.default("UnknownAttrForElement","%1 is not a recognized attribute for %2",a[1],n);var l=Nt.default.MmlFilterAttribute(t,a[1],a[2].replace(/^(['"])(.*)\1$/,"$2"));l&&("true"===l.toLowerCase()?l=!0:"false"===l.toLowerCase()&&(l=!1),s[a[1]]=l),i=i.substr(a[0].length)}var c=t.create("text",o);r.appendChild(c),At.default.setProperties(r,s),t.Push(r)},Jr.Strut=function(t,e){var r=t.create("node","mrow"),n=t.create("node","mpadded",[r],{height:"8.6pt",depth:"3pt",width:0});t.Push(n)},Jr.Phantom=function(t,e,r,n){var i=t.create("node","mphantom",[t.ParseArg(e)]);(r||n)&&(i=t.create("node","mpadded",[i]),n&&(At.default.setAttribute(i,"height",0),At.default.setAttribute(i,"depth",0)),r&&At.default.setAttribute(i,"width",0));var o=t.create("node","TeXAtom",[i]);t.Push(o)},Jr.Smash=function(t,e){var r=Nt.default.trimSpaces(t.GetBrackets(e,"")),n=t.create("node","mpadded",[t.ParseArg(e)]);switch(r){case"b":At.default.setAttribute(n,"depth",0);break;case"t":At.default.setAttribute(n,"height",0);break;default:At.default.setAttribute(n,"height",0),At.default.setAttribute(n,"depth",0)}var i=t.create("node","TeXAtom",[n]);t.Push(i)},Jr.Lap=function(t,e){var r=t.create("node","mpadded",[t.ParseArg(e)],{width:0});"\\llap"===e&&At.default.setAttribute(r,"lspace","-1width");var n=t.create("node","TeXAtom",[r]);t.Push(n)},Jr.RaiseLower=function(t,e){var r=t.GetDimen(e),n=t.itemFactory.create("position").setProperties({name:t.currentCS,move:"vertical"});"-"===r.charAt(0)&&(r=r.slice(1),e="raise"===e.substr(1)?"\\lower":"\\raise"),"\\lower"===e?(n.setProperty("dh","-"+r),n.setProperty("dd","+"+r)):(n.setProperty("dh","+"+r),n.setProperty("dd","-"+r)),t.Push(n)},Jr.MoveLeftRight=function(t,e){var r=t.GetDimen(e),n="-"===r.charAt(0)?r.slice(1):"-"+r;if("\\moveleft"===e){var i=r;r=n,n=i}t.Push(t.itemFactory.create("position").setProperties({name:t.currentCS,move:"horizontal",left:t.create("node","mspace",[],{width:r}),right:t.create("node","mspace",[],{width:n})}))},Jr.Hskip=function(t,e){var r=t.create("node","mspace",[],{width:t.GetDimen(e)});t.Push(r)},Jr.Rule=function(t,e,r){var n={width:t.GetDimen(e),height:t.GetDimen(e),depth:t.GetDimen(e)};"blank"!==r&&(n.mathbackground=t.stack.env.color||"black");var i=t.create("node","mspace",[],n);t.Push(i)},Jr.rule=function(t,e){var r=t.GetBrackets(e),n=t.GetDimen(e),i=t.GetDimen(e),o=t.create("node","mspace",[],{width:n,height:i,mathbackground:t.stack.env.color||"black"});r&&(o=t.create("node","mpadded",[o],{voffset:r}),r.match(/^\-/)?(At.default.setAttribute(o,"height",r),At.default.setAttribute(o,"depth","+"+r.substr(1))):At.default.setAttribute(o,"height","+"+r)),t.Push(o)},Jr.MakeBig=function(t,e,r,n){var i=String(n*=1.411764705882353).replace(/(\.\d\d\d).+/,"$1")+"em",o=t.GetDelimiter(e,!0),s=t.create("token","mo",{minsize:i,maxsize:i,fence:!0,stretchy:!0,symmetric:!0},o),a=t.create("node","TeXAtom",[s],{texClass:r});t.Push(a)},Jr.BuildRel=function(t,e){var r=t.ParseUpTo(e,"\\over"),n=t.ParseArg(e),i=t.create("node","munderover");At.default.setChild(i,0,n),At.default.setChild(i,1,null),At.default.setChild(i,2,r);var o=t.create("node","TeXAtom",[i],{texClass:Y.TEXCLASS.REL});t.Push(o)},Jr.HBox=function(t,e,r,n){t.PushAll(Nt.default.internalMath(t,t.GetArgument(e),r,n))},Jr.FBox=function(t,e){var r=Nt.default.internalMath(t,t.GetArgument(e)),n=t.create("node","menclose",r,{notation:"box"});t.Push(n)},Jr.Not=function(t,e){t.Push(t.itemFactory.create("not"))},Jr.Dots=function(t,e){var r=At.default.createEntity("2026"),n=At.default.createEntity("22EF"),i=t.create("token","mo",{stretchy:!1},r),o=t.create("token","mo",{stretchy:!1},n);t.Push(t.itemFactory.create("dots").setProperties({ldots:i,cdots:o}))},Jr.Matrix=function(t,e,r,n,i,o,s,a,l,c){var u=t.GetNext();if(""===u)throw new Ht.default("MissingArgFor","Missing argument for %1",t.currentCS);"{"===u?t.i++:(t.string=u+"}"+t.string.slice(t.i+1),t.i=0);var h=t.itemFactory.create("array").setProperty("requireClose",!0);h.arraydef={rowspacing:s||"4pt",columnspacing:o||"1em"},l&&h.setProperty("isCases",!0),c&&(h.setProperty("isNumbered",!0),h.arraydef.side=c),(r||n)&&(h.setProperty("open",r),h.setProperty("close",n)),"D"===a&&(h.arraydef.displaystyle=!0),null!=i&&(h.arraydef.columnalign=i),t.Push(h)},Jr.Entry=function(t,e){if(t.Push(t.itemFactory.create("cell").setProperties({isEntry:!0,name:e})),t.stack.Top().getProperty("isCases")){for(var r=t.string,n=0,i=-1,o=t.i,s=r.length;o<s;){var a=r.charAt(o);if("{"===a)n++,o++;else if("}"===a)0===n?s=0:(0===--n&&i<0&&(i=o-t.i),o++);else{if("&"===a&&0===n)throw new Ht.default("ExtraAlignTab","Extra alignment tab in \\cases text");"\\"===a?r.substr(o).match(/^((\\cr)[^a-zA-Z]|\\\\)/)?s=0:o+=2:o++}}var l=r.substr(t.i,o-t.i);if(!l.match(/^\s*\\text[^a-zA-Z]/)||i!==l.replace(/\s+$/,"").length-1){var c=Nt.default.internalMath(t,l,0);t.PushAll(c),t.i=o}}},Jr.Cr=function(t,e){t.Push(t.itemFactory.create("cell").setProperties({isCR:!0,name:e}))},Jr.CrLaTeX=function(t,e,r){var n;if(void 0===r&&(r=!1),!r&&("*"===t.string.charAt(t.i)&&t.i++,"["===t.string.charAt(t.i))){var i=t.GetBrackets(e,""),o=Ur(Nt.default.matchDimen(i),2),s=o[0],a=o[1];if(i&&!s)throw new Ht.default("BracketMustBeDimension","Bracket argument to %1 must be a dimension",t.currentCS);n=s+a}t.Push(t.itemFactory.create("cell").setProperties({isCR:!0,name:e,linebreak:!0}));var l,c=t.stack.Top();if(c instanceof yr.ArrayItem){if(n&&c.arraydef.rowspacing){var u=c.arraydef.rowspacing.split(/ /);if(!c.getProperty("rowspacing")){var h=Nt.default.dimen2em(u[0]);c.setProperty("rowspacing",h)}for(var d=c.getProperty("rowspacing");u.length<c.table.length;)u.push(Nt.default.Em(d));u[c.table.length-1]=Nt.default.Em(Math.max(0,d+Nt.default.dimen2em(n))),c.arraydef.rowspacing=u.join(" ")}}else n&&(l=t.create("node","mspace",[],{depth:n}),t.Push(l)),l=t.create("node","mspace",[],{linebreak:Xr.TexConstant.LineBreak.NEWLINE}),t.Push(l)},Jr.HLine=function(t,e,r){null==r&&(r="solid");var n=t.stack.Top();if(!(n instanceof yr.ArrayItem)||n.Size())throw new Ht.default("Misplaced","Misplaced %1",t.currentCS);if(n.table.length){for(var i=n.arraydef.rowlines?n.arraydef.rowlines.split(/ /):[];i.length<n.table.length;)i.push("none");i[n.table.length-1]=r,n.arraydef.rowlines=i.join(" ")}else n.frame.push("top")},Jr.HFill=function(t,e){var r=t.stack.Top();if(!(r instanceof yr.ArrayItem))throw new Ht.default("UnsupportedHFill","Unsupported use of %1",t.currentCS);r.hfill.push(r.Size())},Jr.BeginEnd=function(t,e){var r=t.GetArgument(e);if(r.match(/\\/i))throw new Ht.default("InvalidEnv","Invalid environment name '%1'",r);var n=t.configuration.handlers.get("environment").lookup(r);if(n&&"\\end"===e){if(!n.args[0]){var i=t.itemFactory.create("end").setProperty("name",r);return void t.Push(i)}t.stack.env.closing=r}if(++t.macroCount>t.configuration.options.maxMacros)throw new Ht.default("MaxMacroSub2","MathJax maximum substitution count exceeded; is there a recursive latex environment?");t.parse("environment",[t,r])},Jr.Array=function(t,e,r,n,i,o,s,a,l){i||(i=t.GetArgument("\\begin{"+e.getName()+"}"));var c=("c"+i).replace(/[^clr|:]/g,"").replace(/[^|:]([|:])+/g,"$1");i=(i=i.replace(/[^clr]/g,"").split("").join(" ")).replace(/l/g,"left").replace(/r/g,"right").replace(/c/g,"center");var u=t.itemFactory.create("array");return u.arraydef={columnalign:i,columnspacing:o||"1em",rowspacing:s||"4pt"},c.match(/[|:]/)&&(c.charAt(0).match(/[|:]/)&&(u.frame.push("left"),u.dashed=":"===c.charAt(0)),c.charAt(c.length-1).match(/[|:]/)&&u.frame.push("right"),c=c.substr(1,c.length-2),u.arraydef.columnlines=c.split("").join(" ").replace(/[^|: ]/g,"none").replace(/\|/g,"solid").replace(/:/g,"dashed")),r&&u.setProperty("open",t.convertDelimiter(r)),n&&u.setProperty("close",t.convertDelimiter(n)),"D"===a?u.arraydef.displaystyle=!0:a&&(u.arraydef.displaystyle=!1),"S"===a&&(u.arraydef.scriptlevel=1),l&&(u.arraydef.useHeight=!1),t.Push(e),u},Jr.AlignedArray=function(t,e){var r=t.GetBrackets("\\begin{"+e.getName()+"}"),n=Jr.Array(t,e);return Nt.default.setArrayAlign(n,r)},Jr.Equation=function(t,e,r){return t.Push(e),Nt.default.checkEqnEnv(t),t.itemFactory.create("equation",r).setProperty("name",e.getName())},Jr.EqnArray=function(t,e,r,n,i,o){t.Push(e),n&&Nt.default.checkEqnEnv(t),i=(i=i.replace(/[^clr]/g,"").split("").join(" ")).replace(/l/g,"left").replace(/r/g,"right").replace(/c/g,"center");var s=t.itemFactory.create("eqnarray",e.getName(),r,n,t.stack.global);return s.arraydef={displaystyle:!0,columnalign:i,columnspacing:o||"1em",rowspacing:"3pt",side:t.options.tagSide,minlabelspacing:t.options.tagIndent},s},Jr.HandleNoTag=function(t,e){t.tags.notag()},Jr.HandleLabel=function(t,e){var r=t.GetArgument(e);if(""!==r&&!t.tags.refUpdate){if(t.tags.label)throw new Ht.default("MultipleCommand","Multiple %1",t.currentCS);if(t.tags.label=r,(t.tags.allLabels[r]||t.tags.labels[r])&&!t.options.ignoreDuplicateLabels)throw new Ht.default("MultipleLabel","Label '%1' multiply defined",r);t.tags.labels[r]=new Oe.Label}},Jr.HandleRef=function(t,e,r){var n=t.GetArgument(e),i=t.tags.allLabels[n]||t.tags.labels[n];i||(t.tags.refUpdate||(t.tags.redo=!0),i=new Oe.Label);var o=i.tag;r&&(o=t.tags.formatTag(o));var s=t.create("node","mrow",Nt.default.internalMath(t,o),{href:t.tags.formatUrl(i.id,t.options.baseURL),class:"MathJax_ref"});t.Push(s)},Jr.Macro=function(t,e,r,n,i){if(n){var o=[];if(null!=i){var s=t.GetBrackets(e);o.push(null==s?i:s)}for(var a=o.length;a<n;a++)o.push(t.GetArgument(e));r=Nt.default.substituteArgs(t,o,r)}if(t.string=Nt.default.addArgs(t,r,t.string.slice(t.i)),t.i=0,++t.macroCount>t.configuration.options.maxMacros)throw new Ht.default("MaxMacroSub1","MathJax maximum macro substitution count exceeded; is there a recursive macro call?")},Jr.MathChoice=function(t,e){var r=t.ParseArg(e),n=t.ParseArg(e),i=t.ParseArg(e),o=t.ParseArg(e);t.Push(t.create("node","MathChoice",[r,n,i,o]))},qr.default=Jr;var Zr,tn,en={},rn=en&&en.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},nn=en&&en.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};function on(t,e){var r=t.stack.env.font?{mathvariant:t.stack.env.font}:{},n=Ve.MapHandler.getMap("remap").lookup(e),i=t.create("token","mo",r,n?n.char:e);At.default.setProperty(i,"fixStretchy",!0),t.configuration.addNode("fixStretchy",i),t.Push(i)}Object.defineProperty(en,"__esModule",{value:!0}),(tn=Zr||(Zr={})).variable=function(t,e){var r=Nt.default.getFontDef(t);t.stack.env.multiLetterIdentifiers&&""!==t.stack.env.font&&(e=t.string.substr(t.i-1).match(/^[a-z]+/i)[0],t.i+=e.length-1,r.mathvariant===Xr.TexConstant.Variant.NORMAL&&(r.autoOP=!1));var n=t.create("token","mi",r,e);t.Push(n)},tn.digit=function(t,e){var r,n=t.configuration.options.digits,i=t.string.slice(t.i-1).match(n),o=Nt.default.getFontDef(t);i?(r=t.create("token","mn",o,i[0].replace(/[{}]/g,"")),t.i+=i[0].length-1):r=t.create("token","mo",o,e),t.Push(r)},tn.controlSequence=function(t,e){var r=t.GetCS();t.parse("macro",[t,r])},tn.mathchar0mi=function(t,e){var r=e.attributes||{mathvariant:Xr.TexConstant.Variant.ITALIC},n=t.create("token","mi",r,e.char);t.Push(n)},tn.mathchar0mo=function(t,e){var r=e.attributes||{};r.stretchy=!1;var n=t.create("token","mo",r,e.char);At.default.setProperty(n,"fixStretchy",!0),t.configuration.addNode("fixStretchy",n),t.Push(n)},tn.mathchar7=function(t,e){var r=e.attributes||{mathvariant:Xr.TexConstant.Variant.NORMAL};t.stack.env.font&&(r.mathvariant=t.stack.env.font);var n=t.create("token","mi",r,e.char);t.Push(n)},tn.delimiter=function(t,e){var r=e.attributes||{};r=Object.assign({fence:!1,stretchy:!1},r);var n=t.create("token","mo",r,e.char);t.Push(n)},tn.environment=function(t,e,r,n){var i=n[0],o=t.itemFactory.create("begin").setProperties({name:e,end:i});o=r.apply(void 0,nn([t,o],rn(n.slice(1)))),t.Push(o)},en.default=Zr,new er.RegExpMap("letter",en.default.variable,/[a-z]/i),new er.RegExpMap("digit",en.default.digit,/[0-9.,]/),new er.RegExpMap("command",en.default.controlSequence,/^\\/),new er.MacroMap("special",{"{":"Open","}":"Close","~":"Tilde","^":"Superscript",_:"Subscript"," ":"Space","\t":"Space","\r":"Space","\n":"Space","'":"Prime","%":"Comment","&":"Entry","#":"Hash"," ":"Space","’":"Prime"},qr.default),new er.CharacterMap("mathchar0mi",en.default.mathchar0mi,{alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ϵ",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigma:"σ",tau:"τ",upsilon:"υ",phi:"ϕ",chi:"χ",psi:"ψ",omega:"ω",varepsilon:"ε",vartheta:"ϑ",varpi:"ϖ",varrho:"ϱ",varsigma:"ς",varphi:"φ",S:["§",{mathvariant:Xr.TexConstant.Variant.NORMAL}],aleph:["ℵ",{mathvariant:Xr.TexConstant.Variant.NORMAL}],hbar:["ℏ",{variantForm:!0}],imath:"ı",jmath:"ȷ",ell:"ℓ",wp:["℘",{mathvariant:Xr.TexConstant.Variant.NORMAL}],Re:["ℜ",{mathvariant:Xr.TexConstant.Variant.NORMAL}],Im:["ℑ",{mathvariant:Xr.TexConstant.Variant.NORMAL}],partial:["∂",{mathvariant:Xr.TexConstant.Variant.ITALIC}],infty:["∞",{mathvariant:Xr.TexConstant.Variant.NORMAL}],prime:["′",{variantForm:!0}],emptyset:["∅",{mathvariant:Xr.TexConstant.Variant.NORMAL}],nabla:["∇",{mathvariant:Xr.TexConstant.Variant.NORMAL}],top:["⊤",{mathvariant:Xr.TexConstant.Variant.NORMAL}],bot:["⊥",{mathvariant:Xr.TexConstant.Variant.NORMAL}],angle:["∠",{mathvariant:Xr.TexConstant.Variant.NORMAL}],triangle:["△",{mathvariant:Xr.TexConstant.Variant.NORMAL}],backslash:["∖",{mathvariant:Xr.TexConstant.Variant.NORMAL}],forall:["∀",{mathvariant:Xr.TexConstant.Variant.NORMAL}],exists:["∃",{mathvariant:Xr.TexConstant.Variant.NORMAL}],neg:["¬",{mathvariant:Xr.TexConstant.Variant.NORMAL}],lnot:["¬",{mathvariant:Xr.TexConstant.Variant.NORMAL}],flat:["♭",{mathvariant:Xr.TexConstant.Variant.NORMAL}],natural:["♮",{mathvariant:Xr.TexConstant.Variant.NORMAL}],sharp:["♯",{mathvariant:Xr.TexConstant.Variant.NORMAL}],clubsuit:["♣",{mathvariant:Xr.TexConstant.Variant.NORMAL}],diamondsuit:["♢",{mathvariant:Xr.TexConstant.Variant.NORMAL}],heartsuit:["♡",{mathvariant:Xr.TexConstant.Variant.NORMAL}],spadesuit:["♠",{mathvariant:Xr.TexConstant.Variant.NORMAL}]}),new er.CharacterMap("mathchar0mo",en.default.mathchar0mo,{surd:"√",coprod:["∐",{texClass:Y.TEXCLASS.OP,movesupsub:!0}],bigvee:["⋁",{texClass:Y.TEXCLASS.OP,movesupsub:!0}],bigwedge:["⋀",{texClass:Y.TEXCLASS.OP,movesupsub:!0}],biguplus:["⨄",{texClass:Y.TEXCLASS.OP,movesupsub:!0}],bigcap:["⋂",{texClass:Y.TEXCLASS.OP,movesupsub:!0}],bigcup:["⋃",{texClass:Y.TEXCLASS.OP,movesupsub:!0}],int:["∫",{texClass:Y.TEXCLASS.OP}],intop:["∫",{texClass:Y.TEXCLASS.OP,movesupsub:!0,movablelimits:!0}],iint:["∬",{texClass:Y.TEXCLASS.OP}],iiint:["∭",{texClass:Y.TEXCLASS.OP}],prod:["∏",{texClass:Y.TEXCLASS.OP,movesupsub:!0}],sum:["∑",{texClass:Y.TEXCLASS.OP,movesupsub:!0}],bigotimes:["⨂",{texClass:Y.TEXCLASS.OP,movesupsub:!0}],bigoplus:["⨁",{texClass:Y.TEXCLASS.OP,movesupsub:!0}],bigodot:["⨀",{texClass:Y.TEXCLASS.OP,movesupsub:!0}],oint:["∮",{texClass:Y.TEXCLASS.OP}],bigsqcup:["⨆",{texClass:Y.TEXCLASS.OP,movesupsub:!0}],smallint:["∫",{largeop:!1}],triangleleft:"◃",triangleright:"▹",bigtriangleup:"△",bigtriangledown:"▽",wedge:"∧",land:"∧",vee:"∨",lor:"∨",cap:"∩",cup:"∪",ddagger:"‡",dagger:"†",sqcap:"⊓",sqcup:"⊔",uplus:"⊎",amalg:"⨿",diamond:"⋄",bullet:"∙",wr:"≀",div:"÷",divsymbol:"÷",odot:["⊙",{largeop:!1}],oslash:["⊘",{largeop:!1}],otimes:["⊗",{largeop:!1}],ominus:["⊖",{largeop:!1}],oplus:["⊕",{largeop:!1}],mp:"∓",pm:"±",circ:"∘",bigcirc:"◯",setminus:"∖",cdot:"⋅",ast:"∗",times:"×",star:"⋆",propto:"∝",sqsubseteq:"⊑",sqsupseteq:"⊒",parallel:"∥",mid:"∣",dashv:"⊣",vdash:"⊢",leq:"≤",le:"≤",geq:"≥",ge:"≥",lt:"<",gt:">",succ:"≻",prec:"≺",approx:"≈",succeq:"⪰",preceq:"⪯",supset:"⊃",subset:"⊂",supseteq:"⊇",subseteq:"⊆",in:"∈",ni:"∋",notin:"∉",owns:"∋",gg:"≫",ll:"≪",sim:"∼",simeq:"≃",perp:"⊥",equiv:"≡",asymp:"≍",smile:"⌣",frown:"⌢",ne:"≠",neq:"≠",cong:"≅",doteq:"≐",bowtie:"⋈",models:"⊨",notChar:"⧸",Leftrightarrow:"⇔",Leftarrow:"⇐",Rightarrow:"⇒",leftrightarrow:"↔",leftarrow:"←",gets:"←",rightarrow:"→",to:["→",{accent:!1}],mapsto:"↦",leftharpoonup:"↼",leftharpoondown:"↽",rightharpoonup:"⇀",rightharpoondown:"⇁",nearrow:"↗",searrow:"↘",nwarrow:"↖",swarrow:"↙",rightleftharpoons:"⇌",hookrightarrow:"↪",hookleftarrow:"↩",longleftarrow:"⟵",Longleftarrow:"⟸",longrightarrow:"⟶",Longrightarrow:"⟹",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",ldots:"…",cdots:"⋯",vdots:"⋮",ddots:"⋱",dotsc:"…",dotsb:"⋯",dotsm:"⋯",dotsi:"⋯",dotso:"…",ldotp:[".",{texClass:Y.TEXCLASS.PUNCT}],cdotp:["⋅",{texClass:Y.TEXCLASS.PUNCT}],colon:[":",{texClass:Y.TEXCLASS.PUNCT}]}),new er.CharacterMap("mathchar7",en.default.mathchar7,{Gamma:"Γ",Delta:"Δ",Theta:"Θ",Lambda:"Λ",Xi:"Ξ",Pi:"Π",Sigma:"Σ",Upsilon:"Υ",Phi:"Φ",Psi:"Ψ",Omega:"Ω",_:"_","#":"#",$:"$","%":"%","&":"&",And:"&"}),new er.DelimiterMap("delimiter",en.default.delimiter,{"(":"(",")":")","[":"[","]":"]","<":"⟨",">":"⟩","\\lt":"⟨","\\gt":"⟩","/":"/","|":["|",{texClass:Y.TEXCLASS.ORD}],".":"","\\\\":"\\","\\lmoustache":"⎰","\\rmoustache":"⎱","\\lgroup":"⟮","\\rgroup":"⟯","\\arrowvert":"⏐","\\Arrowvert":"‖","\\bracevert":"⎪","\\Vert":["‖",{texClass:Y.TEXCLASS.ORD}],"\\|":["‖",{texClass:Y.TEXCLASS.ORD}],"\\vert":["|",{texClass:Y.TEXCLASS.ORD}],"\\uparrow":"↑","\\downarrow":"↓","\\updownarrow":"↕","\\Uparrow":"⇑","\\Downarrow":"⇓","\\Updownarrow":"⇕","\\backslash":"\\","\\rangle":"⟩","\\langle":"⟨","\\rbrace":"}","\\lbrace":"{","\\}":"}","\\{":"{","\\rceil":"⌉","\\lceil":"⌈","\\rfloor":"⌋","\\lfloor":"⌊","\\lbrack":"[","\\rbrack":"]"}),new er.CommandMap("macros",{displaystyle:["SetStyle","D",!0,0],textstyle:["SetStyle","T",!1,0],scriptstyle:["SetStyle","S",!1,1],scriptscriptstyle:["SetStyle","SS",!1,2],rm:["SetFont",Xr.TexConstant.Variant.NORMAL],mit:["SetFont",Xr.TexConstant.Variant.ITALIC],oldstyle:["SetFont",Xr.TexConstant.Variant.OLDSTYLE],cal:["SetFont",Xr.TexConstant.Variant.CALLIGRAPHIC],it:["SetFont",Xr.TexConstant.Variant.MATHITALIC],bf:["SetFont",Xr.TexConstant.Variant.BOLD],bbFont:["SetFont",Xr.TexConstant.Variant.DOUBLESTRUCK],scr:["SetFont",Xr.TexConstant.Variant.SCRIPT],frak:["SetFont",Xr.TexConstant.Variant.FRAKTUR],sf:["SetFont",Xr.TexConstant.Variant.SANSSERIF],tt:["SetFont",Xr.TexConstant.Variant.MONOSPACE],mathrm:["MathFont",Xr.TexConstant.Variant.NORMAL],mathup:["MathFont",Xr.TexConstant.Variant.NORMAL],mathnormal:["MathFont",""],mathbf:["MathFont",Xr.TexConstant.Variant.BOLD],mathbfup:["MathFont",Xr.TexConstant.Variant.BOLD],mathit:["MathFont",Xr.TexConstant.Variant.MATHITALIC],mathbfit:["MathFont",Xr.TexConstant.Variant.BOLDITALIC],mathbb:["MathFont",Xr.TexConstant.Variant.DOUBLESTRUCK],Bbb:["MathFont",Xr.TexConstant.Variant.DOUBLESTRUCK],mathfrak:["MathFont",Xr.TexConstant.Variant.FRAKTUR],mathbffrak:["MathFont",Xr.TexConstant.Variant.BOLDFRAKTUR],mathscr:["MathFont",Xr.TexConstant.Variant.SCRIPT],mathbfscr:["MathFont",Xr.TexConstant.Variant.BOLDSCRIPT],mathsf:["MathFont",Xr.TexConstant.Variant.SANSSERIF],mathsfup:["MathFont",Xr.TexConstant.Variant.SANSSERIF],mathbfsf:["MathFont",Xr.TexConstant.Variant.BOLDSANSSERIF],mathbfsfup:["MathFont",Xr.TexConstant.Variant.BOLDSANSSERIF],mathsfit:["MathFont",Xr.TexConstant.Variant.SANSSERIFITALIC],mathbfsfit:["MathFont",Xr.TexConstant.Variant.SANSSERIFBOLDITALIC],mathtt:["MathFont",Xr.TexConstant.Variant.MONOSPACE],mathcal:["MathFont",Xr.TexConstant.Variant.CALLIGRAPHIC],mathbfcal:["MathFont",Xr.TexConstant.Variant.BOLDCALLIGRAPHIC],symrm:["MathFont",Xr.TexConstant.Variant.NORMAL],symup:["MathFont",Xr.TexConstant.Variant.NORMAL],symnormal:["MathFont",""],symbf:["MathFont",Xr.TexConstant.Variant.BOLD],symbfup:["MathFont",Xr.TexConstant.Variant.BOLD],symit:["MathFont",Xr.TexConstant.Variant.ITALIC],symbfit:["MathFont",Xr.TexConstant.Variant.BOLDITALIC],symbb:["MathFont",Xr.TexConstant.Variant.DOUBLESTRUCK],symfrak:["MathFont",Xr.TexConstant.Variant.FRAKTUR],symbffrak:["MathFont",Xr.TexConstant.Variant.BOLDFRAKTUR],symscr:["MathFont",Xr.TexConstant.Variant.SCRIPT],symbfscr:["MathFont",Xr.TexConstant.Variant.BOLDSCRIPT],symsf:["MathFont",Xr.TexConstant.Variant.SANSSERIF],symsfup:["MathFont",Xr.TexConstant.Variant.SANSSERIF],symbfsf:["MathFont",Xr.TexConstant.Variant.BOLDSANSSERIF],symbfsfup:["MathFont",Xr.TexConstant.Variant.BOLDSANSSERIF],symsfit:["MathFont",Xr.TexConstant.Variant.SANSSERIFITALIC],symbfsfit:["MathFont",Xr.TexConstant.Variant.SANSSERIFBOLDITALIC],symtt:["MathFont",Xr.TexConstant.Variant.MONOSPACE],symcal:["MathFont",Xr.TexConstant.Variant.CALLIGRAPHIC],symbfcal:["MathFont",Xr.TexConstant.Variant.BOLDCALLIGRAPHIC],textrm:["HBox",null,Xr.TexConstant.Variant.NORMAL],textup:["HBox",null,Xr.TexConstant.Variant.NORMAL],textnormal:["HBox"],textit:["HBox",null,Xr.TexConstant.Variant.ITALIC],textbf:["HBox",null,Xr.TexConstant.Variant.BOLD],textsf:["HBox",null,Xr.TexConstant.Variant.SANSSERIF],texttt:["HBox",null,Xr.TexConstant.Variant.MONOSPACE],tiny:["SetSize",.5],Tiny:["SetSize",.6],scriptsize:["SetSize",.7],small:["SetSize",.85],normalsize:["SetSize",1],large:["SetSize",1.2],Large:["SetSize",1.44],LARGE:["SetSize",1.73],huge:["SetSize",2.07],Huge:["SetSize",2.49],arcsin:"NamedFn",arccos:"NamedFn",arctan:"NamedFn",arg:"NamedFn",cos:"NamedFn",cosh:"NamedFn",cot:"NamedFn",coth:"NamedFn",csc:"NamedFn",deg:"NamedFn",det:"NamedOp",dim:"NamedFn",exp:"NamedFn",gcd:"NamedOp",hom:"NamedFn",inf:"NamedOp",ker:"NamedFn",lg:"NamedFn",lim:"NamedOp",liminf:["NamedOp","lim&thinsp;inf"],limsup:["NamedOp","lim&thinsp;sup"],ln:"NamedFn",log:"NamedFn",max:"NamedOp",min:"NamedOp",Pr:"NamedOp",sec:"NamedFn",sin:"NamedFn",sinh:"NamedFn",sup:"NamedOp",tan:"NamedFn",tanh:"NamedFn",limits:["Limits",1],nolimits:["Limits",0],overline:["UnderOver","2015"],underline:["UnderOver","2015"],overbrace:["UnderOver","23DE",1],underbrace:["UnderOver","23DF",1],overparen:["UnderOver","23DC"],underparen:["UnderOver","23DD"],overrightarrow:["UnderOver","2192"],underrightarrow:["UnderOver","2192"],overleftarrow:["UnderOver","2190"],underleftarrow:["UnderOver","2190"],overleftrightarrow:["UnderOver","2194"],underleftrightarrow:["UnderOver","2194"],overset:"Overset",underset:"Underset",stackrel:["Macro","\\mathrel{\\mathop{#2}\\limits^{#1}}",2],over:"Over",overwithdelims:"Over",atop:"Over",atopwithdelims:"Over",above:"Over",abovewithdelims:"Over",brace:["Over","{","}"],brack:["Over","[","]"],choose:["Over","(",")"],frac:"Frac",sqrt:"Sqrt",root:"Root",uproot:["MoveRoot","upRoot"],leftroot:["MoveRoot","leftRoot"],left:"LeftRight",right:"LeftRight",middle:"LeftRight",llap:"Lap",rlap:"Lap",raise:"RaiseLower",lower:"RaiseLower",moveleft:"MoveLeftRight",moveright:"MoveLeftRight",",":["Spacer",Kr.MATHSPACE.thinmathspace],":":["Spacer",Kr.MATHSPACE.mediummathspace],">":["Spacer",Kr.MATHSPACE.mediummathspace],";":["Spacer",Kr.MATHSPACE.thickmathspace],"!":["Spacer",Kr.MATHSPACE.negativethinmathspace],enspace:["Spacer",.5],quad:["Spacer",1],qquad:["Spacer",2],thinspace:["Spacer",Kr.MATHSPACE.thinmathspace],negthinspace:["Spacer",Kr.MATHSPACE.negativethinmathspace],hskip:"Hskip",hspace:"Hskip",kern:"Hskip",mskip:"Hskip",mspace:"Hskip",mkern:"Hskip",rule:"rule",Rule:["Rule"],Space:["Rule","blank"],big:["MakeBig",Y.TEXCLASS.ORD,.85],Big:["MakeBig",Y.TEXCLASS.ORD,1.15],bigg:["MakeBig",Y.TEXCLASS.ORD,1.45],Bigg:["MakeBig",Y.TEXCLASS.ORD,1.75],bigl:["MakeBig",Y.TEXCLASS.OPEN,.85],Bigl:["MakeBig",Y.TEXCLASS.OPEN,1.15],biggl:["MakeBig",Y.TEXCLASS.OPEN,1.45],Biggl:["MakeBig",Y.TEXCLASS.OPEN,1.75],bigr:["MakeBig",Y.TEXCLASS.CLOSE,.85],Bigr:["MakeBig",Y.TEXCLASS.CLOSE,1.15],biggr:["MakeBig",Y.TEXCLASS.CLOSE,1.45],Biggr:["MakeBig",Y.TEXCLASS.CLOSE,1.75],bigm:["MakeBig",Y.TEXCLASS.REL,.85],Bigm:["MakeBig",Y.TEXCLASS.REL,1.15],biggm:["MakeBig",Y.TEXCLASS.REL,1.45],Biggm:["MakeBig",Y.TEXCLASS.REL,1.75],mathord:["TeXAtom",Y.TEXCLASS.ORD],mathop:["TeXAtom",Y.TEXCLASS.OP],mathopen:["TeXAtom",Y.TEXCLASS.OPEN],mathclose:["TeXAtom",Y.TEXCLASS.CLOSE],mathbin:["TeXAtom",Y.TEXCLASS.BIN],mathrel:["TeXAtom",Y.TEXCLASS.REL],mathpunct:["TeXAtom",Y.TEXCLASS.PUNCT],mathinner:["TeXAtom",Y.TEXCLASS.INNER],vcenter:["TeXAtom",Y.TEXCLASS.VCENTER],buildrel:"BuildRel",hbox:["HBox",0],text:"HBox",mbox:["HBox",0],fbox:"FBox",strut:"Strut",mathstrut:["Macro","\\vphantom{(}"],phantom:"Phantom",vphantom:["Phantom",1,0],hphantom:["Phantom",0,1],smash:"Smash",acute:["Accent","00B4"],grave:["Accent","0060"],ddot:["Accent","00A8"],tilde:["Accent","007E"],bar:["Accent","00AF"],breve:["Accent","02D8"],check:["Accent","02C7"],hat:["Accent","005E"],vec:["Accent","2192"],dot:["Accent","02D9"],widetilde:["Accent","007E",1],widehat:["Accent","005E",1],matrix:"Matrix",array:"Matrix",pmatrix:["Matrix","(",")"],cases:["Matrix","{","","left left",null,".1em",null,!0],eqalign:["Matrix",null,null,"right left",Kr.em(Kr.MATHSPACE.thickmathspace),".5em","D"],displaylines:["Matrix",null,null,"center",null,".5em","D"],cr:"Cr","\\":"CrLaTeX",newline:["CrLaTeX",!0],hline:["HLine","solid"],hdashline:["HLine","dashed"],eqalignno:["Matrix",null,null,"right left",Kr.em(Kr.MATHSPACE.thickmathspace),".5em","D",null,"right"],leqalignno:["Matrix",null,null,"right left",Kr.em(Kr.MATHSPACE.thickmathspace),".5em","D",null,"left"],hfill:"HFill",hfil:"HFill",hfilll:"HFill",bmod:["Macro",'\\mmlToken{mo}[lspace="thickmathspace" rspace="thickmathspace"]{mod}'],pmod:["Macro","\\pod{\\mmlToken{mi}{mod}\\kern 6mu #1}",1],mod:["Macro","\\mathchoice{\\kern18mu}{\\kern12mu}{\\kern12mu}{\\kern12mu}\\mmlToken{mi}{mod}\\,\\,#1",1],pod:["Macro","\\mathchoice{\\kern18mu}{\\kern8mu}{\\kern8mu}{\\kern8mu}(#1)",1],iff:["Macro","\\;\\Longleftrightarrow\\;"],skew:["Macro","{{#2{#3\\mkern#1mu}\\mkern-#1mu}{}}",3],pmb:["Macro","\\rlap{#1}\\kern1px{#1}",1],TeX:["Macro","T\\kern-.14em\\lower.5ex{E}\\kern-.115em X"],LaTeX:["Macro","L\\kern-.325em\\raise.21em{\\scriptstyle{A}}\\kern-.17em\\TeX"]," ":["Macro","\\text{ }"],not:"Not",dots:"Dots",space:"Tilde"," ":"Tilde",begin:"BeginEnd",end:"BeginEnd",label:"HandleLabel",ref:"HandleRef",nonumber:"HandleNoTag",mathchoice:"MathChoice",mmlToken:"MmlToken"},qr.default),new er.EnvironmentMap("environment",en.default.environment,{array:["AlignedArray"],equation:["Equation",null,!0],"equation*":["Equation",null,!1],eqnarray:["EqnArray",null,!0,!0,"rcl","0 "+Kr.em(Kr.MATHSPACE.thickmathspace),".5em"]},qr.default),new er.CharacterMap("not_remap",null,{"←":"↚","→":"↛","↔":"↮","⇐":"⇍","⇒":"⇏","⇔":"⇎","∈":"∉","∋":"∌","∣":"∤","∥":"∦","∼":"≁","~":"≁","≃":"≄","≅":"≇","≈":"≉","≍":"≭","=":"≠","≡":"≢","<":"≮",">":"≯","≤":"≰","≥":"≱","≲":"≴","≳":"≵","≶":"≸","≷":"≹","≺":"⊀","≻":"⊁","⊂":"⊄","⊃":"⊅","⊆":"⊈","⊇":"⊉","⊢":"⊬","⊨":"⊭","⊩":"⊮","⊫":"⊯","≼":"⋠","≽":"⋡","⊑":"⋢","⊒":"⋣","⊲":"⋪","⊳":"⋫","⊴":"⋬","⊵":"⋭","∃":"∄"}),new er.CharacterMap("remap",null,{"-":"−","*":"∗","`":"‘"}),Ze.Other=on;var sn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return tr(e,t),e}(Oe.AbstractTags);Ze.BaseTags=sn,Ze.BaseConfiguration=Ne.Configuration.create("base",{handler:{character:["command","special","letter","digit"],delimiter:["delimiter"],macro:["delimiter","macros","mathchar0mi","mathchar0mo","mathchar7"],environment:["environment"]},fallback:{character:on,macro:function(t,e){throw new Ht.default("UndefinedControlSequence","Undefined control sequence %1","\\"+e)},environment:function(t,e){throw new Ht.default("UnknownEnv","Unknown environment '%1'",e)}},items:(Ye={},Ye[yr.StartItem.prototype.kind]=yr.StartItem,Ye[yr.StopItem.prototype.kind]=yr.StopItem,Ye[yr.OpenItem.prototype.kind]=yr.OpenItem,Ye[yr.CloseItem.prototype.kind]=yr.CloseItem,Ye[yr.PrimeItem.prototype.kind]=yr.PrimeItem,Ye[yr.SubsupItem.prototype.kind]=yr.SubsupItem,Ye[yr.OverItem.prototype.kind]=yr.OverItem,Ye[yr.LeftItem.prototype.kind]=yr.LeftItem,Ye[yr.Middle.prototype.kind]=yr.Middle,Ye[yr.RightItem.prototype.kind]=yr.RightItem,Ye[yr.BeginItem.prototype.kind]=yr.BeginItem,Ye[yr.EndItem.prototype.kind]=yr.EndItem,Ye[yr.StyleItem.prototype.kind]=yr.StyleItem,Ye[yr.PositionItem.prototype.kind]=yr.PositionItem,Ye[yr.CellItem.prototype.kind]=yr.CellItem,Ye[yr.MmlItem.prototype.kind]=yr.MmlItem,Ye[yr.FnItem.prototype.kind]=yr.FnItem,Ye[yr.NotItem.prototype.kind]=yr.NotItem,Ye[yr.DotsItem.prototype.kind]=yr.DotsItem,Ye[yr.ArrayItem.prototype.kind]=yr.ArrayItem,Ye[yr.EqnArrayItem.prototype.kind]=yr.EqnArrayItem,Ye[yr.EquationItem.prototype.kind]=yr.EquationItem,Ye),options:{maxMacros:1e3,baseURL:"undefined"==typeof document||0===document.getElementsByTagName("base").length?"":String(document.location).replace(/#.*$/,"")},tags:{base:sn}});var an=function(t){function e(r){void 0===r&&(r={});var n=this,i=y(A.separateOptions(r,e.OPTIONS,$.FindTeX.OPTIONS),3),o=i[0],s=i[1],a=i[2];(n=t.call(this,s)||this).findTeX=n.options.FindTeX||new $.FindTeX(a);var l=n.options.packages,c=n.configuration=e.configure(l),u=n._parseOptions=new ee.default(c,[n.options,Oe.TagsFactory.OPTIONS]);return A.userOptions(u.options,o),c.config(n),e.tags(u,c),n.postFilters.add(J.default.cleanSubSup,-6),n.postFilters.add(J.default.setInherited,-5),n.postFilters.add(J.default.moveLimits,-4),n.postFilters.add(J.default.cleanStretchy,-3),n.postFilters.add(J.default.cleanAttributes,-2),n.postFilters.add(J.default.combineRelations,-1),n}return m(e,t),e.configure=function(t){var e=new Ne.ParserConfiguration(t);return e.init(),e},e.tags=function(t,e){Oe.TagsFactory.addTags(e.tags),Oe.TagsFactory.setDefault(t.options.tags),t.tags=Oe.TagsFactory.getDefault(),t.tags.configuration=t},e.prototype.setMmlFactory=function(e){t.prototype.setMmlFactory.call(this,e),this._parseOptions.nodeFactory.setMmlFactory(e)},Object.defineProperty(e.prototype,"parseOptions",{get:function(){return this._parseOptions},enumerable:!1,configurable:!0}),e.prototype.reset=function(t){void 0===t&&(t=0),this.parseOptions.tags.reset(t)},e.prototype.compile=function(t,e){this.parseOptions.clear(),this.executeFilters(this.preFilters,t,e,this.parseOptions);var r,n=t.display;this.latex=t.math,this.parseOptions.tags.startEquation(t);try{r=new Rt.default(this.latex,{display:n,isInner:!1},this.parseOptions).mml()}catch(t){if(!(t instanceof Ht.default))throw t;this.parseOptions.error=!0,r=this.options.formatError(this,t)}return r=this.parseOptions.nodeFactory.create("node","math",[r]),n&&At.default.setAttribute(r,"display","block"),this.parseOptions.tags.finishEquation(t),this.parseOptions.root=r,this.executeFilters(this.postFilters,t,e,this.parseOptions),this.mathNode=this.parseOptions.root,this.mathNode},e.prototype.findMath=function(t){return this.findTeX.findMath(t)},e.prototype.formatError=function(t){var e=t.message.replace(/\n.*/,"");return this.parseOptions.nodeFactory.create("error",e,t.id,this.latex)},e.NAME="TeX",e.OPTIONS=g(g({},v.AbstractInputJax.OPTIONS),{FindTeX:null,packages:["base"],digits:/^(?:[0-9]+(?:\{,\}[0-9]{3})*(?:\.[0-9]*)?|\.[0-9]+)/,maxBuffer:5120,formatError:function(t,e){return t.formatError(e)}}),e}(v.AbstractInputJax);p.TeX=an;var ln={},cn=ln&&ln.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),un=ln&&ln.__assign||function(){return(un=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},hn=ln&&ln.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ln,"__esModule",{value:!0}),ln.CHTML=void 0;var dn={},fn=dn&&dn.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),pn=dn&&dn.__assign||function(){return(pn=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},mn=dn&&dn.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},gn=dn&&dn.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(dn,"__esModule",{value:!0}),dn.CommonOutputJax=void 0;var yn={};Object.defineProperty(yn,"__esModule",{value:!0}),yn.AbstractOutputJax=void 0;var vn=function(){function t(t){void 0===t&&(t={}),this.adaptor=null;var e=this.constructor;this.options=A.userOptions(A.defaultOptions({},e.OPTIONS),t),this.postFilters=new L.FunctionList}return Object.defineProperty(t.prototype,"name",{get:function(){return this.constructor.NAME},enumerable:!1,configurable:!0}),t.prototype.setAdaptor=function(t){this.adaptor=t},t.prototype.initialize=function(){},t.prototype.reset=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.getMetrics=function(t){},t.prototype.styleSheet=function(t){return null},t.prototype.pageElements=function(t){return null},t.prototype.executeFilters=function(t,e,r,n){var i={math:e,document:r,data:n};return t.execute(i),i.data},t.NAME="generic",t.OPTIONS={},t}();yn.AbstractOutputJax=vn;var bn={},An=bn&&bn.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Cn=bn&&bn.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},wn=bn&&bn.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(bn,"__esModule",{value:!0}),bn.Styles=void 0;var xn=["top","right","bottom","left"],En=["width","style","color"];function Sn(t){for(var e=t.split(/((?:'[^']*'|"[^"]*"|,[\s\n]|[^\s\n])*)/g),r=[];e.length>1;)e.shift(),r.push(e.shift());return r}function Mn(t){var e,r,n=Sn(this.styles[t]);0===n.length&&n.push(""),1===n.length&&n.push(n[0]),2===n.length&&n.push(n[0]),3===n.length&&n.push(n[1]);try{for(var i=An(In.connect[t].children),o=i.next();!o.done;o=i.next()){var s=o.value;this.setStyle(this.childName(t,s),n.shift())}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}}function On(t){var e,r,n=In.connect[t].children,i=[];try{for(var o=An(n),s=o.next();!s.done;s=o.next()){var a=s.value,l=this.styles[t+"-"+a];if(!l)return void delete this.styles[t];i.push(l)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}i[3]===i[1]&&(i.pop(),i[2]===i[0]&&(i.pop(),i[1]===i[0]&&i.pop())),this.styles[t]=i.join(" ")}function _n(t){var e,r;try{for(var n=An(In.connect[t].children),i=n.next();!i.done;i=n.next()){var o=i.value;this.setStyle(this.childName(t,o),this.styles[t])}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}}function Tn(t){var e,r,n=wn([],Cn(In.connect[t].children)),i=this.styles[this.childName(t,n.shift())];try{for(var o=An(n),s=o.next();!s.done;s=o.next()){var a=s.value;if(this.styles[this.childName(t,a)]!==i)return void delete this.styles[t]}}catch(t){e={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}this.styles[t]=i}var Fn=/^(?:[\d.]+(?:[a-z]+)|thin|medium|thick|inherit|initial|unset)$/,Bn=/^(?:none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset|inherit|initial|unset)$/;function Ln(t){var e,r,n,i,o={width:"",style:"",color:""};try{for(var s=An(Sn(this.styles[t])),a=s.next();!a.done;a=s.next()){var l=a.value;l.match(Fn)&&""===o.width?o.width=l:l.match(Bn)&&""===o.style?o.style=l:o.color=l}}catch(t){e={error:t}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}try{for(var c=An(In.connect[t].children),u=c.next();!u.done;u=c.next()){var h=u.value;this.setStyle(this.childName(t,h),o[h])}}catch(t){n={error:t}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}}function kn(t){var e,r,n=[];try{for(var i=An(In.connect[t].children),o=i.next();!o.done;o=i.next()){var s=o.value,a=this.styles[this.childName(t,s)];a&&n.push(a)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}n.length?this.styles[t]=n.join(" "):delete this.styles[t]}var Rn={style:/^(?:normal|italic|oblique|inherit|initial|unset)$/,variant:new RegExp("^(?:"+["normal|none","inherit|initial|unset","common-ligatures|no-common-ligatures","discretionary-ligatures|no-discretionary-ligatures","historical-ligatures|no-historical-ligatures","contextual|no-contextual","(?:stylistic|character-variant|swash|ornaments|annotation)\\([^)]*\\)","small-caps|all-small-caps|petite-caps|all-petite-caps|unicase|titling-caps","lining-nums|oldstyle-nums|proportional-nums|tabular-nums","diagonal-fractions|stacked-fractions","ordinal|slashed-zero","jis78|jis83|jis90|jis04|simplified|traditional","full-width|proportional-width","ruby"].join("|")+")$"),weight:/^(?:normal|bold|bolder|lighter|[1-9]00|inherit|initial|unset)$/,stretch:new RegExp("^(?:"+["normal","(?:(?:ultra|extra|semi)-)?condensed","(?:(?:semi|extra|ulta)-)?expanded","inherit|initial|unset"].join("|")+")$"),size:new RegExp("^(?:"+["xx-small|x-small|small|medium|large|x-large|xx-large|larger|smaller","[d.]+%|[d.]+[a-z]+","inherit|initial|unset"].join("|")+")(?:/(?:normal|[d.+](?:%|[a-z]+)?))?$")};function Dn(t){var e,r,n,i,o=Sn(this.styles[t]),s={style:"",variant:[],weight:"",stretch:"",size:"",family:"","line-height":""};try{for(var a=An(o),l=a.next();!l.done;l=a.next()){var c=l.value;s.family=c;try{for(var u=(n=void 0,An(Object.keys(Rn))),h=u.next();!h.done;h=u.next()){var d=h.value;if((Array.isArray(s[d])||""===s[d])&&c.match(Rn[d]))if("size"===d){var f=Cn(c.split(/\//),2),p=f[0],m=f[1];s[d]=p,m&&(s["line-height"]=m)}else""===s.size&&(Array.isArray(s[d])?s[d].push(c):s[d]=c)}}catch(t){n={error:t}}finally{try{h&&!h.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}!function(t,e){var r,n;try{for(var i=An(In.connect[t].children),o=i.next();!o.done;o=i.next()){var s=o.value,a=this.childName(t,s);if(Array.isArray(e[s])){var l=e[s];l.length&&(this.styles[a]=l.join(" "))}else""!==e[s]&&(this.styles[a]=e[s])}}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}(t,s),delete this.styles[t]}function Pn(t){}var In=function(){function t(t){void 0===t&&(t=""),this.parse(t)}return Object.defineProperty(t.prototype,"cssText",{get:function(){var t,e,r=[];try{for(var n=An(Object.keys(this.styles)),i=n.next();!i.done;i=n.next()){var o=i.value,s=this.parentName(o);this.styles[s]||r.push(o+": "+this.styles[o])}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return r.join("; ")},enumerable:!1,configurable:!0}),t.prototype.set=function(e,r){for(e=this.normalizeName(e),this.setStyle(e,r),t.connect[e]&&!t.connect[e].combine&&(this.combineChildren(e),delete this.styles[e]);e.match(/-/)&&(e=this.parentName(e),t.connect[e]);)t.connect[e].combine.call(this,e)},t.prototype.get=function(t){return t=this.normalizeName(t),this.styles.hasOwnProperty(t)?this.styles[t]:""},t.prototype.setStyle=function(e,r){this.styles[e]=r,t.connect[e]&&t.connect[e].children&&t.connect[e].split.call(this,e),""===r&&delete this.styles[e]},t.prototype.combineChildren=function(e){var r,n,i=this.parentName(e);try{for(var o=An(t.connect[e].children),s=o.next();!s.done;s=o.next()){var a=s.value,l=this.childName(i,a);t.connect[l].combine.call(this,l)}}catch(t){r={error:t}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}},t.prototype.parentName=function(t){var e=t.replace(/-[^-]*$/,"");return t===e?"":e},t.prototype.childName=function(e,r){return r.match(/-/)?r:(t.connect[e]&&!t.connect[e].combine&&(r+=e.replace(/.*-/,"-"),e=this.parentName(e)),e+"-"+r)},t.prototype.normalizeName=function(t){return t.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()}))},t.prototype.parse=function(t){void 0===t&&(t="");var e=this.constructor.pattern;this.styles={};for(var r=t.replace(e.comment,"").split(e.style);r.length>1;){var n=Cn(r.splice(0,3),3),i=n[0],o=n[1],s=n[2];if(i.match(/[^\s\n]/))return;this.set(o,s)}},t.pattern={style:/([-a-z]+)[\s\n]*:[\s\n]*((?:'[^']*'|"[^"]*"|\n|.)*?)[\s\n]*(?:;|$)/g,comment:/\/\*[^]*?\*\//g},t.connect={padding:{children:xn,split:Mn,combine:On},border:{children:xn,split:_n,combine:Tn},"border-top":{children:En,split:Ln,combine:kn},"border-right":{children:En,split:Ln,combine:kn},"border-bottom":{children:En,split:Ln,combine:kn},"border-left":{children:En,split:Ln,combine:kn},"border-width":{children:xn,split:Mn,combine:null},"border-style":{children:xn,split:Mn,combine:null},"border-color":{children:xn,split:Mn,combine:null},font:{children:["style","variant","weight","stretch","line-height","size","family"],split:Dn,combine:Pn}},t}();bn.Styles=In;var Nn={},$n=Nn&&Nn.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.CssStyles=void 0;var jn=function(){function t(t){void 0===t&&(t=null),this.styles={},this.addStyles(t)}return Object.defineProperty(t.prototype,"cssText",{get:function(){return this.getStyleString()},enumerable:!1,configurable:!0}),t.prototype.addStyles=function(t){var e,r;if(t)try{for(var n=$n(Object.keys(t)),i=n.next();!i.done;i=n.next()){var o=i.value;this.styles[o]||(this.styles[o]={}),Object.assign(this.styles[o],t[o])}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.removeStyles=function(){for(var t,e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{for(var i=$n(r),o=i.next();!o.done;o=i.next()){var s=o.value;delete this.styles[s]}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t.prototype.clear=function(){this.styles={}},t.prototype.getStyleString=function(){var t,e,r=Object.keys(this.styles),n=new Array(r.length),i=0;try{for(var o=$n(r),s=o.next();!s.done;s=o.next()){var a=s.value;a.startsWith("@font-face")||(n[i++]=a+" {\n"+this.getStyleDefString(this.styles[a])+"\n}")}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return n.join("\n\n")},t.prototype.getStyleDefString=function(t){var e,r,n=Object.keys(t),i=new Array(n.length),o=0;try{for(var s=$n(n),a=s.next();!a.done;a=s.next()){var l=a.value;i[o++]="  "+l+": "+t[l]+";"}}catch(t){e={error:t}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return i.join("\n")},t}();Nn.CssStyles=jn;var Hn=function(t){function e(e,r,n){void 0===e&&(e=null),void 0===r&&(r=null),void 0===n&&(n=null);var i=this,o=mn(A.separateOptions(e,n.OPTIONS),2),s=o[0],a=o[1];return(i=t.call(this,s)||this).factory=i.options.wrapperFactory||new r,i.factory.jax=i,i.cssStyles=i.options.cssStyles||new Nn.CssStyles,i.font=i.options.font||new n(a),i.unknownCache=new Map,i}return fn(e,t),e.prototype.typeset=function(t,e){this.setDocument(e);var r=this.createNode();return this.toDOM(t,r,e),r},e.prototype.createNode=function(){var t=this.constructor.NAME;return this.html("mjx-container",{class:"MathJax",jax:t})},e.prototype.setScale=function(t){var e=this.math.metrics.scale*this.options.scale;1!==e&&this.adaptor.setStyle(t,"fontSize",Kr.percent(e))},e.prototype.toDOM=function(t,e,r){void 0===r&&(r=null),this.setDocument(r),this.math=t,this.pxPerEm=t.metrics.ex/this.font.params.x_height,t.root.setTeXclass(null),this.setScale(e),this.nodeMap=new Map,this.container=e,this.processMath(t.root,e),this.nodeMap=null,this.executeFilters(this.postFilters,t,r,e)},e.prototype.getBBox=function(t,e){this.setDocument(e),this.math=t,t.root.setTeXclass(null),this.nodeMap=new Map;var r=this.factory.wrap(t.root).getBBox();return this.nodeMap=null,r},e.prototype.getMetrics=function(t){var e,r;this.setDocument(t);var n=this.adaptor,i=this.getMetricMaps(t);try{for(var o=gn(t.math),s=o.next();!s.done;s=o.next()){var a=s.value,l=n.parent(a.start.node);if(a.state()<G.STATE.METRICS&&l){var c=i[a.display?1:0].get(l),u=c.em,h=c.ex,d=c.containerWidth,f=c.lineWidth,p=c.scale,m=c.family;a.setMetrics(u,h,d,f,p),this.options.mtextInheritFont&&(a.outputData.mtextFamily=m),this.options.merrorInheritFont&&(a.outputData.merrorFamily=m),a.state(G.STATE.METRICS)}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}},e.prototype.getMetricsFor=function(t,e){var r=this.options.mtextInheritFont||this.options.merrorInheritFont,n=this.getTestElement(t,e),i=this.measureMetrics(n,r);return this.adaptor.remove(n),i},e.prototype.getMetricMaps=function(t){var e,r,n,i,o,s,a,l,c,u,h=this.adaptor,d=[new Map,new Map];try{for(var f=gn(t.math),p=f.next();!p.done;p=f.next()){var m=p.value;if((E=h.parent(m.start.node))&&m.state()<G.STATE.METRICS){var g=d[m.display?1:0];g.has(E)||g.set(E,this.getTestElement(E,m.display))}}}catch(t){e={error:t}}finally{try{p&&!p.done&&(r=f.return)&&r.call(f)}finally{if(e)throw e.error}}var y=this.options.mtextInheritFont||this.options.merrorInheritFont,v=[new Map,new Map];try{for(var b=gn(v.keys()),A=b.next();!A.done;A=b.next()){var C=A.value;try{for(var w=(o=void 0,gn(d[C].keys())),x=w.next();!x.done;x=w.next()){var E=x.value;v[C].set(E,this.measureMetrics(d[C].get(E),y))}}catch(t){o={error:t}}finally{try{x&&!x.done&&(s=w.return)&&s.call(w)}finally{if(o)throw o.error}}}}catch(t){n={error:t}}finally{try{A&&!A.done&&(i=b.return)&&i.call(b)}finally{if(n)throw n.error}}try{for(var S=gn(v.keys()),M=S.next();!M.done;M=S.next()){C=M.value;try{for(var O=(c=void 0,gn(d[C].values())),_=O.next();!_.done;_=O.next()){E=_.value;h.remove(E)}}catch(t){c={error:t}}finally{try{_&&!_.done&&(u=O.return)&&u.call(O)}finally{if(c)throw c.error}}}}catch(t){a={error:t}}finally{try{M&&!M.done&&(l=S.return)&&l.call(S)}finally{if(a)throw a.error}}return v},e.prototype.getTestElement=function(t,e){var r=this.adaptor;if(!this.testInline){this.testInline=this.html("mjx-test",{style:{display:"inline-block",width:"100%","font-style":"normal","font-weight":"normal","font-size":"100%","font-size-adjust":"none","text-indent":0,"text-transform":"none","letter-spacing":"normal","word-spacing":"normal",overflow:"hidden",height:"1px","margin-right":"-1px"}},[this.html("mjx-left-box",{style:{display:"inline-block",width:0,float:"left"}}),this.html("mjx-ex-box",{style:{position:"absolute",overflow:"hidden",width:"1px",height:"60ex"}}),this.html("mjx-right-box",{style:{display:"inline-block",width:0,float:"right"}})]),this.testDisplay=r.clone(this.testInline),r.setStyle(this.testDisplay,"display","table"),r.setStyle(this.testDisplay,"margin-right",""),r.setStyle(r.firstChild(this.testDisplay),"display","none");var n=r.lastChild(this.testDisplay);r.setStyle(n,"display","table-cell"),r.setStyle(n,"width","10000em"),r.setStyle(n,"float","")}return r.append(t,r.clone(e?this.testDisplay:this.testInline))},e.prototype.measureMetrics=function(t,e){var r=this.adaptor,n=e?r.fontFamily(t):"",i=r.fontSize(t),o=r.nodeSize(r.childNode(t,1))[1]/60||i*this.options.exFactor;return{em:i,ex:o,containerWidth:"table"===r.getStyle(t,"display")?r.nodeSize(r.lastChild(t))[0]-1:r.nodeBBox(r.lastChild(t)).left-r.nodeBBox(r.firstChild(t)).left-2,lineWidth:1e6,scale:Math.max(this.options.minScale,this.options.matchFontHeight?o/this.font.params.x_height/i:1),family:n}},e.prototype.styleSheet=function(t){var e,r,n,i;if(this.setDocument(t),this.cssStyles.clear(),this.cssStyles.addStyles(this.constructor.commonStyles),"getStyles"in t)try{for(var o=gn(t.getStyles()),s=o.next();!s.done;s=o.next()){var a=s.value;this.cssStyles.addStyles(a)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}try{for(var l=gn(this.factory.getKinds()),c=l.next();!c.done;c=l.next()){var u=c.value;this.addClassStyles(this.factory.getNodeClass(u))}}catch(t){n={error:t}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}return this.cssStyles.addStyles(this.font.styles),this.html("style",{id:"MJX-styles"},[this.text("\n"+this.cssStyles.cssText+"\n")])},e.prototype.addClassStyles=function(t){this.cssStyles.addStyles(t.styles)},e.prototype.setDocument=function(t){t&&(this.document=t,this.adaptor.document=t.document)},e.prototype.html=function(t,e,r,n){return void 0===e&&(e={}),void 0===r&&(r=[]),this.adaptor.node(t,e,r,n)},e.prototype.text=function(t){return this.adaptor.text(t)},e.prototype.fixed=function(t,e){return void 0===e&&(e=3),Math.abs(t)<6e-4?"0":t.toFixed(e).replace(/\.?0+$/,"")},e.prototype.measureText=function(t,e,r){void 0===r&&(r=["",!1,!1]);var n=this.unknownText(t,e);if("-explicitFont"===e){var i=this.cssFontStyles(r);this.adaptor.setAttributes(n,{style:i})}return this.measureTextNodeWithCache(n,t,e,r)},e.prototype.measureTextNodeWithCache=function(t,e,r,n){void 0===n&&(n=["",!1,!1]),"-explicitFont"===r&&(r=[n[0],n[1]?"T":"F",n[2]?"T":"F",""].join("-")),this.unknownCache.has(r)||this.unknownCache.set(r,new Map);var i=this.unknownCache.get(r),o=i.get(e);if(o)return o;var s=this.measureTextNode(t);return i.set(e,s),s},e.prototype.measureXMLnode=function(t){var e=this.adaptor,r=this.html("mjx-xml-block",{style:{display:"inline-block"}},[e.clone(t)]),n=this.html("mjx-baseline",{style:{display:"inline-block",width:0,height:0}}),i=this.html("mjx-measure-xml",{style:{position:"absolute",display:"inline-block","font-family":"initial","line-height":"normal"}},[n,r]);e.append(e.parent(this.math.start.node),this.container),e.append(this.container,i);var o=this.math.metrics.em*this.math.metrics.scale,s=e.nodeBBox(r),a=s.left,l=s.right,c=s.bottom,u=s.top,h=(l-a)/o,d=(e.nodeBBox(n).top-u)/o,f=(c-u)/o-d;return e.remove(this.container),e.remove(i),{w:h,h:d,d:f}},e.prototype.cssFontStyles=function(t,e){void 0===e&&(e={});var r=mn(t,3),n=r[0],i=r[1],o=r[2];return e["font-family"]=this.font.getFamily(n),i&&(e["font-style"]="italic"),o&&(e["font-weight"]="bold"),e},e.prototype.getFontData=function(t){return t||(t=new bn.Styles),[this.font.getFamily(t.get("font-family")),"italic"===t.get("font-style"),"bold"===t.get("font-weight")]},e.NAME="Common",e.OPTIONS=pn(pn({},yn.AbstractOutputJax.OPTIONS),{scale:1,minScale:.5,matchFontHeight:!0,mtextInheritFont:!1,merrorInheritFont:!1,mtextFont:"",merrorFont:"serif",mathmlSpacing:!1,skipAttributes:{},exFactor:.5,displayAlign:"center",displayIndent:"0",wrapperFactory:null,font:null,cssStyles:null}),e.commonStyles={},e}(yn.AbstractOutputJax);dn.CommonOutputJax=Hn;var Wn={},zn=Wn&&Wn.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.CHTMLWrapperFactory=void 0;var Vn={},Xn=Vn&&Vn.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Vn,"__esModule",{value:!0}),Vn.CommonWrapperFactory=void 0;var qn={},Gn=qn&&qn.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Un=qn&&qn.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},Kn=qn&&qn.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(qn,"__esModule",{value:!0}),qn.AbstractWrapperFactory=void 0;var Jn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Gn(e,t),e.prototype.wrap=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return this.create.apply(this,Kn([t.kind,t],Un(e)))},e}(me.AbstractFactory);qn.AbstractWrapperFactory=Jn;var Qn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.jax=null,e}return Xn(e,t),Object.defineProperty(e.prototype,"Wrappers",{get:function(){return this.node},enumerable:!1,configurable:!0}),e.defaultNodes={},e}(qn.AbstractWrapperFactory);Vn.CommonWrapperFactory=Qn;var Yn,Zn={};Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.CHTMLWrappers=void 0;var ti,ei={},ri=ei&&ei.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ni=ei&&ei.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ii=ei&&ei.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s};Object.defineProperty(ei,"__esModule",{value:!0}),ei.CHTMLWrapper=ei.SPACE=ei.FONTSIZE=void 0;var oi={},si=oi&&oi.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ai=oi&&oi.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},li=oi&&oi.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},ci=oi&&oi.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(oi,"__esModule",{value:!0}),oi.CommonWrapper=void 0;var ui={};Object.defineProperty(ui,"__esModule",{value:!0}),ui.AbstractWrapper=void 0;var hi=function(){function t(t,e){this.factory=t,this.node=e}return Object.defineProperty(t.prototype,"kind",{get:function(){return this.node.kind},enumerable:!1,configurable:!0}),t.prototype.wrap=function(t){return this.factory.wrap(t)},t}();ui.AbstractWrapper=hi;var di={};Object.defineProperty(di,"__esModule",{value:!0}),di.BBox=di.BBoxStyleAdjust=void 0,di.BBoxStyleAdjust=[["borderTopWidth","h"],["borderRightWidth","w"],["borderBottomWidth","d"],["borderLeftWidth","w",0],["paddingTop","h"],["paddingRight","w"],["paddingBottom","d"],["paddingLeft","w",0]];var fi=function(){function t(t){void 0===t&&(t={w:0,h:-Kr.BIGDIMEN,d:-Kr.BIGDIMEN}),this.w=t.w||0,this.h="h"in t?t.h:-Kr.BIGDIMEN,this.d="d"in t?t.d:-Kr.BIGDIMEN,this.L=this.R=this.ic=this.sk=0,this.scale=this.rscale=1,this.pwidth=""}return t.zero=function(){return new t({h:0,d:0,w:0})},t.empty=function(){return new t},t.prototype.empty=function(){return this.w=0,this.h=this.d=-Kr.BIGDIMEN,this},t.prototype.clean=function(){this.w===-Kr.BIGDIMEN&&(this.w=0),this.h===-Kr.BIGDIMEN&&(this.h=0),this.d===-Kr.BIGDIMEN&&(this.d=0)},t.prototype.rescale=function(t){this.w*=t,this.h*=t,this.d*=t},t.prototype.combine=function(t,e,r){void 0===e&&(e=0),void 0===r&&(r=0);var n=t.rscale,i=e+n*(t.w+t.L+t.R),o=r+n*t.h,s=n*t.d-r;i>this.w&&(this.w=i),o>this.h&&(this.h=o),s>this.d&&(this.d=s)},t.prototype.append=function(t){var e=t.rscale;this.w+=e*(t.w+t.L+t.R),e*t.h>this.h&&(this.h=e*t.h),e*t.d>this.d&&(this.d=e*t.d)},t.prototype.updateFrom=function(t){this.h=t.h,this.d=t.d,this.w=t.w,t.pwidth&&(this.pwidth=t.pwidth)},t.fullWidth="100%",t}();di.BBox=fi,i.register("56kfJ",(function(t,e){"use strict";var r=t.exports&&t.exports.__assign||function(){return(r=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},n=t.exports&&t.exports.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},i=t.exports&&t.exports.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t},o=t.exports&&t.exports.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.FontData=t.exports.NOSTRETCH=t.exports.H=t.exports.V=void 0,t.exports.V=1,t.exports.H=2,t.exports.NOSTRETCH={dir:0};var s=function(){function t(t){var e,s,a,l;void 0===t&&(t=null),this.variant={},this.delimiters={},this.cssFontMap={},this.remapChars={},this.skewIcFactor=.75;var c=this.constructor;this.options=A.userOptions(A.defaultOptions({},c.OPTIONS),t),this.params=r({},c.defaultParams),this.sizeVariants=i([],n(c.defaultSizeVariants)),this.stretchVariants=i([],n(c.defaultStretchVariants)),this.cssFontMap=r({},c.defaultCssFonts);try{for(var u=o(Object.keys(this.cssFontMap)),h=u.next();!h.done;h=u.next()){var d=h.value;"unknown"===this.cssFontMap[d][0]&&(this.cssFontMap[d][0]=this.options.unknownFamily)}}catch(t){e={error:t}}finally{try{h&&!h.done&&(s=u.return)&&s.call(u)}finally{if(e)throw e.error}}this.cssFamilyPrefix=c.defaultCssFamilyPrefix,this.createVariants(c.defaultVariants),this.defineDelimiters(c.defaultDelimiters);try{for(var f=o(Object.keys(c.defaultChars)),p=f.next();!p.done;p=f.next()){var m=p.value;this.defineChars(m,c.defaultChars[m])}}catch(t){a={error:t}}finally{try{p&&!p.done&&(l=f.return)&&l.call(f)}finally{if(a)throw a.error}}this.defineRemap("accent",c.defaultAccentMap),this.defineRemap("mo",c.defaultMoMap),this.defineRemap("mn",c.defaultMnMap)}return t.charOptions=function(t,e){var r=t[e];return 3===r.length&&(r[3]={}),r[3]},Object.defineProperty(t.prototype,"styles",{get:function(){return this._styles},set:function(t){this._styles=t},enumerable:!1,configurable:!0}),t.prototype.createVariant=function(t,e,r){void 0===e&&(e=null),void 0===r&&(r=null);var n={linked:[],chars:e?Object.create(this.variant[e].chars):{}};r&&this.variant[r]&&(Object.assign(n.chars,this.variant[r].chars),this.variant[r].linked.push(n.chars),n.chars=Object.create(n.chars)),this.remapSmpChars(n.chars,t),this.variant[t]=n},t.prototype.remapSmpChars=function(t,e){var r,i,s,a,l=this.constructor;if(l.VariantSmp[e]){var c=l.SmpRemap,u=[null,null,l.SmpRemapGreekU,l.SmpRemapGreekL];try{for(var h=o(l.SmpRanges),d=h.next();!d.done;d=h.next()){var f=n(d.value,3),p=f[0],m=f[1],g=f[2],y=l.VariantSmp[e][p];if(y){for(var v=m;v<=g;v++)if(930!==v){var b=y+v-m;t[v]=this.smpChar(c[b]||b)}if(u[p])try{for(var A=(s=void 0,o(Object.keys(u[p]).map((function(t){return parseInt(t)})))),C=A.next();!C.done;C=A.next()){t[v=C.value]=this.smpChar(y+u[p][v])}}catch(t){s={error:t}}finally{try{C&&!C.done&&(a=A.return)&&a.call(A)}finally{if(s)throw s.error}}}}}catch(t){r={error:t}}finally{try{d&&!d.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}}"bold"===e&&(t[988]=this.smpChar(120778),t[989]=this.smpChar(120779))},t.prototype.smpChar=function(t){return[,,,{smp:t}]},t.prototype.createVariants=function(t){var e,r;try{for(var n=o(t),i=n.next();!i.done;i=n.next()){var s=i.value;this.createVariant(s[0],s[1],s[2])}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.defineChars=function(t,e){var r,n,i=this.variant[t];Object.assign(i.chars,e);try{for(var s=o(i.linked),a=s.next();!a.done;a=s.next()){var l=a.value;Object.assign(l,e)}}catch(t){r={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}},t.prototype.defineDelimiters=function(t){Object.assign(this.delimiters,t)},t.prototype.defineRemap=function(t,e){this.remapChars.hasOwnProperty(t)||(this.remapChars[t]={}),Object.assign(this.remapChars[t],e)},t.prototype.getDelimiter=function(t){return this.delimiters[t]},t.prototype.getSizeVariant=function(t,e){return this.delimiters[t].variants&&(e=this.delimiters[t].variants[e]),this.sizeVariants[e]},t.prototype.getStretchVariant=function(t,e){return this.stretchVariants[this.delimiters[t].stretchv?this.delimiters[t].stretchv[e]:0]},t.prototype.getChar=function(t,e){return this.variant[t].chars[e]},t.prototype.getVariant=function(t){return this.variant[t]},t.prototype.getCssFont=function(t){return this.cssFontMap[t]||["serif",!1,!1]},t.prototype.getFamily=function(t){return this.cssFamilyPrefix?this.cssFamilyPrefix+", "+t:t},t.prototype.getRemappedChar=function(t,e){return(this.remapChars[t]||{})[e]},t.OPTIONS={unknownFamily:"serif"},t.defaultVariants=[["normal"],["bold","normal"],["italic","normal"],["bold-italic","italic","bold"],["double-struck","bold"],["fraktur","normal"],["bold-fraktur","bold","fraktur"],["script","italic"],["bold-script","bold-italic","script"],["sans-serif","normal"],["bold-sans-serif","bold","sans-serif"],["sans-serif-italic","italic","sans-serif"],["sans-serif-bold-italic","bold-italic","bold-sans-serif"],["monospace","normal"]],t.defaultCssFonts={normal:["unknown",!1,!1],bold:["unknown",!1,!0],italic:["unknown",!0,!1],"bold-italic":["unknown",!0,!0],"double-struck":["unknown",!1,!0],fraktur:["unknown",!1,!1],"bold-fraktur":["unknown",!1,!0],script:["cursive",!1,!1],"bold-script":["cursive",!1,!0],"sans-serif":["sans-serif",!1,!1],"bold-sans-serif":["sans-serif",!1,!0],"sans-serif-italic":["sans-serif",!0,!1],"sans-serif-bold-italic":["sans-serif",!0,!0],monospace:["monospace",!1,!1]},t.defaultCssFamilyPrefix="",t.VariantSmp={bold:[119808,119834,120488,120514,120782],italic:[119860,119886,120546,120572],"bold-italic":[119912,119938,120604,120630],script:[119964,119990],"bold-script":[120016,120042],fraktur:[120068,120094],"double-struck":[120120,120146,,,120792],"bold-fraktur":[120172,120198],"sans-serif":[120224,120250,,,120802],"bold-sans-serif":[120276,120302,120662,120688,120812],"sans-serif-italic":[120328,120354],"sans-serif-bold-italic":[120380,120406,120720,120746],monospace:[120432,120458,,,120822]},t.SmpRanges=[[0,65,90],[1,97,122],[2,913,937],[3,945,969],[4,48,57]],t.SmpRemap={119893:8462,119965:8492,119968:8496,119969:8497,119971:8459,119972:8464,119975:8466,119976:8499,119981:8475,119994:8495,119996:8458,120004:8500,120070:8493,120075:8460,120076:8465,120085:8476,120093:8488,120122:8450,120127:8461,120133:8469,120135:8473,120136:8474,120137:8477,120145:8484},t.SmpRemapGreekU={8711:25,1012:17},t.SmpRemapGreekL={977:27,981:29,982:31,1008:28,1009:30,1013:26,8706:25},t.defaultAccentMap={768:"ˋ",769:"ˊ",770:"ˆ",771:"˜",772:"ˉ",774:"˘",775:"˙",776:"¨",778:"˚",780:"ˇ",8594:"⃗",8242:"'",8243:"''",8244:"'''",8245:"`",8246:"``",8247:"```",8279:"''''",8400:"↼",8401:"⇀",8406:"←",8417:"↔",8432:"*",8411:"...",8412:"....",8428:"⇁",8429:"↽",8430:"←",8431:"→"},t.defaultMoMap={45:"−"},t.defaultMnMap={45:"−"},t.defaultParams={x_height:.442,quad:1,num1:.676,num2:.394,num3:.444,denom1:.686,denom2:.345,sup1:.413,sup2:.363,sup3:.289,sub1:.15,sub2:.247,sup_drop:.386,sub_drop:.05,delim1:2.39,delim2:1,axis_height:.25,rule_thickness:.06,big_op_spacing1:.111,big_op_spacing2:.167,big_op_spacing3:.2,big_op_spacing4:.6,big_op_spacing5:.1,surd_height:.075,scriptspace:.05,nulldelimiterspace:.12,delimiterfactor:901,delimitershortfall:.3,min_rule_thickness:1.25,separation_factor:1.75,extra_ic:.033},t.defaultDelimiters={},t.defaultChars={},t.defaultSizeVariants=[],t.defaultStretchVariants=[],t}();t.exports.FontData=s}));var pi=i("56kfJ"),mi=2/18;function gi(t,e){return t?e<mi?0:mi:e}var yi=function(t){function e(e,r,n){void 0===n&&(n=null);var i=t.call(this,e,r)||this;return i.parent=null,i.removedStyles=null,i.styles=null,i.variant="",i.bboxComputed=!1,i.stretch=pi.NOSTRETCH,i.font=null,i.parent=n,i.font=e.jax.font,i.bbox=di.BBox.zero(),i.getStyles(),i.getVariant(),i.getScale(),i.getSpace(),i.childNodes=r.childNodes.map((function(t){var e=i.wrap(t);return e.bbox.pwidth&&(r.notParent||r.isKind("math"))&&(i.bbox.pwidth=di.BBox.fullWidth),e})),i}return si(e,t),Object.defineProperty(e.prototype,"jax",{get:function(){return this.factory.jax},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"adaptor",{get:function(){return this.factory.jax.adaptor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metrics",{get:function(){return this.factory.jax.math.metrics},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fixesPWidth",{get:function(){return!this.node.notParent&&!this.node.isToken},enumerable:!1,configurable:!0}),e.prototype.wrap=function(t,e){void 0===e&&(e=null);var r=this.factory.wrap(t,e||this);return e&&e.childNodes.push(r),this.jax.nodeMap.set(t,r),r},e.prototype.getBBox=function(t){if(void 0===t&&(t=!0),this.bboxComputed)return this.bbox;var e=t?this.bbox:di.BBox.zero();return this.computeBBox(e),this.bboxComputed=t,e},e.prototype.computeBBox=function(t,e){var r,n;void 0===e&&(e=!1),t.empty();try{for(var i=ai(this.childNodes),o=i.next();!o.done;o=i.next()){var s=o.value;t.append(s.getBBox())}}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}t.clean(),this.fixesPWidth&&this.setChildPWidths(e)&&this.computeBBox(t,!0)},e.prototype.setChildPWidths=function(t,e,r){var n,i;if(void 0===e&&(e=null),void 0===r&&(r=!0),t)return!1;r&&(this.bbox.pwidth="");var o=!1;try{for(var s=ai(this.childNodes),a=s.next();!a.done;a=s.next()){var l=a.value,c=l.getBBox();c.pwidth&&l.setChildPWidths(t,null===e?c.w:e,r)&&(o=!0)}}catch(t){n={error:t}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return o},e.prototype.invalidateBBox=function(){this.bboxComputed&&(this.bboxComputed=!1,this.parent&&this.parent.invalidateBBox())},e.prototype.copySkewIC=function(t){var e=this.childNodes[0];e&&e.bbox.sk&&(t.sk=e.bbox.sk);var r=this.childNodes[this.childNodes.length-1];r&&r.bbox.ic&&(t.ic=r.bbox.ic,t.w+=t.ic)},e.prototype.getStyles=function(){var t=this.node.attributes.getExplicit("style");if(t)for(var r=this.styles=new bn.Styles(t),n=0,i=e.removeStyles.length;n<i;n++){var o=e.removeStyles[n];r.get(o)&&(this.removedStyles||(this.removedStyles={}),this.removedStyles[o]=r.get(o),r.set(o,""))}},e.prototype.getVariant=function(){if(this.node.isToken){var t=this.node.attributes,r=t.get("mathvariant");if(!t.getExplicit("mathvariant")){var n=t.getList("fontfamily","fontweight","fontstyle");if(this.removedStyles){var i=this.removedStyles;i.fontFamily&&(n.family=i.fontFamily),i.fontWeight&&(n.weight=i.fontWeight),i.fontStyle&&(n.style=i.fontStyle)}n.fontfamily&&(n.family=n.fontfamily),n.fontweight&&(n.weight=n.fontweight),n.fontstyle&&(n.style=n.fontstyle),n.weight&&n.weight.match(/^\d+$/)&&(n.weight=parseInt(n.weight)>600?"bold":"normal"),n.family?r=this.explicitVariant(n.family,n.weight,n.style):(this.node.getProperty("variantForm")&&(r="-tex-variant"),r=(e.BOLDVARIANTS[n.weight]||{})[r]||r,r=(e.ITALICVARIANTS[n.style]||{})[r]||r)}this.variant=r}},e.prototype.explicitVariant=function(t,e,r){var n=this.styles;return n||(n=this.styles=new bn.Styles),n.set("fontFamily",t),e&&n.set("fontWeight",e),r&&n.set("fontStyle",r),"-explicitFont"},e.prototype.getScale=function(){var t=1,e=this.parent,r=e?e.bbox.scale:1,n=this.node.attributes,i=Math.min(n.get("scriptlevel"),2),o=n.get("fontsize"),s=this.node.isToken||this.node.isKind("mstyle")?n.get("mathsize"):n.getInherited("mathsize");if(0!==i){t=Math.pow(n.get("scriptsizemultiplier"),i);var a=this.length2em(n.get("scriptminsize"),.8,1);t<a&&(t=a)}this.removedStyles&&this.removedStyles.fontSize&&!o&&(o=this.removedStyles.fontSize),o&&!n.getExplicit("mathsize")&&(s=o),"1"!==s&&(t*=this.length2em(s,1,1)),this.bbox.scale=t,this.bbox.rscale=t/r},e.prototype.getSpace=function(){var t=this.isTopEmbellished(),e=this.node.hasSpacingAttributes();this.jax.options.mathmlSpacing||e?t&&this.getMathMLSpacing():this.getTeXSpacing(t,e)},e.prototype.getMathMLSpacing=function(){var t=this.node.coreMO(),e=t.coreParent(),r=e.parent;if(r&&r.isKind("mrow")&&1!==r.childNodes.length){var n=t.attributes,i=n.get("scriptlevel")>0;this.bbox.L=n.isSet("lspace")?Math.max(0,this.length2em(n.get("lspace"))):gi(i,t.lspace),this.bbox.R=n.isSet("rspace")?Math.max(0,this.length2em(n.get("rspace"))):gi(i,t.rspace);var o=r.childIndex(e);if(0!==o){var s=r.childNodes[o-1];if(s.isEmbellished){var a=this.jax.nodeMap.get(s).getBBox();a.R&&(this.bbox.L=Math.max(0,this.bbox.L-a.R))}}}},e.prototype.getTeXSpacing=function(t,e){if(!e){var r=this.node.texSpacing();r&&(this.bbox.L=this.length2em(r))}if(t||e){var n=this.node.coreMO().attributes;n.isSet("lspace")&&(this.bbox.L=Math.max(0,this.length2em(n.get("lspace")))),n.isSet("rspace")&&(this.bbox.R=Math.max(0,this.length2em(n.get("rspace"))))}},e.prototype.isTopEmbellished=function(){return this.node.isEmbellished&&!(this.node.parent&&this.node.parent.isEmbellished)},e.prototype.core=function(){return this.jax.nodeMap.get(this.node.core())},e.prototype.coreMO=function(){return this.jax.nodeMap.get(this.node.coreMO())},e.prototype.getText=function(){var t,e,r="";if(this.node.isToken)try{for(var n=ai(this.node.childNodes),i=n.next();!i.done;i=n.next()){var o=i.value;o instanceof Y.TextNode&&(r+=o.getText())}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return r},e.prototype.canStretch=function(t){if(this.stretch=pi.NOSTRETCH,this.node.isEmbellished){var e=this.core();e&&e.node!==this.node&&e.canStretch(t)&&(this.stretch=e.stretch)}return 0!==this.stretch.dir},e.prototype.getAlignShift=function(){var t,e=(t=this.node.attributes).getList.apply(t,ci([],li(Y.indentAttributes))),r=e.indentalign,n=e.indentshift,i=e.indentalignfirst,o=e.indentshiftfirst;return"indentalign"!==i&&(r=i),"auto"===r&&(r=this.jax.options.displayAlign),"indentshift"!==o&&(n=o),"auto"===n&&(n=this.jax.options.displayIndent,"right"!==r||n.match(/^\s*0[a-z]*\s*$/)||(n=("-"+n.trim()).replace(/^--/,""))),[r,this.length2em(n,this.metrics.containerWidth)]},e.prototype.getAlignX=function(t,e,r){return"right"===r?t-(e.w+e.R)*e.rscale:"left"===r?e.L*e.rscale:(t-e.w*e.rscale)/2},e.prototype.getAlignY=function(t,e,r,n,i){return"top"===i?t-r:"bottom"===i?n-e:"center"===i?(t-r-(e-n))/2:0},e.prototype.getWrapWidth=function(t){return this.childNodes[t].getBBox().w},e.prototype.getChildAlign=function(t){return"left"},e.prototype.percent=function(t){return Kr.percent(t)},e.prototype.em=function(t){return Kr.em(t)},e.prototype.px=function(t,e){return void 0===e&&(e=-Kr.BIGDIMEN),Kr.px(t,e,this.metrics.em)},e.prototype.length2em=function(t,e,r){return void 0===e&&(e=1),void 0===r&&(r=null),null===r&&(r=this.bbox.scale),Kr.length2em(t,e,r,this.jax.pxPerEm)},e.prototype.unicodeChars=function(t,e){void 0===e&&(e=this.variant);var r=V.unicodeChars(t),n=this.font.getVariant(e);if(n&&n.chars){var i=n.chars;r=r.map((function(t){return((i[t]||[])[3]||{}).smp||t}))}return r},e.prototype.remapChars=function(t){return t},e.prototype.mmlText=function(t){return this.node.factory.create("text").setText(t)},e.prototype.mmlNode=function(t,e,r){return void 0===e&&(e={}),void 0===r&&(r=[]),this.node.factory.create(t,e,r)},e.prototype.createMo=function(t){var e=this.node.factory,r=e.create("text").setText(t),n=e.create("mo",{stretchy:!0},[r]);n.inheritAttributesFrom(this.node);var i=this.wrap(n);return i.parent=this,i},e.prototype.getVariantChar=function(t,e){var r=this.font.getChar(t,e)||[0,0,0,{unknown:!0}];return 3===r.length&&(r[3]={}),r},e.kind="unknown",e.styles={},e.removeStyles=["fontSize","fontFamily","fontWeight","fontStyle","fontVariant","font"],e.skipAttributes={fontfamily:!0,fontsize:!0,fontweight:!0,fontstyle:!0,color:!0,background:!0,class:!0,href:!0,style:!0,xmlns:!0},e.BOLDVARIANTS={bold:{normal:"bold",italic:"bold-italic",fraktur:"bold-fraktur",script:"bold-script","sans-serif":"bold-sans-serif","sans-serif-italic":"sans-serif-bold-italic"},normal:{bold:"normal","bold-italic":"italic","bold-fraktur":"fraktur","bold-script":"script","bold-sans-serif":"sans-serif","sans-serif-bold-italic":"sans-serif-italic"}},e.ITALICVARIANTS={italic:{normal:"italic",bold:"bold-italic","sans-serif":"sans-serif-italic","bold-sans-serif":"sans-serif-bold-italic"},normal:{italic:"normal","bold-italic":"bold","sans-serif-italic":"sans-serif","sans-serif-bold-italic":"bold-sans-serif"}},e}(ui.AbstractWrapper);oi.CommonWrapper=yi,ei.FONTSIZE={"70.7%":"s","70%":"s","50%":"ss","60%":"Tn","85%":"sm","120%":"lg","144%":"Lg","173%":"LG","207%":"hg","249%":"HG"},ei.SPACE=((ti={})[Kr.em(2/18)]="1",ti[Kr.em(3/18)]="2",ti[Kr.em(4/18)]="3",ti[Kr.em(5/18)]="4",ti[Kr.em(6/18)]="5",ti);var vi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.chtml=null,e}return ri(e,t),e.prototype.toCHTML=function(t){var e,r,n=this.standardCHTMLnode(t);try{for(var i=ni(this.childNodes),o=i.next();!o.done;o=i.next()){o.value.toCHTML(n)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}},e.prototype.standardCHTMLnode=function(t){this.markUsed();var e=this.createCHTMLnode(t);return this.handleStyles(),this.handleVariant(),this.handleScale(),this.handleColor(),this.handleSpace(),this.handleAttributes(),this.handlePWidth(),e},e.prototype.markUsed=function(){this.constructor.used=!0},e.prototype.createCHTMLnode=function(t){var e=this.node.attributes.get("href");return e&&(t=this.adaptor.append(t,this.html("a",{href:e}))),this.chtml=this.adaptor.append(t,this.html("mjx-"+this.node.kind)),this.chtml},e.prototype.handleStyles=function(){if(this.styles){var t=this.styles.cssText;if(t){this.adaptor.setAttribute(this.chtml,"style",t);var e=this.styles.get("font-family");e&&this.adaptor.setStyle(this.chtml,"font-family","MJXZERO, "+e)}}},e.prototype.handleVariant=function(){this.node.isToken&&"-explicitFont"!==this.variant&&this.adaptor.setAttribute(this.chtml,"class",(this.font.getVariant(this.variant)||this.font.getVariant("normal")).classes)},e.prototype.handleScale=function(){this.setScale(this.chtml,this.bbox.rscale)},e.prototype.setScale=function(t,e){var r=Math.abs(e-1)<.001?1:e;if(t&&1!==r){var n=this.percent(r);ei.FONTSIZE[n]?this.adaptor.setAttribute(t,"size",ei.FONTSIZE[n]):this.adaptor.setStyle(t,"fontSize",n)}return t},e.prototype.handleSpace=function(){var t,e;try{for(var r=ni([[this.bbox.L,"space","marginLeft"],[this.bbox.R,"rspace","marginRight"]]),n=r.next();!n.done;n=r.next()){var i=n.value,o=ii(i,3),s=o[0],a=o[1],l=o[2];if(s){var c=this.em(s);ei.SPACE[c]?this.adaptor.setAttribute(this.chtml,a,ei.SPACE[c]):this.adaptor.setStyle(this.chtml,l,c)}}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},e.prototype.handleColor=function(){var t=this.node.attributes,e=t.getExplicit("mathcolor"),r=t.getExplicit("color"),n=t.getExplicit("mathbackground"),i=t.getExplicit("background");(e||r)&&this.adaptor.setStyle(this.chtml,"color",e||r),(n||i)&&this.adaptor.setStyle(this.chtml,"backgroundColor",n||i)},e.prototype.handleAttributes=function(){var t,r,n,i,o=this.node.attributes,s=o.getAllDefaults(),a=e.skipAttributes;try{for(var l=ni(o.getExplicitNames()),c=l.next();!c.done;c=l.next()){var u=c.value;!1!==a[u]&&(u in s||a[u]||this.adaptor.hasAttribute(this.chtml,u))||this.adaptor.setAttribute(this.chtml,u,o.getExplicit(u))}}catch(e){t={error:e}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}if(o.get("class")){var h=o.get("class").trim().split(/ +/);try{for(var d=ni(h),f=d.next();!f.done;f=d.next()){var p=f.value;this.adaptor.addClass(this.chtml,p)}}catch(t){n={error:t}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}}},e.prototype.handlePWidth=function(){this.bbox.pwidth&&(this.bbox.pwidth===di.BBox.fullWidth?this.adaptor.setAttribute(this.chtml,"width","full"):this.adaptor.setStyle(this.chtml,"width",this.bbox.pwidth))},e.prototype.setIndent=function(t,e,r){var n=this.adaptor;if("center"===e||"left"===e){var i=this.getBBox().L;n.setStyle(t,"margin-left",this.em(r+i))}if("center"===e||"right"===e){var o=this.getBBox().R;n.setStyle(t,"margin-right",this.em(-r+o))}},e.prototype.drawBBox=function(){var t=this.getBBox(),e=t.w,r=t.h,n=t.d,i=t.R,o=this.html("mjx-box",{style:{opacity:.25,"margin-left":this.em(-e-i)}},[this.html("mjx-box",{style:{height:this.em(r),width:this.em(e),"background-color":"red"}}),this.html("mjx-box",{style:{height:this.em(n),width:this.em(e),"margin-left":this.em(-e),"vertical-align":this.em(-n),"background-color":"green"}})]),s=this.chtml||this.parent.chtml,a=this.adaptor.getAttribute(s,"size");a&&this.adaptor.setAttribute(o,"size",a);var l=this.adaptor.getStyle(s,"fontSize");l&&this.adaptor.setStyle(o,"fontSize",l),this.adaptor.append(this.adaptor.parent(s),o),this.adaptor.setStyle(s,"backgroundColor","#FFEE00")},e.prototype.html=function(t,e,r){return void 0===e&&(e={}),void 0===r&&(r=[]),this.node instanceof Y.AbstractMmlNode&&null!==this.node.beginLoc&&(e.beginLoc=this.node.beginLoc,e.endLoc=this.node.endLoc),this.jax.html(t,e,r)},e.prototype.text=function(t){return this.jax.text(t)},e.prototype.char=function(t){return this.font.charSelector(t).substr(1)},e.kind="unknown",e.autoStyle=!0,e.used=!1,e}(oi.CommonWrapper);ei.CHTMLWrapper=vi;var bi={},Ai=bi&&bi.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ci=bi&&bi.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s};Object.defineProperty(bi,"__esModule",{value:!0}),bi.CHTMLmath=void 0;var wi={},xi=wi&&wi.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(wi,"__esModule",{value:!0}),wi.CommonMathMixin=void 0,wi.CommonMathMixin=function(t){return function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xi(e,t),e.prototype.getWrapWidth=function(t){return this.parent?this.getBBox().w:this.metrics.containerWidth/this.jax.pxPerEm},e}(t)};var Ei={},Si=Ei&&Ei.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Mi=Ei&&Ei.__assign||function(){return(Mi=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(Ei,"__esModule",{value:!0}),Ei.MmlMath=void 0;var Oi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Si(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"math"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"linebreakContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.setChildInheritedAttributes=function(e,r,n,i){"display"===this.attributes.get("mode")&&this.attributes.setInherited("display","block"),e=this.addInheritedAttributes(e,this.attributes.getAllAttributes()),r=!!this.attributes.get("displaystyle")||!this.attributes.get("displaystyle")&&"block"===this.attributes.get("display"),this.attributes.setInherited("displaystyle",r),n=this.attributes.get("scriptlevel")||this.constructor.defaults.scriptlevel,t.prototype.setChildInheritedAttributes.call(this,e,r,n,i)},e.defaults=Mi(Mi({},Y.AbstractMmlLayoutNode.defaults),{mathvariant:"normal",mathsize:"normal",mathcolor:"",mathbackground:"transparent",dir:"ltr",scriptlevel:0,displaystyle:!1,display:"inline",maxwidth:"",overflow:"linebreak",altimg:"","altimg-width":"","altimg-height":"","altimg-valign":"",alttext:"",cdgroup:"",scriptsizemultiplier:1/Math.sqrt(2),scriptminsize:"8px",infixlinebreakstyle:"before",lineleading:"1ex",linebreakmultchar:"⁢",indentshift:"auto",indentalign:"auto",indenttarget:"",indentalignfirst:"indentalign",indentshiftfirst:"indentshift",indentalignlast:"indentalign",indentshiftlast:"indentshift"}),e}(Y.AbstractMmlLayoutNode);Ei.MmlMath=Oi;var _i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ai(e,t),e.prototype.toCHTML=function(e){t.prototype.toCHTML.call(this,e);var r=this.chtml,n=this.adaptor;"block"===this.node.attributes.get("display")?(n.setAttribute(r,"display","true"),n.setAttribute(e,"display","true"),this.handleDisplay(e)):this.handleInline(e),n.addClass(r,"MJX-TEX")},e.prototype.handleDisplay=function(t){var e=this.adaptor,r=Ci(this.getAlignShift(),2),n=r[0],i=r[1];if("center"!==n&&e.setAttribute(t,"justify",n),this.bbox.pwidth===di.BBox.fullWidth){if(e.setAttribute(t,"width","full"),this.jax.table){var o=this.jax.table.getBBox(),s=o.L,a=o.w,l=o.R;"right"===n?l=Math.max(l||-i,-i):"left"===n?s=Math.max(s||i,i):"center"===n&&(a+=2*Math.abs(i));var c=this.em(Math.max(0,s+a+l));e.setStyle(t,"min-width",c),e.setStyle(this.jax.table.chtml,"min-width",c)}}else this.setIndent(this.chtml,n,i)},e.prototype.handleInline=function(t){var e=this.adaptor,r=e.getStyle(this.chtml,"margin-right");r&&(e.setStyle(this.chtml,"margin-right",""),e.setStyle(t,"margin-right",r),e.setStyle(t,"width","0"))},e.prototype.setChildPWidths=function(e,r,n){return void 0===r&&(r=null),void 0===n&&(n=!0),!!this.parent&&t.prototype.setChildPWidths.call(this,e,r,n)},e.kind=Ei.MmlMath.prototype.kind,e.styles={"mjx-math":{"line-height":0,"text-align":"left","text-indent":0,"font-style":"normal","font-weight":"normal","font-size":"100%","font-size-adjust":"none","letter-spacing":"normal","word-wrap":"normal","word-spacing":"normal","white-space":"nowrap",direction:"ltr",padding:"1px 0"},'mjx-container[jax="CHTML"][display="true"]':{display:"block","text-align":"center",margin:"1em 0"},'mjx-container[jax="CHTML"][display="true"][width="full"]':{display:"flex"},'mjx-container[jax="CHTML"][display="true"] mjx-math':{padding:0},'mjx-container[jax="CHTML"][justify="left"]':{"text-align":"left"},'mjx-container[jax="CHTML"][justify="right"]':{"text-align":"right"}},e}(wi.CommonMathMixin(ei.CHTMLWrapper));bi.CHTMLmath=_i;var Ti={},Fi=Ti&&Ti.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Ti,"__esModule",{value:!0}),Ti.CHTMLmi=void 0;var Bi={},Li=Bi&&Bi.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Bi,"__esModule",{value:!0}),Bi.CommonMiMixin=void 0,Bi.CommonMiMixin=function(t){return function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Li(e,t),e.prototype.computeBBox=function(e,r){void 0===r&&(r=!1),t.prototype.computeBBox.call(this,e),this.copySkewIC(e)},e}(t)};var ki={},Ri=ki&&ki.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Di=ki&&ki.__assign||function(){return(Di=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(ki,"__esModule",{value:!0}),ki.MmlMi=void 0;var Pi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.texclass=Y.TEXCLASS.ORD,e}return Ri(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"mi"},enumerable:!1,configurable:!0}),e.prototype.setInheritedAttributes=function(r,n,i,o){void 0===r&&(r={}),void 0===n&&(n=!1),void 0===i&&(i=0),void 0===o&&(o=!1),t.prototype.setInheritedAttributes.call(this,r,n,i,o),this.getText().match(e.singleCharacter)&&!r.mathvariant&&this.attributes.setInherited("mathvariant","italic")},e.prototype.setTeXclass=function(t){this.getPrevClass(t);var r=this.getText();return r.length>1&&r.match(e.operatorName)&&"normal"===this.attributes.get("mathvariant")&&void 0===this.getProperty("autoOP")&&void 0===this.getProperty("texClass")&&(this.texClass=Y.TEXCLASS.OP,this.setProperty("autoOP",!0)),this},e.defaults=Di({},Y.AbstractMmlTokenNode.defaults),e.operatorName=/^[a-z][a-z0-9]*$/i,e.singleCharacter=/^[\uD800-\uDBFF]?.[\u0300-\u036F\u1AB0-\u1ABE\u1DC0-\u1DFF\u20D0-\u20EF]*$/,e}(Y.AbstractMmlTokenNode);ki.MmlMi=Pi;var Ii=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Fi(e,t),e.kind=ki.MmlMi.prototype.kind,e}(Bi.CommonMiMixin(ei.CHTMLWrapper));Ti.CHTMLmi=Ii;var Ni={},$i=Ni&&Ni.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ji=Ni&&Ni.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Ni,"__esModule",{value:!0}),Ni.CHTMLmo=void 0;var Hi,Wi={},zi=Wi&&Wi.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Vi=Wi&&Wi.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},Xi=Wi&&Wi.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t},qi=Wi&&Wi.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Wi,"__esModule",{value:!0}),Wi.CommonMoMixin=Wi.DirectionVH=void 0;pi=i("56kfJ");Wi.DirectionVH=((Hi={})[1]="v",Hi[2]="h",Hi),Wi.CommonMoMixin=function(t){return function(t){function e(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=t.apply(this,Xi([],Vi(e)))||this;return n.size=null,n.isAccent=n.node.isAccent,n}return zi(e,t),e.prototype.computeBBox=function(t,e){if(void 0===e&&(e=!1),this.protoBBox(t),this.node.attributes.get("symmetric")&&2!==this.stretch.dir){var r=this.getCenterOffset(t);t.h+=r,t.d-=r}this.node.getProperty("mathaccent")&&(0===this.stretch.dir||this.size>=0)&&(t.w=0)},e.prototype.protoBBox=function(e){var r=0!==this.stretch.dir;r&&null===this.size&&this.getStretchedVariant([0]),r&&this.size<0||(t.prototype.computeBBox.call(this,e),this.copySkewIC(e))},e.prototype.getAccentOffset=function(){var t=di.BBox.empty();return this.protoBBox(t),-t.w/2},e.prototype.getCenterOffset=function(e){return void 0===e&&(e=null),e||(e=di.BBox.empty(),t.prototype.computeBBox.call(this,e)),(e.h+e.d)/2+this.font.params.axis_height-e.h},e.prototype.getVariant=function(){this.node.attributes.get("largeop")?this.variant=this.node.attributes.get("displaystyle")?"-largeop":"-smallop":this.node.attributes.getExplicit("mathvariant")||!1!==this.node.getProperty("pseudoscript")?t.prototype.getVariant.call(this):this.variant="-tex-variant"},e.prototype.canStretch=function(t){if(0!==this.stretch.dir)return this.stretch.dir===t;if(!this.node.attributes.get("stretchy"))return!1;var e=this.getText();if(1!==Array.from(e).length)return!1;var r=this.font.getDelimiter(e.codePointAt(0));return this.stretch=r&&r.dir===t?r:pi.NOSTRETCH,0!==this.stretch.dir},e.prototype.getStretchedVariant=function(t,e){var r,n;if(void 0===e&&(e=!1),0!==this.stretch.dir){var i=this.getWH(t),o=this.getSize("minsize",0),s=this.getSize("maxsize",1/0),a=this.node.getProperty("mathaccent");i=Math.max(o,Math.min(s,i));var l=this.font.params.delimiterfactor/1e3,c=this.font.params.delimitershortfall,u=o||e?i:a?Math.min(i/l,i+c):Math.max(i*l,i-c),h=this.stretch,d=h.c||this.getText().codePointAt(0),f=0;if(h.sizes)try{for(var p=qi(h.sizes),m=p.next();!m.done;m=p.next()){if(m.value>=u)return a&&f&&f--,this.variant=this.font.getSizeVariant(d,f),this.size=f,void(h.schar&&h.schar[f]&&(this.stretch.c=h.schar[f]));f++}}catch(t){r={error:t}}finally{try{m&&!m.done&&(n=p.return)&&n.call(p)}finally{if(r)throw r.error}}h.stretch?(this.size=-1,this.invalidateBBox(),this.getStretchBBox(t,this.checkExtendedHeight(i,h),h)):(this.variant=this.font.getSizeVariant(d,f-1),this.size=f-1)}},e.prototype.getSize=function(t,e){var r=this.node.attributes;return r.isSet(t)&&(e=this.length2em(r.get(t),1,1)),e},e.prototype.getWH=function(t){if(0===t.length)return 0;if(1===t.length)return t[0];var e=Vi(t,2),r=e[0],n=e[1],i=this.font.params.axis_height;return this.node.attributes.get("symmetric")?2*Math.max(r-i,n+i):r+n},e.prototype.getStretchBBox=function(t,e,r){var n;r.hasOwnProperty("min")&&r.min>e&&(e=r.min);var i=Vi(r.HDW,3),o=i[0],s=i[1],a=i[2];1===this.stretch.dir?(o=(n=Vi(this.getBaseline(t,e,r),2))[0],s=n[1]):a=e,this.bbox.h=o,this.bbox.d=s,this.bbox.w=a},e.prototype.getBaseline=function(t,e,r){var n=2===t.length&&t[0]+t[1]===e,i=this.node.attributes.get("symmetric"),o=Vi(n?t:[e,0],2),s=o[0],a=o[1],l=Vi([s+a,0],2),c=l[0],u=l[1];if(i){var h=this.font.params.axis_height;n&&(c=2*Math.max(s-h,a+h)),u=c/2-h}else if(n)u=a;else{var d=Vi(r.HDW||[.75,.25],2),f=d[0],p=d[1];u=p*(c/(f+p))}return[c-u,u]},e.prototype.checkExtendedHeight=function(t,e){if(e.fullExt){var r=Vi(e.fullExt,2),n=r[0],i=r[1];t=i+Math.ceil(Math.max(0,t-i)/n)*n}return t},e.prototype.remapChars=function(t){var e=this.node.getProperty("primes");if(e)return V.unicodeChars(e);if(1===t.length){var r=this.node.coreParent().parent,n=this.isAccent&&!r.isKind("mrow")?"accent":"mo",i=this.font.getRemappedChar(n,t[0]);i&&(t=this.unicodeChars(i,this.variant))}return t},e}(t)};var Gi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $i(e,t),e.prototype.toCHTML=function(t){var e,r,n=this.node.attributes,i=n.get("symmetric")&&2!==this.stretch.dir,o=0!==this.stretch.dir;o&&null===this.size&&this.getStretchedVariant([]);var s=this.standardCHTMLnode(t);if(o&&this.size<0)this.stretchHTML(s);else{if(i||n.get("largeop")){var a=this.em(this.getCenterOffset());"0"!==a&&this.adaptor.setStyle(s,"verticalAlign",a)}this.node.getProperty("mathaccent")&&(this.adaptor.setStyle(s,"width","0"),this.adaptor.setStyle(s,"margin-left",this.em(this.getAccentOffset())));try{for(var l=ji(this.childNodes),c=l.next();!c.done;c=l.next()){c.value.toCHTML(s)}}catch(t){e={error:t}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}}},e.prototype.stretchHTML=function(t){var e=this.getText().codePointAt(0),r=this.stretch;r.used=!0;var n=r.stretch,i=[];n[0]&&i.push(this.html("mjx-beg",{},[this.html("mjx-c")])),i.push(this.html("mjx-ext",{},[this.html("mjx-c")])),4===n.length&&i.push(this.html("mjx-mid",{},[this.html("mjx-c")]),this.html("mjx-ext",{},[this.html("mjx-c")])),n[2]&&i.push(this.html("mjx-end",{},[this.html("mjx-c")]));var o={},s=this.bbox,a=s.h,l=s.d,c=s.w;1===r.dir?(i.push(this.html("mjx-mark")),o.height=this.em(a+l),o.verticalAlign=this.em(-l)):o.width=this.em(c);var u=Wi.DirectionVH[r.dir],h={class:this.char(r.c||e),style:o},d=this.html("mjx-stretchy-"+u,h,i);this.adaptor.append(t,d)},e.kind=Et.MmlMo.prototype.kind,e.styles={"mjx-stretchy-h":{display:"inline-table",width:"100%"},"mjx-stretchy-h > *":{display:"table-cell",width:0},"mjx-stretchy-h > * > mjx-c":{display:"inline-block",transform:"scalex(1.0000001)"},"mjx-stretchy-h > * > mjx-c::before":{display:"inline-block",width:"initial"},"mjx-stretchy-h > mjx-ext":{overflow:"hidden",width:"100%"},"mjx-stretchy-h > mjx-ext > mjx-c::before":{transform:"scalex(500)"},"mjx-stretchy-h > mjx-ext > mjx-c":{width:0},"mjx-stretchy-h > mjx-beg > mjx-c":{"margin-right":"-.1em"},"mjx-stretchy-h > mjx-end > mjx-c":{"margin-left":"-.1em"},"mjx-stretchy-v":{display:"inline-block"},"mjx-stretchy-v > *":{display:"block"},"mjx-stretchy-v > mjx-beg":{height:0},"mjx-stretchy-v > mjx-end > mjx-c":{display:"block"},"mjx-stretchy-v > * > mjx-c":{transform:"scaley(1.0000001)","transform-origin":"left center",overflow:"hidden"},"mjx-stretchy-v > mjx-ext":{display:"block",height:"100%","box-sizing":"border-box",border:"0px solid transparent",overflow:"hidden"},"mjx-stretchy-v > mjx-ext > mjx-c::before":{width:"initial","box-sizing":"border-box"},"mjx-stretchy-v > mjx-ext > mjx-c":{transform:"scaleY(500) translateY(.075em)",overflow:"visible"},"mjx-mark":{display:"inline-block",height:"0px"}},e}(Wi.CommonMoMixin(ei.CHTMLWrapper));Ni.CHTMLmo=Gi;var Ui={},Ki=Ui&&Ui.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Ui,"__esModule",{value:!0}),Ui.CHTMLmn=void 0;var Ji={},Qi=Ji&&Ji.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Ji,"__esModule",{value:!0}),Ji.CommonMnMixin=void 0,Ji.CommonMnMixin=function(t){return function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qi(e,t),e.prototype.remapChars=function(t){if(t.length){var e=this.font.getRemappedChar("mn",t[0]);if(e){var r=this.unicodeChars(e,this.variant);1===r.length?t[0]=r[0]:t=r.concat(t.slice(1))}}return t},e}(t)};var Yi={},Zi=Yi&&Yi.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),to=Yi&&Yi.__assign||function(){return(to=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.MmlMn=void 0;var eo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.texclass=Y.TEXCLASS.ORD,e}return Zi(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"mn"},enumerable:!1,configurable:!0}),e.defaults=to({},Y.AbstractMmlTokenNode.defaults),e}(Y.AbstractMmlTokenNode);Yi.MmlMn=eo;var ro=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ki(e,t),e.kind=Yi.MmlMn.prototype.kind,e}(Ji.CommonMnMixin(ei.CHTMLWrapper));Ui.CHTMLmn=ro;var no={},io=no&&no.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(no,"__esModule",{value:!0}),no.CHTMLms=void 0;var oo={},so=oo&&oo.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ao=oo&&oo.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},lo=oo&&oo.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(oo,"__esModule",{value:!0}),oo.CommonMsMixin=void 0,oo.CommonMsMixin=function(t){return function(t){function e(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=t.apply(this,lo([],ao(e)))||this,i=n.node.attributes,o=i.getList("lquote","rquote");return"monospace"!==n.variant&&(i.isSet("lquote")||'"'!==o.lquote||(o.lquote="“"),i.isSet("rquote")||'"'!==o.rquote||(o.rquote="”")),n.childNodes.unshift(n.createText(o.lquote)),n.childNodes.push(n.createText(o.rquote)),n}return so(e,t),e.prototype.createText=function(t){var e=this.wrap(this.mmlText(t));return e.parent=this,e},e}(t)};var co={},uo=co&&co.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ho=co&&co.__assign||function(){return(ho=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(co,"__esModule",{value:!0}),co.MmlMs=void 0;var fo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.texclass=Y.TEXCLASS.ORD,e}return uo(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"ms"},enumerable:!1,configurable:!0}),e.defaults=ho(ho({},Y.AbstractMmlTokenNode.defaults),{lquote:'"',rquote:'"'}),e}(Y.AbstractMmlTokenNode);co.MmlMs=fo;var po=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return io(e,t),e.kind=co.MmlMs.prototype.kind,e}(oo.CommonMsMixin(ei.CHTMLWrapper));no.CHTMLms=po;var mo={},go=mo&&mo.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(mo,"__esModule",{value:!0}),mo.CHTMLmtext=void 0;var yo={},vo=yo&&yo.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(yo,"__esModule",{value:!0}),yo.CommonMtextMixin=void 0,yo.CommonMtextMixin=function(t){var e;return(e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return vo(e,t),e.prototype.getVariant=function(){var e=this.jax.options,r=this.jax.math.outputData,n=(!!r.merrorFamily||!!e.merrorFont)&&this.node.Parent.isKind("merror");if(r.mtextFamily||e.mtextFont||n){var i=this.node.attributes.get("mathvariant"),o=this.constructor.INHERITFONTS[i]||this.jax.font.getCssFont(i),s=o[0]||(n?r.merrorFamily||e.merrorFont:r.mtextFamily||e.mtextFont);this.variant=this.explicitVariant(s,o[2]?"bold":"",o[1]?"italic":"")}else t.prototype.getVariant.call(this)},e}(t)).INHERITFONTS={normal:["",!1,!1],bold:["",!1,!0],italic:["",!0,!1],"bold-italic":["",!0,!0]},e};var bo={},Ao=bo&&bo.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Co=bo&&bo.__assign||function(){return(Co=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(bo,"__esModule",{value:!0}),bo.MmlMtext=void 0;var wo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.texclass=Y.TEXCLASS.ORD,e}return Ao(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"mtext"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSpacelike",{get:function(){return!0},enumerable:!1,configurable:!0}),e.defaults=Co({},Y.AbstractMmlTokenNode.defaults),e}(Y.AbstractMmlTokenNode);bo.MmlMtext=wo;var xo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return go(e,t),e.kind=bo.MmlMtext.prototype.kind,e}(yo.CommonMtextMixin(ei.CHTMLWrapper));mo.CHTMLmtext=xo;var Eo={},So=Eo&&Eo.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Eo,"__esModule",{value:!0}),Eo.CHTMLmspace=void 0;var Mo={},Oo=Mo&&Mo.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Mo,"__esModule",{value:!0}),Mo.CommonMspaceMixin=void 0,Mo.CommonMspaceMixin=function(t){return function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Oo(e,t),e.prototype.computeBBox=function(t,e){void 0===e&&(e=!1);var r=this.node.attributes;t.w=this.length2em(r.get("width"),0),t.h=this.length2em(r.get("height"),0),t.d=this.length2em(r.get("depth"),0)},e.prototype.handleVariant=function(){},e}(t)};var _o={},To=_o&&_o.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Fo=_o&&_o.__assign||function(){return(Fo=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(_o,"__esModule",{value:!0}),_o.MmlMspace=void 0;var Bo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.texclass=Y.TEXCLASS.NONE,e}return To(e,t),e.prototype.setTeXclass=function(t){return t},Object.defineProperty(e.prototype,"kind",{get:function(){return"mspace"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSpacelike",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasNewline",{get:function(){var t=this.attributes;return null==t.getExplicit("width")&&null==t.getExplicit("height")&&null==t.getExplicit("depth")&&"newline"===t.get("linebreak")},enumerable:!1,configurable:!0}),e.defaults=Fo(Fo({},Y.AbstractMmlTokenNode.defaults),{width:"0em",height:"0ex",depth:"0ex",linebreak:"auto"}),e}(Y.AbstractMmlTokenNode);_o.MmlMspace=Bo;var Lo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return So(e,t),e.prototype.toCHTML=function(t){var e=this.standardCHTMLnode(t),r=this.getBBox(),n=r.w,i=r.h,o=r.d;n<0&&(this.adaptor.setStyle(e,"marginRight",this.em(n)),n=0),n&&this.adaptor.setStyle(e,"width",this.em(n)),(i=Math.max(0,i+o))&&this.adaptor.setStyle(e,"height",this.em(Math.max(0,i))),o&&this.adaptor.setStyle(e,"verticalAlign",this.em(-o))},e.kind=_o.MmlMspace.prototype.kind,e}(Mo.CommonMspaceMixin(ei.CHTMLWrapper));Eo.CHTMLmspace=Lo;var ko={},Ro=ko&&ko.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Do=ko&&ko.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},Po=ko&&ko.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ko,"__esModule",{value:!0}),ko.CHTMLmpadded=void 0;var Io={},No=Io&&Io.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),$o=Io&&Io.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s};Object.defineProperty(Io,"__esModule",{value:!0}),Io.CommonMpaddedMixin=void 0,Io.CommonMpaddedMixin=function(t){return function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return No(e,t),e.prototype.getDimens=function(){var t=this.node.attributes.getList("width","height","depth","lspace","voffset"),e=this.childNodes[0].getBBox(),r=e.w,n=e.h,i=e.d,o=r,s=n,a=i,l=0,c=0,u=0;""!==t.width&&(r=this.dimen(t.width,e,"w",0)),""!==t.height&&(n=this.dimen(t.height,e,"h",0)),""!==t.depth&&(i=this.dimen(t.depth,e,"d",0)),""!==t.voffset&&(c=this.dimen(t.voffset,e)),""!==t.lspace&&(l=this.dimen(t.lspace,e));var h=this.node.attributes.get("data-align");return h&&(u=this.getAlignX(r,e,h)),[s,a,o,n-s,i-a,r-o,l,c,u]},e.prototype.dimen=function(t,e,r,n){void 0===r&&(r=""),void 0===n&&(n=null);var i=(t=String(t)).match(/width|height|depth/),o=i?e[i[0].charAt(0)]:r?e[r]:0,s=this.length2em(t,o)||0;return t.match(/^[-+]/)&&r&&(s+=o),null!=n&&(s=Math.max(n,s)),s},e.prototype.computeBBox=function(t,e){void 0===e&&(e=!1);var r=$o(this.getDimens(),6),n=r[0],i=r[1],o=r[2],s=r[3],a=r[4],l=r[5];t.w=o+l,t.h=n+s,t.d=i+a,this.setChildPWidths(e,t.w)},e.prototype.getWrapWidth=function(t){return this.getBBox().w},e.prototype.getChildAlign=function(t){return this.node.attributes.get("data-align")||"left"},e}(t)};var jo={},Ho=jo&&jo.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Wo=jo&&jo.__assign||function(){return(Wo=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(jo,"__esModule",{value:!0}),jo.MmlMpadded=void 0;var zo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ho(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"mpadded"},enumerable:!1,configurable:!0}),e.defaults=Wo(Wo({},Y.AbstractMmlLayoutNode.defaults),{width:"",height:"",depth:"",lspace:0,voffset:0}),e}(Y.AbstractMmlLayoutNode);jo.MmlMpadded=zo;var Vo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ro(e,t),e.prototype.toCHTML=function(t){var e,r,n=this.standardCHTMLnode(t),i=[],o={},s=Do(this.getDimens(),9),a=s[2],l=s[3],c=s[4],u=s[5],h=s[6],d=s[7],f=s[8];if(u&&(o.width=this.em(a+u)),(l||c)&&(o.margin=this.em(l)+" 0 "+this.em(c)),h+f||d){o.position="relative";var p=this.html("mjx-rbox",{style:{left:this.em(h+f),top:this.em(-d)}});h+f&&this.childNodes[0].getBBox().pwidth&&(this.adaptor.setAttribute(p,"width","full"),this.adaptor.setStyle(p,"left",this.em(h))),i.push(p)}n=this.adaptor.append(n,this.html("mjx-block",{style:o},i));try{for(var m=Po(this.childNodes),g=m.next();!g.done;g=m.next()){g.value.toCHTML(i[0]||n)}}catch(t){e={error:t}}finally{try{g&&!g.done&&(r=m.return)&&r.call(m)}finally{if(e)throw e.error}}},e.kind=jo.MmlMpadded.prototype.kind,e.styles={"mjx-mpadded":{display:"inline-block"},"mjx-rbox":{display:"inline-block",position:"relative"}},e}(Io.CommonMpaddedMixin(ei.CHTMLWrapper));ko.CHTMLmpadded=Vo;var Xo={},qo=Xo&&Xo.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Go=Xo&&Xo.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Uo=Xo&&Xo.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s};Object.defineProperty(Xo,"__esModule",{value:!0}),Xo.CHTMLmenclose=void 0;var Ko={},Jo=Ko&&Ko.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qo=Ko&&Ko.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},Yo=Ko&&Ko.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t},Zo=Ko&&Ko.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Ko,"__esModule",{value:!0}),Ko.CommonMencloseMixin=void 0,i.register("2yJVe",(function(t,e){"use strict";var r=t.exports&&t.exports.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s};Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.CommonArrow=t.exports.CommonDiagonalArrow=t.exports.CommonDiagonalStrike=t.exports.CommonBorder2=t.exports.CommonBorder=t.exports.arrowBBox=t.exports.diagonalArrowDef=t.exports.arrowDef=t.exports.arrowBBoxW=t.exports.arrowBBoxHD=t.exports.arrowHead=t.exports.fullBorder=t.exports.fullPadding=t.exports.fullBBox=t.exports.sideNames=t.exports.sideIndex=t.exports.SOLID=t.exports.PADDING=t.exports.THICKNESS=t.exports.ARROWY=t.exports.ARROWDX=t.exports.ARROWX=void 0,t.exports.ARROWX=4,t.exports.ARROWDX=1,t.exports.ARROWY=2,t.exports.THICKNESS=.067,t.exports.PADDING=.2,t.exports.SOLID=t.exports.THICKNESS+"em solid",t.exports.sideIndex={top:0,right:1,bottom:2,left:3},t.exports.sideNames=Object.keys(t.exports.sideIndex),t.exports.fullBBox=function(t){return new Array(4).fill(t.thickness+t.padding)},t.exports.fullPadding=function(t){return new Array(4).fill(t.padding)},t.exports.fullBorder=function(t){return new Array(4).fill(t.thickness)};t.exports.arrowHead=function(t){return Math.max(t.padding,t.thickness*(t.arrowhead.x+t.arrowhead.dx+1))};t.exports.arrowBBoxHD=function(t,e){if(t.childNodes[0]){var r=t.childNodes[0].getBBox(),n=r.h,i=r.d;e[0]=e[2]=Math.max(0,t.thickness*t.arrowhead.y-(n+i)/2)}return e};t.exports.arrowBBoxW=function(t,e){if(t.childNodes[0]){var r=t.childNodes[0].getBBox().w;e[1]=e[3]=Math.max(0,t.thickness*t.arrowhead.y-r/2)}return e},t.exports.arrowDef={up:[-Math.PI/2,!1,!0,"verticalstrike"],down:[Math.PI/2,!1,!0,"verticakstrike"],right:[0,!1,!1,"horizontalstrike"],left:[Math.PI,!1,!1,"horizontalstrike"],updown:[Math.PI/2,!0,!0,"verticalstrike uparrow downarrow"],leftright:[0,!0,!1,"horizontalstrike leftarrow rightarrow"]},t.exports.diagonalArrowDef={updiagonal:[-1,0,!1,"updiagonalstrike northeastarrow"],northeast:[-1,0,!1,"updiagonalstrike updiagonalarrow"],southeast:[1,0,!1,"downdiagonalstrike"],northwest:[1,Math.PI,!1,"downdiagonalstrike"],southwest:[-1,Math.PI,!1,"updiagonalstrike"],northeastsouthwest:[-1,0,!0,"updiagonalstrike northeastarrow updiagonalarrow southwestarrow"],northwestsoutheast:[1,0,!0,"downdiagonalstrike northwestarrow southeastarrow"]},t.exports.arrowBBox={up:function(e){return t.exports.arrowBBoxW(e,[t.exports.arrowHead(e),0,e.padding,0])},down:function(e){return t.exports.arrowBBoxW(e,[e.padding,0,t.exports.arrowHead(e),0])},right:function(e){return t.exports.arrowBBoxHD(e,[0,t.exports.arrowHead(e),0,e.padding])},left:function(e){return t.exports.arrowBBoxHD(e,[0,e.padding,0,t.exports.arrowHead(e)])},updown:function(e){return t.exports.arrowBBoxW(e,[t.exports.arrowHead(e),0,t.exports.arrowHead(e),0])},leftright:function(e){return t.exports.arrowBBoxHD(e,[0,t.exports.arrowHead(e),0,t.exports.arrowHead(e)])}};t.exports.CommonBorder=function(e){return function(r){var n=t.exports.sideIndex[r];return[r,{renderer:e,bbox:function(t){var e=[0,0,0,0];return e[n]=t.thickness+t.padding,e},border:function(t){var e=[0,0,0,0];return e[n]=t.thickness,e}}]}};t.exports.CommonBorder2=function(e){return function(r,n,i){var o=t.exports.sideIndex[n],s=t.exports.sideIndex[i];return[r,{renderer:e,bbox:function(t){var e=t.thickness+t.padding,r=[0,0,0,0];return r[o]=r[s]=e,r},border:function(t){var e=[0,0,0,0];return e[o]=e[s]=t.thickness,e},remove:n+" "+i}]}};t.exports.CommonDiagonalStrike=function(e){return function(r){var n="mjx-"+r.charAt(0)+"strike";return[r+"diagonalstrike",{renderer:e(n),bbox:t.exports.fullBBox}]}};t.exports.CommonDiagonalArrow=function(e){return function(n){var i=r(t.exports.diagonalArrowDef[n],4),o=i[0],s=i[1],a=i[2];return[n+"arrow",{renderer:function(t,n){var i=r(t.arrowAW(),2),l=i[0],c=i[1],u=t.arrow(c,o*(l-s),a);e(t,u)},bbox:function(t){var e=t.arrowData(),n=e.a,i=e.x,o=e.y,s=r([t.arrowhead.x,t.arrowhead.y,t.arrowhead.dx],3),a=s[0],l=s[1],c=s[2],u=r(t.getArgMod(a+c,l),2),h=u[0],d=u[1],f=o+(h>n?t.thickness*d*Math.sin(h-n):0),p=i+(h>Math.PI/2-n?t.thickness*d*Math.sin(h+n-Math.PI/2):0);return[f,p,f,p]},remove:i[3]}]}};t.exports.CommonArrow=function(e){return function(n){var i=r(t.exports.arrowDef[n],4),o=i[0],s=i[1],a=i[2],l=i[3];return[n+"arrow",{renderer:function(t,n){var i=t.getBBox(),l=i.w,c=i.h,u=i.d,h=r(a?[c+u,"X"]:[l,"Y"],2),d=h[0],f=h[1],p=t.getOffset(f),m=t.arrow(d,o,s,f,p);e(t,m)},bbox:t.exports.arrowBBox[n],remove:l}]}}}));var ts=i("2yJVe");Ko.CommonMencloseMixin=function(t){return function(t){function e(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=t.apply(this,Yo([],Qo(e)))||this;return n.notations={},n.renderChild=null,n.msqrt=null,n.padding=ts.PADDING,n.thickness=ts.THICKNESS,n.arrowhead={x:ts.ARROWX,y:ts.ARROWY,dx:ts.ARROWDX},n.TRBL=[0,0,0,0],n.getParameters(),n.getNotations(),n.removeRedundantNotations(),n.initializeNotations(),n.TRBL=n.getBBoxExtenders(),n}return Jo(e,t),e.prototype.getParameters=function(){var t=this.node.attributes,e=t.get("data-padding");void 0!==e&&(this.padding=this.length2em(e,ts.PADDING));var r=t.get("data-thickness");void 0!==r&&(this.thickness=this.length2em(r,ts.THICKNESS));var n=t.get("data-arrowhead");if(void 0!==n){var i=Qo(V.split(n),3),o=i[0],s=i[1],a=i[2];this.arrowhead={x:o?parseFloat(o):ts.ARROWX,y:s?parseFloat(s):ts.ARROWY,dx:a?parseFloat(a):ts.ARROWDX}}},e.prototype.getNotations=function(){var t,e,r=this.constructor.notations;try{for(var n=Zo(V.split(this.node.attributes.get("notation"))),i=n.next();!i.done;i=n.next()){var o=i.value,s=r.get(o);s&&(this.notations[o]=s,s.renderChild&&(this.renderChild=s.renderer))}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},e.prototype.removeRedundantNotations=function(){var t,e,r,n;try{for(var i=Zo(Object.keys(this.notations)),o=i.next();!o.done;o=i.next()){var s=o.value;if(this.notations[s]){var a=this.notations[s].remove||"";try{for(var l=(r=void 0,Zo(a.split(/ /))),c=l.next();!c.done;c=l.next()){var u=c.value;delete this.notations[u]}}catch(t){r={error:t}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},e.prototype.initializeNotations=function(){var t,e;try{for(var r=Zo(Object.keys(this.notations)),n=r.next();!n.done;n=r.next()){var i=n.value,o=this.notations[i].init;o&&o(this)}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},e.prototype.computeBBox=function(t,e){void 0===e&&(e=!1);var r=Qo(this.TRBL,4),n=r[0],i=r[1],o=r[2],s=r[3],a=this.childNodes[0].getBBox();t.combine(a,s,0),t.h+=n,t.d+=o,t.w+=i,this.setChildPWidths(e)},e.prototype.getBBoxExtenders=function(){var t,e,r=[0,0,0,0];try{for(var n=Zo(Object.keys(this.notations)),i=n.next();!i.done;i=n.next()){var o=i.value;this.maximizeEntries(r,this.notations[o].bbox(this))}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return r},e.prototype.getPadding=function(){var t,e,r=this,n=[0,0,0,0];try{for(var i=Zo(Object.keys(this.notations)),o=i.next();!o.done;o=i.next()){var s=o.value,a=this.notations[s].border;a&&this.maximizeEntries(n,a(this))}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return[0,1,2,3].map((function(t){return r.TRBL[t]-n[t]}))},e.prototype.maximizeEntries=function(t,e){for(var r=0;r<t.length;r++)t[r]<e[r]&&(t[r]=e[r])},e.prototype.getOffset=function(t){var e=Qo(this.TRBL,4),r=e[0],n=e[1],i=e[2],o=e[3],s=("X"===t?n-o:i-r)/2;return Math.abs(s)>.001?s:0},e.prototype.getArgMod=function(t,e){return[Math.atan2(e,t),Math.sqrt(t*t+e*e)]},e.prototype.arrow=function(t,e,r,n,i){return void 0===n&&(n=""),void 0===i&&(i=0),null},e.prototype.arrowData=function(){var t=Qo([this.padding,this.thickness],2),e=t[0],r=t[1]*(this.arrowhead.x+Math.max(1,this.arrowhead.dx)),n=this.childNodes[0].getBBox(),i=n.h,o=n.d,s=n.w,a=i+o,l=Math.sqrt(a*a+s*s),c=Math.max(e,r*s/l),u=Math.max(e,r*a/l),h=Qo(this.getArgMod(s+2*c,a+2*u),2);return{a:h[0],W:h[1],x:c,y:u}},e.prototype.arrowAW=function(){var t=this.childNodes[0].getBBox(),e=t.h,r=t.d,n=t.w,i=Qo(this.TRBL,4),o=i[0],s=i[1],a=i[2],l=i[3];return this.getArgMod(l+n+s,o+e+r+a)},e.prototype.createMsqrt=function(t){var e=this.node.factory.create("msqrt");e.inheritAttributesFrom(this.node),e.childNodes[0]=t.node;var r=this.wrap(e);return r.parent=this,r},e.prototype.sqrtTRBL=function(){var t=this.msqrt.getBBox(),e=this.msqrt.childNodes[0].getBBox();return[t.h-e.h,0,t.d-e.d,t.w-e.w]},e}(t)};var es={},rs=es&&es.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),ns=es&&es.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||rs(e,t,r)},is=es&&es.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s};Object.defineProperty(es,"__esModule",{value:!0}),es.Arrow=es.DiagonalArrow=es.DiagonalStrike=es.Border2=es.Border=es.RenderElement=void 0,ns(i("2yJVe"),es);es.RenderElement=function(t,e){return void 0===e&&(e=""),function(r,n){var o=r.adjustBorder(r.html("mjx-"+t));if(e){var s=r.getOffset(e);if(r.thickness!==i("2yJVe").THICKNESS||s){var a="translate"+e+"("+r.em(r.thickness/2-s)+")";r.adaptor.setStyle(o,"transform",a)}}r.adaptor.append(r.chtml,o)}};es.Border=function(t){return i("2yJVe").CommonBorder((function(e,r){e.adaptor.setStyle(r,"border-"+t,e.em(e.thickness)+" solid")}))(t)};es.Border2=function(t,e,r){return i("2yJVe").CommonBorder2((function(t,n){var i=t.em(t.thickness)+" solid";t.adaptor.setStyle(n,"border-"+e,i),t.adaptor.setStyle(n,"border-"+r,i)}))(t,e,r)};es.DiagonalStrike=function(t,e){return i("2yJVe").CommonDiagonalStrike((function(t){return function(r,n){var i=r.getBBox(),o=i.w,s=i.h,a=i.d,l=is(r.getArgMod(o,s+a),2),c=l[0],u=l[1],h=e*r.thickness/2,d=r.adjustBorder(r.html(t,{style:{width:r.em(u),transform:"rotate("+r.fixed(-e*c)+"rad) translateY("+h+"em)"}}));r.adaptor.append(r.chtml,d)}}))(t)};es.DiagonalArrow=function(t){return i("2yJVe").CommonDiagonalArrow((function(t,e){t.adaptor.append(t.chtml,e)}))(t)};es.Arrow=function(t){return i("2yJVe").CommonArrow((function(t,e){t.adaptor.append(t.chtml,e)}))(t)};var os={},ss=os&&os.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),as=os&&os.__assign||function(){return(as=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(os,"__esModule",{value:!0}),os.MmlMenclose=void 0;var ls=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.texclass=Y.TEXCLASS.ORD,e}return ss(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"menclose"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"linebreakContininer",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.setTeXclass=function(t){return t=this.childNodes[0].setTeXclass(t),this.updateTeXclass(this.childNodes[0]),t},e.defaults=as(as({},Y.AbstractMmlNode.defaults),{notation:"longdiv"}),e}(Y.AbstractMmlNode);function cs(t,e){return Math.atan2(t,e).toFixed(3).replace(/\.?0+$/,"")}os.MmlMenclose=ls;var us=cs(es.ARROWDX,es.ARROWY),hs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return qo(e,t),e.prototype.toCHTML=function(t){var e,r,n,i,o=this.adaptor,s=this.standardCHTMLnode(t),a=o.append(s,this.html("mjx-box"));this.renderChild?this.renderChild(this,a):this.childNodes[0].toCHTML(a);try{for(var l=Go(Object.keys(this.notations)),c=l.next();!c.done;c=l.next()){var u=c.value,h=this.notations[u];!h.renderChild&&h.renderer(this,a)}}catch(t){e={error:t}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}var d=this.getPadding();try{for(var f=Go(es.sideNames),p=f.next();!p.done;p=f.next()){var m=p.value,g=es.sideIndex[m];d[g]>0&&o.setStyle(a,"padding-"+m,this.em(d[g]))}}catch(t){n={error:t}}finally{try{p&&!p.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}},e.prototype.arrow=function(t,e,r,n,i){void 0===n&&(n=""),void 0===i&&(i=0);var o=this.getBBox().w,s={width:this.em(t)};o!==t&&(s.left=this.em((o-t)/2)),e&&(s.transform="rotate("+this.fixed(e)+"rad)");var a=this.html("mjx-arrow",{style:s},[this.html("mjx-aline"),this.html("mjx-rthead"),this.html("mjx-rbhead")]);return r&&(this.adaptor.append(a,this.html("mjx-lthead")),this.adaptor.append(a,this.html("mjx-lbhead")),this.adaptor.setAttribute(a,"double","true")),this.adjustArrow(a,r),this.moveArrow(a,n,i),a},e.prototype.adjustArrow=function(t,e){var r=this,n=this.thickness,i=this.arrowhead;if(i.x!==es.ARROWX||i.y!==es.ARROWY||i.dx!==es.ARROWDX||n!==es.THICKNESS){var o=Uo([n*i.x,n*i.y].map((function(t){return r.em(t)})),2),s=o[0],a=o[1],l=cs(i.dx,i.y),c=Uo(this.adaptor.childNodes(t),5),u=c[0],h=c[1],d=c[2],f=c[3],p=c[4];this.adjustHead(h,[a,"0","1px",s],l),this.adjustHead(d,["1px","0",a,s],"-"+l),this.adjustHead(f,[a,s,"1px","0"],"-"+l),this.adjustHead(p,["1px",s,a,"0"],l),this.adjustLine(u,n,i.x,e)}},e.prototype.adjustHead=function(t,e,r){t&&(this.adaptor.setStyle(t,"border-width",e.join(" ")),this.adaptor.setStyle(t,"transform","skewX("+r+"rad)"))},e.prototype.adjustLine=function(t,e,r,n){this.adaptor.setStyle(t,"borderTop",this.em(e)+" solid"),this.adaptor.setStyle(t,"top",this.em(-e/2)),this.adaptor.setStyle(t,"right",this.em(e*(r-1))),n&&this.adaptor.setStyle(t,"left",this.em(e*(r-1)))},e.prototype.moveArrow=function(t,e,r){if(r){var n=this.adaptor.getStyle(t,"transform");this.adaptor.setStyle(t,"transform","translate"+e+"("+this.em(-r)+")"+(n?" "+n:""))}},e.prototype.adjustBorder=function(t){return this.thickness!==es.THICKNESS&&this.adaptor.setStyle(t,"borderWidth",this.em(this.thickness)),t},e.prototype.adjustThickness=function(t){return this.thickness!==es.THICKNESS&&this.adaptor.setStyle(t,"strokeWidth",this.fixed(this.thickness)),t},e.prototype.fixed=function(t,e){return void 0===e&&(e=3),Math.abs(t)<6e-4?"0":t.toFixed(e).replace(/\.?0+$/,"")},e.prototype.em=function(e){return t.prototype.em.call(this,e)},e.kind=os.MmlMenclose.prototype.kind,e.styles={"mjx-menclose":{position:"relative"},"mjx-menclose > mjx-dstrike":{display:"inline-block",left:0,top:0,position:"absolute","border-top":es.SOLID,"transform-origin":"top left"},"mjx-menclose > mjx-ustrike":{display:"inline-block",left:0,bottom:0,position:"absolute","border-top":es.SOLID,"transform-origin":"bottom left"},"mjx-menclose > mjx-hstrike":{"border-top":es.SOLID,position:"absolute",left:0,right:0,bottom:"50%",transform:"translateY("+Kr.em(es.THICKNESS/2)+")"},"mjx-menclose > mjx-vstrike":{"border-left":es.SOLID,position:"absolute",top:0,bottom:0,right:"50%",transform:"translateX("+Kr.em(es.THICKNESS/2)+")"},"mjx-menclose > mjx-rbox":{position:"absolute",top:0,bottom:0,right:0,left:0,border:es.SOLID,"border-radius":Kr.em(es.THICKNESS+es.PADDING)},"mjx-menclose > mjx-cbox":{position:"absolute",top:0,bottom:0,right:0,left:0,border:es.SOLID,"border-radius":"50%"},"mjx-menclose > mjx-arrow":{position:"absolute",left:0,bottom:"50%",height:0,width:0},"mjx-menclose > mjx-arrow > *":{display:"block",position:"absolute","transform-origin":"bottom","border-left":Kr.em(es.THICKNESS*es.ARROWX)+" solid","border-right":0,"box-sizing":"border-box"},"mjx-menclose > mjx-arrow > mjx-aline":{left:0,top:Kr.em(-es.THICKNESS/2),right:Kr.em(es.THICKNESS*(es.ARROWX-1)),height:0,"border-top":Kr.em(es.THICKNESS)+" solid","border-left":0},"mjx-menclose > mjx-arrow[double] > mjx-aline":{left:Kr.em(es.THICKNESS*(es.ARROWX-1)),height:0},"mjx-menclose > mjx-arrow > mjx-rthead":{transform:"skewX("+us+"rad)",right:0,bottom:"-1px","border-bottom":"1px solid transparent","border-top":Kr.em(es.THICKNESS*es.ARROWY)+" solid transparent"},"mjx-menclose > mjx-arrow > mjx-rbhead":{transform:"skewX(-"+us+"rad)","transform-origin":"top",right:0,top:"-1px","border-top":"1px solid transparent","border-bottom":Kr.em(es.THICKNESS*es.ARROWY)+" solid transparent"},"mjx-menclose > mjx-arrow > mjx-lthead":{transform:"skewX(-"+us+"rad)",left:0,bottom:"-1px","border-left":0,"border-right":Kr.em(es.THICKNESS*es.ARROWX)+" solid","border-bottom":"1px solid transparent","border-top":Kr.em(es.THICKNESS*es.ARROWY)+" solid transparent"},"mjx-menclose > mjx-arrow > mjx-lbhead":{transform:"skewX("+us+"rad)","transform-origin":"top",left:0,top:"-1px","border-left":0,"border-right":Kr.em(es.THICKNESS*es.ARROWX)+" solid","border-top":"1px solid transparent","border-bottom":Kr.em(es.THICKNESS*es.ARROWY)+" solid transparent"},"mjx-menclose > dbox":{position:"absolute",top:0,bottom:0,left:Kr.em(-1.5*es.PADDING),width:Kr.em(3*es.PADDING),border:Kr.em(es.THICKNESS)+" solid","border-radius":"50%","clip-path":"inset(0 0 0 "+Kr.em(1.5*es.PADDING)+")","box-sizing":"border-box"}},e.notations=new Map([es.Border("top"),es.Border("right"),es.Border("bottom"),es.Border("left"),es.Border2("actuarial","top","right"),es.Border2("madruwb","bottom","right"),es.DiagonalStrike("up",1),es.DiagonalStrike("down",-1),["horizontalstrike",{renderer:es.RenderElement("hstrike","Y"),bbox:function(t){return[0,t.padding,0,t.padding]}}],["verticalstrike",{renderer:es.RenderElement("vstrike","X"),bbox:function(t){return[t.padding,0,t.padding,0]}}],["box",{renderer:function(t,e){t.adaptor.setStyle(e,"border",t.em(t.thickness)+" solid")},bbox:es.fullBBox,border:es.fullBorder,remove:"left right top bottom"}],["roundedbox",{renderer:es.RenderElement("rbox"),bbox:es.fullBBox}],["circle",{renderer:es.RenderElement("cbox"),bbox:es.fullBBox}],["phasorangle",{renderer:function(t,e){var r=t.getBBox(),n=r.h,i=r.d,o=Uo(t.getArgMod(1.75*t.padding,n+i),2),s=o[0],a=o[1],l=t.thickness*Math.sin(s)*.9;t.adaptor.setStyle(e,"border-bottom",t.em(t.thickness)+" solid");var c=t.adjustBorder(t.html("mjx-ustrike",{style:{width:t.em(a),transform:"translateX("+t.em(l)+") rotate("+t.fixed(-s)+"rad)"}}));t.adaptor.append(t.chtml,c)},bbox:function(t){var e=t.padding/2,r=t.thickness;return[2*e,e,e+r,3*e+r]},border:function(t){return[0,0,t.thickness,0]},remove:"bottom"}],es.Arrow("up"),es.Arrow("down"),es.Arrow("left"),es.Arrow("right"),es.Arrow("updown"),es.Arrow("leftright"),es.DiagonalArrow("updiagonal"),es.DiagonalArrow("northeast"),es.DiagonalArrow("southeast"),es.DiagonalArrow("northwest"),es.DiagonalArrow("southwest"),es.DiagonalArrow("northeastsouthwest"),es.DiagonalArrow("northwestsoutheast"),["longdiv",{renderer:function(t,e){var r=t.adaptor;r.setStyle(e,"border-top",t.em(t.thickness)+" solid");var n=r.append(t.chtml,t.html("dbox")),i=t.thickness,o=t.padding;i!==es.THICKNESS&&r.setStyle(n,"border-width",t.em(i)),o!==es.PADDING&&(r.setStyle(n,"left",t.em(-1.5*o)),r.setStyle(n,"width",t.em(3*o)),r.setStyle(n,"clip-path","inset(0 0 0 "+t.em(1.5*o)+")"))},bbox:function(t){var e=t.padding,r=t.thickness;return[e+r,e,e,2*e+r/2]}}],["radical",{renderer:function(t,e){t.msqrt.toCHTML(e);var r=t.sqrtTRBL();t.adaptor.setStyle(t.msqrt.chtml,"margin",r.map((function(e){return t.em(-e)})).join(" "))},init:function(t){t.msqrt=t.createMsqrt(t.childNodes[0])},bbox:function(t){return t.sqrtTRBL()},renderChild:!0}]]),e}(Ko.CommonMencloseMixin(ei.CHTMLWrapper));Xo.CHTMLmenclose=hs;var ds={},fs=ds&&ds.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ps=ds&&ds.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ds,"__esModule",{value:!0}),ds.CHTMLinferredMrow=ds.CHTMLmrow=void 0;var ms={},gs=ms&&ms.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ys=ms&&ms.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},vs=ms&&ms.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t},bs=ms&&ms.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ms,"__esModule",{value:!0}),ms.CommonInferredMrowMixin=ms.CommonMrowMixin=void 0,ms.CommonMrowMixin=function(t){return function(t){function e(){for(var e,r,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=t.apply(this,vs([],ys(n)))||this;o.stretchChildren();try{for(var s=bs(o.childNodes),a=s.next();!a.done;a=s.next()){var l=a.value;if(l.bbox.pwidth){o.bbox.pwidth=di.BBox.fullWidth;break}}}catch(t){e={error:t}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return o}return gs(e,t),Object.defineProperty(e.prototype,"fixesPWidth",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.stretchChildren=function(){var t,e,r,n,i,o,s=[];try{for(var a=bs(this.childNodes),l=a.next();!l.done;l=a.next()){(x=l.value).canStretch(1)&&s.push(x)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}var c=s.length,u=this.childNodes.length;if(c&&u>1){var h=0,d=0,f=c>1&&c===u;try{for(var p=bs(this.childNodes),m=p.next();!m.done;m=p.next()){var g=0===(x=m.value).stretch.dir;if(f||g){var y=x.getBBox(g),v=y.h,b=y.d,A=y.rscale;(v*=A)>h&&(h=v),(b*=A)>d&&(d=b)}}}catch(t){r={error:t}}finally{try{m&&!m.done&&(n=p.return)&&n.call(p)}finally{if(r)throw r.error}}try{for(var C=bs(s),w=C.next();!w.done;w=C.next()){var x;(x=w.value).coreMO().getStretchedVariant([h,d])}}catch(t){i={error:t}}finally{try{w&&!w.done&&(o=C.return)&&o.call(C)}finally{if(i)throw i.error}}}},e}(t)},ms.CommonInferredMrowMixin=function(t){return function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return gs(e,t),e.prototype.getScale=function(){this.bbox.scale=this.parent.bbox.scale,this.bbox.rscale=1},e}(t)};var As={},Cs=As&&As.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ws=As&&As.__assign||function(){return(ws=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},xs=As&&As.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(As,"__esModule",{value:!0}),As.MmlInferredMrow=As.MmlMrow=void 0;var Es=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._core=null,e}return Cs(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"mrow"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSpacelike",{get:function(){var t,e;try{for(var r=xs(this.childNodes),n=r.next();!n.done;n=r.next()){if(!n.value.isSpacelike)return!1}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEmbellished",{get:function(){var t,e,r=!1,n=0;try{for(var i=xs(this.childNodes),o=i.next();!o.done;o=i.next()){var s=o.value;if(s)if(s.isEmbellished){if(r)return!1;r=!0,this._core=n}else if(!s.isSpacelike)return!1;n++}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return r},enumerable:!1,configurable:!0}),e.prototype.core=function(){return this.isEmbellished&&null!=this._core?this.childNodes[this._core]:this},e.prototype.coreMO=function(){return this.isEmbellished&&null!=this._core?this.childNodes[this._core].coreMO():this},e.prototype.nonSpaceLength=function(){var t,e,r=0;try{for(var n=xs(this.childNodes),i=n.next();!i.done;i=n.next()){var o=i.value;o&&!o.isSpacelike&&r++}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return r},e.prototype.firstNonSpace=function(){var t,e;try{for(var r=xs(this.childNodes),n=r.next();!n.done;n=r.next()){var i=n.value;if(i&&!i.isSpacelike)return i}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return null},e.prototype.lastNonSpace=function(){for(var t=this.childNodes.length;--t>=0;){var e=this.childNodes[t];if(e&&!e.isSpacelike)return e}return null},e.prototype.setTeXclass=function(t){var e,r,n,i;if(null!=this.getProperty("open")||null!=this.getProperty("close")){this.getPrevClass(t),t=null;try{for(var o=xs(this.childNodes),s=o.next();!s.done;s=o.next()){t=s.value.setTeXclass(t)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}null==this.texClass&&(this.texClass=Y.TEXCLASS.INNER)}else{try{for(var a=xs(this.childNodes),l=a.next();!l.done;l=a.next()){t=l.value.setTeXclass(t)}}catch(t){n={error:t}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}this.childNodes[0]&&this.updateTeXclass(this.childNodes[0])}return t},e.defaults=ws({},Y.AbstractMmlNode.defaults),e}(Y.AbstractMmlNode);As.MmlMrow=Es;var Ss=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Cs(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"inferredMrow"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isInferred",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"notParent",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return"["+this.childNodes.join(",")+"]"},e.defaults=Es.defaults,e}(Es);As.MmlInferredMrow=Ss;var Ms=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return fs(e,t),e.prototype.toCHTML=function(t){var e,r,n=this.node.isInferred?this.chtml=t:this.standardCHTMLnode(t),i=!1;try{for(var o=ps(this.childNodes),s=o.next();!s.done;s=o.next()){var a=s.value;a.toCHTML(n),a.bbox.w<0&&(i=!0)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}if(i){var l=this.getBBox().w;l&&(this.adaptor.setStyle(n,"width",this.em(Math.max(0,l))),l<0&&this.adaptor.setStyle(n,"marginRight",this.em(l)))}},e.kind=As.MmlMrow.prototype.kind,e}(ms.CommonMrowMixin(ei.CHTMLWrapper));ds.CHTMLmrow=Ms;var Os=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return fs(e,t),e.kind=As.MmlInferredMrow.prototype.kind,e}(ms.CommonInferredMrowMixin(Ms));ds.CHTMLinferredMrow=Os;var _s={},Ts=_s&&_s.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(_s,"__esModule",{value:!0}),_s.CHTMLmfenced=void 0;var Fs={},Bs=Fs&&Fs.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ls=Fs&&Fs.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},ks=Fs&&Fs.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t},Rs=Fs&&Fs.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Fs,"__esModule",{value:!0}),Fs.CommonMfencedMixin=void 0,Fs.CommonMfencedMixin=function(t){return function(t){function e(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=t.apply(this,ks([],Ls(e)))||this;return n.mrow=null,n.createMrow(),n.addMrowChildren(),n}return Bs(e,t),e.prototype.createMrow=function(){var t=this.node.factory.create("inferredMrow");t.inheritAttributesFrom(this.node),this.mrow=this.wrap(t),this.mrow.parent=this},e.prototype.addMrowChildren=function(){var t,e,r=this.node,n=this.mrow;this.addMo(r.open),this.childNodes.length&&n.childNodes.push(this.childNodes[0]);var i=0;try{for(var o=Rs(this.childNodes.slice(1)),s=o.next();!s.done;s=o.next()){var a=s.value;this.addMo(r.separators[i++]),n.childNodes.push(a)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}this.addMo(r.close),n.stretchChildren()},e.prototype.addMo=function(t){if(t){var e=this.wrap(t);this.mrow.childNodes.push(e),e.parent=this.mrow}},e.prototype.computeBBox=function(t,e){void 0===e&&(e=!1),t.updateFrom(this.mrow.getBBox()),this.setChildPWidths(e)},e}(t)};var Ds={},Ps=Ds&&Ds.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Is=Ds&&Ds.__assign||function(){return(Is=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Ns=Ds&&Ds.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Ds,"__esModule",{value:!0}),Ds.MmlMfenced=void 0;var $s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.texclass=Y.TEXCLASS.INNER,e.separators=[],e.open=null,e.close=null,e}return Ps(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"mfenced"},enumerable:!1,configurable:!0}),e.prototype.setTeXclass=function(t){this.getPrevClass(t),this.open&&(t=this.open.setTeXclass(t)),this.childNodes[0]&&(t=this.childNodes[0].setTeXclass(t));for(var e=1,r=this.childNodes.length;e<r;e++)this.separators[e-1]&&(t=this.separators[e-1].setTeXclass(t)),this.childNodes[e]&&(t=this.childNodes[e].setTeXclass(t));return this.close&&(t=this.close.setTeXclass(t)),this.updateTeXclass(this.open),t},e.prototype.setChildInheritedAttributes=function(e,r,n,i){var o,s;this.addFakeNodes();try{for(var a=Ns([this.open,this.close].concat(this.separators)),l=a.next();!l.done;l=a.next()){var c=l.value;c&&c.setInheritedAttributes(e,r,n,i)}}catch(t){o={error:t}}finally{try{l&&!l.done&&(s=a.return)&&s.call(a)}finally{if(o)throw o.error}}t.prototype.setChildInheritedAttributes.call(this,e,r,n,i)},e.prototype.addFakeNodes=function(){var t,e,r=this.attributes.getList("open","close","separators"),n=r.open,i=r.close,o=r.separators;if(n=n.replace(/[ \t\n\r]/g,""),i=i.replace(/[ \t\n\r]/g,""),o=o.replace(/[ \t\n\r]/g,""),n&&(this.open=this.fakeNode(n,{fence:!0,form:"prefix"},Y.TEXCLASS.OPEN)),o){for(;o.length<this.childNodes.length-1;)o+=o.charAt(o.length-1);var s=0;try{for(var a=Ns(this.childNodes.slice(1)),l=a.next();!l.done;l=a.next()){l.value&&this.separators.push(this.fakeNode(o.charAt(s++)))}}catch(e){t={error:e}}finally{try{l&&!l.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}}i&&(this.close=this.fakeNode(i,{fence:!0,form:"postfix"},Y.TEXCLASS.CLOSE))},e.prototype.fakeNode=function(t,e,r){void 0===e&&(e={}),void 0===r&&(r=null);var n=this.factory.create("text").setText(t),i=this.factory.create("mo",e,[n]);return i.texClass=r,i.parent=this,i},e.defaults=Is(Is({},Y.AbstractMmlNode.defaults),{open:"(",close:")",separators:","}),e}(Y.AbstractMmlNode);Ds.MmlMfenced=$s;var js=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ts(e,t),e.prototype.toCHTML=function(t){var e=this.standardCHTMLnode(t);this.mrow.toCHTML(e)},e.kind=Ds.MmlMfenced.prototype.kind,e}(Fs.CommonMfencedMixin(ei.CHTMLWrapper));_s.CHTMLmfenced=js;var Hs={},Ws=Hs&&Hs.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),zs=Hs&&Hs.__assign||function(){return(zs=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(Hs,"__esModule",{value:!0}),Hs.CHTMLmfrac=void 0;var Vs={},Xs=Vs&&Vs.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),qs=Vs&&Vs.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},Gs=Vs&&Vs.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(Vs,"__esModule",{value:!0}),Vs.CommonMfracMixin=void 0,Vs.CommonMfracMixin=function(t){return function(t){function e(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=t.apply(this,Gs([],qs(e)))||this;if(n.bevel=null,n.pad=n.node.getProperty("withDelims")?0:n.font.params.nulldelimiterspace,n.node.attributes.get("bevelled")){var i=n.getBevelData(n.isDisplay()).H,o=n.bevel=n.createMo("/");o.node.attributes.set("symmetric",!0),o.canStretch(1),o.getStretchedVariant([i],!0)}return n}return Xs(e,t),e.prototype.computeBBox=function(t,e){void 0===e&&(e=!1),t.empty();var r=this.node.attributes.getList("linethickness","bevelled"),n=r.linethickness,i=r.bevelled,o=this.isDisplay(),s=null;if(i)this.getBevelledBBox(t,o);else{var a=this.length2em(String(n),.06);s=-2*this.pad,0===a?this.getAtopBBox(t,o):(this.getFractionBBox(t,o,a),s-=.2),s+=t.w}t.clean(),this.setChildPWidths(e,s)},e.prototype.getFractionBBox=function(t,e,r){var n=this.childNodes[0].getBBox(),i=this.childNodes[1].getBBox(),o=this.font.params.axis_height,s=this.getTUV(e,r),a=s.T,l=s.u,c=s.v;t.combine(n,0,o+a+Math.max(n.d*n.rscale,l)),t.combine(i,0,o-a-Math.max(i.h*i.rscale,c)),t.w+=2*this.pad+.2},e.prototype.getTUV=function(t,e){var r=this.font.params,n=r.axis_height,i=(t?3.5:1.5)*e;return{T:(t?3.5:1.5)*e,u:(t?r.num1:r.num2)-n-i,v:(t?r.denom1:r.denom2)+n-i}},e.prototype.getAtopBBox=function(t,e){var r=this.getUVQ(e),n=r.u,i=r.v,o=r.nbox,s=r.dbox;t.combine(o,0,n),t.combine(s,0,-i),t.w+=2*this.pad},e.prototype.getUVQ=function(t){var e=this.childNodes[0].getBBox(),r=this.childNodes[1].getBBox(),n=this.font.params,i=qs(t?[n.num1,n.denom1]:[n.num3,n.denom2],2),o=i[0],s=i[1],a=(t?7:3)*n.rule_thickness,l=o-e.d*e.scale-(r.h*r.scale-s);return l<a&&(o+=(a-l)/2,s+=(a-l)/2,l=a),{u:o,v:s,q:l,nbox:e,dbox:r}},e.prototype.getBevelledBBox=function(t,e){var r=this.getBevelData(e),n=r.u,i=r.v,o=r.delta,s=r.nbox,a=r.dbox,l=this.bevel.getBBox();t.combine(s,0,n),t.combine(l,t.w-o/2,0),t.combine(a,t.w-o/2,i)},e.prototype.getBevelData=function(t){var e=this.childNodes[0].getBBox(),r=this.childNodes[1].getBBox(),n=t?.4:.15,i=Math.max(e.scale*(e.h+e.d),r.scale*(r.h+r.d))+2*n,o=this.font.params.axis_height;return{H:i,delta:n,u:e.scale*(e.d-e.h)/2+o+n,v:r.scale*(r.d-r.h)/2+o-n,nbox:e,dbox:r}},e.prototype.canStretch=function(t){return!1},e.prototype.isDisplay=function(){var t=this.node.attributes.getList("displaystyle","scriptlevel"),e=t.displaystyle,r=t.scriptlevel;return e&&0===r},e.prototype.getWrapWidth=function(t){var e=this.node.attributes;return e.get("bevelled")?this.childNodes[t].getBBox().w:this.getBBox().w-(this.length2em(e.get("linethickness"))?.2:0)-2*this.pad},e.prototype.getChildAlign=function(t){var e=this.node.attributes;return e.get("bevelled")?"left":e.get(["numalign","denomalign"][t])},e}(t)};var Us={},Ks=Us&&Us.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Js=Us&&Us.__assign||function(){return(Js=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Qs=Us&&Us.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Us,"__esModule",{value:!0}),Us.MmlMfrac=void 0;var Ys=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ks(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"mfrac"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return 2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"linebreakContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.setTeXclass=function(t){var e,r;this.getPrevClass(t);try{for(var n=Qs(this.childNodes),i=n.next();!i.done;i=n.next()){i.value.setTeXclass(null)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return this},e.prototype.setChildInheritedAttributes=function(t,e,r,n){(!e||r>0)&&r++,this.childNodes[0].setInheritedAttributes(t,!1,r,n),this.childNodes[1].setInheritedAttributes(t,!1,r,!0)},e.defaults=Js(Js({},Y.AbstractMmlBaseNode.defaults),{linethickness:"medium",numalign:"center",denomalign:"center",bevelled:!1}),e}(Y.AbstractMmlBaseNode);Us.MmlMfrac=Ys;var Zs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ws(e,t),e.prototype.toCHTML=function(t){this.standardCHTMLnode(t);var e=this.node.attributes.getList("linethickness","bevelled"),r=e.linethickness,n=e.bevelled,i=this.isDisplay();if(n)this.makeBevelled(i);else{var o=this.length2em(String(r),.06);0===o?this.makeAtop(i):this.makeFraction(i,o)}},e.prototype.makeFraction=function(t,e){var r,n,i=this.node.attributes.getList("numalign","denomalign"),o=i.numalign,s=i.denomalign,a=t?{type:"d"}:{},l=this.node.getProperty("withDelims")?zs(zs({},a),{delims:"true"}):zs({},a),c="center"!==o?{align:o}:{},u="center"!==s?{align:s}:{},h=zs({},a),d=zs({},a),f=this.font.params;if(.06!==e){var p=f.axis_height,m=this.em(e),g=this.getTUV(t,e),y=g.T,v=g.u,b=g.v,A=(t?this.em(3*e):m)+" -.1em";a.style={height:m,"border-top":m+" solid",margin:A};var C=this.em(Math.max(0,v));d.style={height:C,"vertical-align":"-"+C},h.style={height:this.em(Math.max(0,b))},l.style={"vertical-align":this.em(p-y)}}this.adaptor.append(this.chtml,this.html("mjx-frac",l,[r=this.html("mjx-num",c,[this.html("mjx-nstrut",d)]),this.html("mjx-dbox",{},[this.html("mjx-dtable",{},[this.html("mjx-line",a),this.html("mjx-row",{},[n=this.html("mjx-den",u,[this.html("mjx-dstrut",h)])])])])])),this.childNodes[0].toCHTML(r),this.childNodes[1].toCHTML(n)},e.prototype.makeAtop=function(t){var e,r,n=this.node.attributes.getList("numalign","denomalign"),i=n.numalign,o=n.denomalign,s=t?{type:"d",atop:!0}:{atop:!0},a=this.node.getProperty("withDelims")?zs(zs({},s),{delims:!0}):zs({},s),l="center"!==i?{align:i}:{},c="center"!==o?{align:o}:{},u=this.getUVQ(t),h=u.v,d=u.q;l.style={"padding-bottom":this.em(d)},a.style={"vertical-align":this.em(-h)},this.adaptor.append(this.chtml,this.html("mjx-frac",a,[e=this.html("mjx-num",l),r=this.html("mjx-den",c)])),this.childNodes[0].toCHTML(e),this.childNodes[1].toCHTML(r)},e.prototype.makeBevelled=function(t){var e=this.adaptor;e.setAttribute(this.chtml,"bevelled","ture");var r=e.append(this.chtml,this.html("mjx-num"));this.childNodes[0].toCHTML(r),this.bevel.toCHTML(this.chtml);var n=e.append(this.chtml,this.html("mjx-den"));this.childNodes[1].toCHTML(n);var i=this.getBevelData(t),o=i.u,s=i.v,a=i.delta,l=i.nbox,c=i.dbox;o&&e.setStyle(r,"verticalAlign",this.em(o/l.scale)),s&&e.setStyle(n,"verticalAlign",this.em(s/c.scale));var u=this.em(-a/2);e.setStyle(this.bevel.chtml,"marginLeft",u),e.setStyle(this.bevel.chtml,"marginRight",u)},e.kind=Us.MmlMfrac.prototype.kind,e.styles={"mjx-frac":{display:"inline-block","vertical-align":"0.17em",padding:"0 .22em"},'mjx-frac[type="d"]':{"vertical-align":".04em"},"mjx-frac[delims]":{padding:"0 .1em"},"mjx-frac[atop]":{padding:"0 .12em"},"mjx-frac[atop][delims]":{padding:"0"},"mjx-dtable":{display:"inline-table",width:"100%"},"mjx-dtable > *":{"font-size":"2000%"},"mjx-dbox":{display:"block","font-size":"5%"},"mjx-num":{display:"block","text-align":"center"},"mjx-den":{display:"block","text-align":"center"},"mjx-mfrac[bevelled] > mjx-num":{display:"inline-block"},"mjx-mfrac[bevelled] > mjx-den":{display:"inline-block"},'mjx-den[align="right"], mjx-num[align="right"]':{"text-align":"right"},'mjx-den[align="left"], mjx-num[align="left"]':{"text-align":"left"},"mjx-nstrut":{display:"inline-block",height:".054em",width:0,"vertical-align":"-.054em"},'mjx-nstrut[type="d"]':{height:".217em","vertical-align":"-.217em"},"mjx-dstrut":{display:"inline-block",height:".505em",width:0},'mjx-dstrut[type="d"]':{height:".726em"},"mjx-line":{display:"block","box-sizing":"border-box","min-height":"1px",height:".06em","border-top":".06em solid",margin:".06em -.1em",overflow:"hidden"},'mjx-line[type="d"]':{margin:".18em -.1em"}},e}(Vs.CommonMfracMixin(ei.CHTMLWrapper));Hs.CHTMLmfrac=Zs;var ta={},ea=ta&&ta.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ra=ta&&ta.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s};Object.defineProperty(ta,"__esModule",{value:!0}),ta.CHTMLmsqrt=void 0;var na={},ia=na&&na.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),oa=na&&na.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},sa=na&&na.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(na,"__esModule",{value:!0}),na.CommonMsqrtMixin=void 0,na.CommonMsqrtMixin=function(t){return function(t){function e(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=t.apply(this,sa([],oa(e)))||this,i=n.createMo("√");i.canStretch(1);var o=n.childNodes[n.base].getBBox(),s=o.h,a=o.d,l=n.font.params.rule_thickness,c=n.node.attributes.get("displaystyle")?n.font.params.x_height:l;return n.surdH=s+a+2*l+c/4,i.getStretchedVariant([n.surdH-a,a],!0),n}return ia(e,t),Object.defineProperty(e.prototype,"base",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"surd",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return null},enumerable:!1,configurable:!0}),e.prototype.createMo=function(e){var r=t.prototype.createMo.call(this,e);return this.childNodes.push(r),r},e.prototype.computeBBox=function(t,e){void 0===e&&(e=!1);var r=this.childNodes[this.surd].getBBox(),n=new di.BBox(this.childNodes[this.base].getBBox()),i=this.getPQ(r)[1],o=this.font.params.rule_thickness,s=n.h+i+o,a=oa(this.getRootDimens(r,s),1)[0];t.h=s+o,this.combineRootBBox(t,r,s),t.combine(r,a,s-r.h),t.combine(n,a+r.w,0),t.clean(),this.setChildPWidths(e)},e.prototype.combineRootBBox=function(t,e,r){},e.prototype.getPQ=function(t){var e=this.font.params.rule_thickness,r=this.node.attributes.get("displaystyle")?this.font.params.x_height:e;return[r,t.h+t.d>this.surdH?(t.h+t.d-(this.surdH-2*e-r/2))/2:e+r/4]},e.prototype.getRootDimens=function(t,e){return[0,0,0,0]},e}(t)};var aa={},la=aa&&aa.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ca=aa&&aa.__assign||function(){return(ca=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(aa,"__esModule",{value:!0}),aa.MmlMsqrt=void 0;var ua=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.texclass=Y.TEXCLASS.ORD,e}return la(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"msqrt"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"linebreakContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.setTeXclass=function(t){return this.getPrevClass(t),this.childNodes[0].setTeXclass(null),this},e.prototype.setChildInheritedAttributes=function(t,e,r,n){this.childNodes[0].setInheritedAttributes(t,e,r,!0)},e.defaults=ca({},Y.AbstractMmlNode.defaults),e}(Y.AbstractMmlNode);aa.MmlMsqrt=ua;var ha=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ea(e,t),e.prototype.toCHTML=function(t){var e,r,n,i,o=this.childNodes[this.surd],s=this.childNodes[this.base],a=o.getBBox(),l=s.getBBox(),c=ra(this.getPQ(a),2)[1],u=this.font.params.rule_thickness,h=l.h+c+u,d=this.standardCHTMLnode(t);null!=this.root&&(n=this.adaptor.append(d,this.html("mjx-root")),i=this.childNodes[this.root]);var f=this.adaptor.append(d,this.html("mjx-sqrt",{},[e=this.html("mjx-surd"),r=this.html("mjx-box",{style:{paddingTop:this.em(c)}})]));this.addRoot(n,i,a,h),o.toCHTML(e),s.toCHTML(r),o.size<0&&this.adaptor.addClass(f,"mjx-tall")},e.prototype.addRoot=function(t,e,r,n){},e.kind=aa.MmlMsqrt.prototype.kind,e.styles={"mjx-root":{display:"inline-block","white-space":"nowrap"},"mjx-surd":{display:"inline-block","vertical-align":"top"},"mjx-sqrt":{display:"inline-block","padding-top":".07em"},"mjx-sqrt > mjx-box":{"border-top":".07em solid"},"mjx-sqrt.mjx-tall > mjx-box":{"padding-left":".3em","margin-left":"-.3em"}},e}(na.CommonMsqrtMixin(ei.CHTMLWrapper));ta.CHTMLmsqrt=ha;var da={},fa=da&&da.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),pa=da&&da.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s};Object.defineProperty(da,"__esModule",{value:!0}),da.CHTMLmroot=void 0;var ma={},ga=ma&&ma.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(ma,"__esModule",{value:!0}),ma.CommonMrootMixin=void 0,ma.CommonMrootMixin=function(t){return function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ga(e,t),Object.defineProperty(e.prototype,"surd",{get:function(){return 2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return 1},enumerable:!1,configurable:!0}),e.prototype.combineRootBBox=function(t,e,r){var n=this.childNodes[this.root].getBBox(),i=this.getRootDimens(e,r)[1];t.combine(n,0,i)},e.prototype.getRootDimens=function(t,e){var r=this.childNodes[this.surd],n=this.childNodes[this.root].getBBox(),i=(r.size<0?.5:.6)*t.w,o=n.w,s=n.rscale,a=Math.max(o,i/s),l=Math.max(0,a-o);return[a*s-i,this.rootHeight(n,t,r.size,e),l]},e.prototype.rootHeight=function(t,e,r,n){var i=e.h+e.d;return(r<0?1.9:.55*i)-(i-n)+Math.max(0,t.d*t.rscale)},e}(t)};var ya={},va=ya&&ya.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ba=ya&&ya.__assign||function(){return(ba=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(ya,"__esModule",{value:!0}),ya.MmlMroot=void 0;var Aa=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.texclass=Y.TEXCLASS.ORD,e}return va(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"mroot"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return 2},enumerable:!1,configurable:!0}),e.prototype.setTeXclass=function(t){return this.getPrevClass(t),this.childNodes[0].setTeXclass(null),this.childNodes[1].setTeXclass(null),this},e.prototype.setChildInheritedAttributes=function(t,e,r,n){this.childNodes[0].setInheritedAttributes(t,e,r,!0),this.childNodes[1].setInheritedAttributes(t,!1,r+2,n)},e.defaults=ba({},Y.AbstractMmlNode.defaults),e}(Y.AbstractMmlNode);ya.MmlMroot=Aa;var Ca=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return fa(e,t),e.prototype.addRoot=function(t,e,r,n){e.toCHTML(t);var i=pa(this.getRootDimens(r,n),3),o=i[0],s=i[1],a=i[2];this.adaptor.setStyle(t,"verticalAlign",this.em(s)),this.adaptor.setStyle(t,"width",this.em(o)),a&&this.adaptor.setStyle(this.adaptor.firstChild(t),"paddingLeft",this.em(a))},e.kind=ya.MmlMroot.prototype.kind,e}(ma.CommonMrootMixin(ta.CHTMLmsqrt));da.CHTMLmroot=Ca;var wa={},xa=wa&&wa.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ea=wa&&wa.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s};Object.defineProperty(wa,"__esModule",{value:!0}),wa.CHTMLmsubsup=wa.CHTMLmsup=wa.CHTMLmsub=void 0;var Sa={},Ma=Sa&&Sa.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Oa=Sa&&Sa.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},_a=Sa&&Sa.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Sa,"__esModule",{value:!0}),Sa.CHTMLscriptbase=void 0;var Ta={},Fa=Ta&&Ta.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ba=Ta&&Ta.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},La=Ta&&Ta.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t},ka=Ta&&Ta.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Ta,"__esModule",{value:!0}),Ta.CommonScriptbaseMixin=void 0,Ta.CommonScriptbaseMixin=function(t){var e;return(e=function(t){function e(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=t.apply(this,La([],Ba(e)))||this;n.baseScale=1,n.baseIc=0,n.baseRemoveIc=!1,n.baseIsChar=!1,n.baseHasAccentOver=null,n.baseHasAccentUnder=null,n.isLineAbove=!1,n.isLineBelow=!1,n.isMathAccent=!1;var i=n.baseCore=n.getBaseCore();return i?(n.setBaseAccentsFor(i),n.baseScale=n.getBaseScale(),n.baseIc=n.getBaseIc(),n.baseIsChar=n.isCharBase(),n.isMathAccent=n.baseIsChar&&n.scriptChild&&!!n.scriptChild.coreMO().node.getProperty("mathaccent"),n.checkLineAccents(),n.baseRemoveIc=!n.isLineAbove&&!n.isLineBelow&&(!n.constructor.useIC||n.isMathAccent),n):n}return Fa(e,t),Object.defineProperty(e.prototype,"baseChild",{get:function(){return this.childNodes[this.node.base]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scriptChild",{get:function(){return this.childNodes[1]},enumerable:!1,configurable:!0}),e.prototype.getBaseCore=function(){for(var t=this.getSemanticBase()||this.childNodes[0];t&&(1===t.childNodes.length&&(t.node.isKind("mrow")||t.node.isKind("TeXAtom")||t.node.isKind("mstyle")||t.node.isKind("mpadded")||t.node.isKind("mphantom")||t.node.isKind("semantics"))||t.node.isKind("munderover")&&t.isMathAccent);)this.setBaseAccentsFor(t),t=t.childNodes[0];return t||(this.baseHasAccentOver=this.baseHasAccentUnder=!1),t||this.childNodes[0]},e.prototype.setBaseAccentsFor=function(t){t.node.isKind("munderover")&&(null===this.baseHasAccentOver&&(this.baseHasAccentOver=!!t.node.attributes.get("accent")),null===this.baseHasAccentUnder&&(this.baseHasAccentUnder=!!t.node.attributes.get("accentunder")))},e.prototype.getSemanticBase=function(){var t=this.node.attributes.getExplicit("data-semantic-fencepointer");return this.getBaseFence(this.baseChild,t)},e.prototype.getBaseFence=function(t,e){var r,n;if(!t||!t.node.attributes||!e)return null;if(t.node.attributes.getExplicit("data-semantic-id")===e)return t;try{for(var i=ka(t.childNodes),o=i.next();!o.done;o=i.next()){var s=o.value,a=this.getBaseFence(s,e);if(a)return a}}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return null},e.prototype.getBaseScale=function(){for(var t=this.baseCore,e=1;t&&t!==this;){e*=t.getBBox().rscale,t=t.parent}return e},e.prototype.getBaseIc=function(){return this.baseCore.getBBox().ic*this.baseScale},e.prototype.getAdjustedIc=function(){var t=this.baseCore.getBBox();return(t.ic?1.05*t.ic+.05:0)*this.baseScale},e.prototype.isCharBase=function(){var t=this.baseCore;return(t.node.isKind("mo")&&null===t.size||t.node.isKind("mi")||t.node.isKind("mn"))&&1===t.bbox.rscale&&1===Array.from(t.getText()).length},e.prototype.checkLineAccents=function(){if(this.node.isKind("munderover"))if(this.node.isKind("mover"))this.isLineAbove=this.isLineAccent(this.scriptChild);else if(this.node.isKind("munder"))this.isLineBelow=this.isLineAccent(this.scriptChild);else{this.isLineAbove=this.isLineAccent(this.overChild),this.isLineBelow=this.isLineAccent(this.underChild)}},e.prototype.isLineAccent=function(t){var e=t.coreMO().node;return e.isToken&&"―"===e.getText()},e.prototype.getBaseWidth=function(){var t=this.baseChild.getBBox();return t.w*t.rscale-(this.baseRemoveIc?this.baseIc:0)+this.font.params.extra_ic},e.prototype.computeBBox=function(t,e){void 0===e&&(e=!1);var r=this.getBaseWidth(),n=Ba(this.getOffset(),2),i=n[0],o=n[1];t.append(this.baseChild.getBBox()),t.combine(this.scriptChild.getBBox(),r+i,o),t.w+=this.font.params.scriptspace,t.clean(),this.setChildPWidths(e)},e.prototype.getOffset=function(){return[0,0]},e.prototype.baseCharZero=function(t){var e=!!this.baseCore.node.attributes.get("largeop"),r=this.baseScale;return this.baseIsChar&&!e&&1===r?0:t},e.prototype.getV=function(){var t=this.baseCore.getBBox(),e=this.scriptChild.getBBox(),r=this.font.params,n=this.length2em(this.node.attributes.get("subscriptshift"),r.sub1);return Math.max(this.baseCharZero(t.d*this.baseScale+r.sub_drop*e.rscale),n,e.h*e.rscale-.8*r.x_height)},e.prototype.getU=function(){var t=this.baseCore.getBBox(),e=this.scriptChild.getBBox(),r=this.font.params,n=this.node.attributes.getList("displaystyle","superscriptshift"),i=this.node.getProperty("texprimestyle")?r.sup3:n.displaystyle?r.sup1:r.sup2,o=this.length2em(n.superscriptshift,i);return Math.max(this.baseCharZero(t.h*this.baseScale-r.sup_drop*e.rscale),o,e.d*e.rscale+.25*r.x_height)},e.prototype.hasMovableLimits=function(){var t=this.node.attributes.get("displaystyle"),e=this.baseChild.coreMO().node;return!t&&!!e.attributes.get("movablelimits")},e.prototype.getOverKU=function(t,e){var r=this.node.attributes.get("accent"),n=this.font.params,i=e.d*e.rscale,o=n.rule_thickness*n.separation_factor,s=this.baseHasAccentOver?o:0,a=this.isLineAbove?3*n.rule_thickness:o,l=(r?a:Math.max(n.big_op_spacing1,n.big_op_spacing3-Math.max(0,i)))-s;return[l,t.h*t.rscale+l+i]},e.prototype.getUnderKV=function(t,e){var r=this.node.attributes.get("accentunder"),n=this.font.params,i=e.h*e.rscale,o=n.rule_thickness*n.separation_factor,s=this.baseHasAccentUnder?o:0,a=this.isLineBelow?3*n.rule_thickness:o,l=(r?a:Math.max(n.big_op_spacing2,n.big_op_spacing4-i))-s;return[l,-(t.d*t.rscale+l+i)]},e.prototype.getDeltaW=function(t,e){var r,n,i,o;void 0===e&&(e=[0,0,0]);var s=this.node.attributes.get("align"),a=t.map((function(t){return t.w*t.rscale}));a[0]-=this.baseRemoveIc&&!this.baseCore.node.attributes.get("largeop")?this.baseIc:0;var l=Math.max.apply(Math,La([],Ba(a))),c=[],u=0;try{for(var h=ka(a.keys()),d=h.next();!d.done;d=h.next()){c[m=d.value]=("center"===s?(l-a[m])/2:"right"===s?l-a[m]:0)+e[m],c[m]<u&&(u=-c[m])}}catch(t){r={error:t}}finally{try{d&&!d.done&&(n=h.return)&&n.call(h)}finally{if(r)throw r.error}}if(u)try{for(var f=ka(c.keys()),p=f.next();!p.done;p=f.next()){var m;c[m=p.value]+=u}}catch(t){i={error:t}}finally{try{p&&!p.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}return c},e.prototype.getDelta=function(t){void 0===t&&(t=!1);var e=this.node.attributes.get("accent"),r=this.baseCore.getBBox(),n=r.sk,i=r.ic;return((e&&!t?n:0)+this.font.skewIcFactor*i)*this.baseScale},e.prototype.stretchChildren=function(){var t,e,r,n,i,o,s=[];try{for(var a=ka(this.childNodes),l=a.next();!l.done;l=a.next()){(C=l.value).canStretch(2)&&s.push(C)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}var c=s.length,u=this.childNodes.length;if(c&&u>1){var h=0,d=c>1&&c===u;try{for(var f=ka(this.childNodes),p=f.next();!p.done;p=f.next()){var m=0===(C=p.value).stretch.dir;if(d||m){var g=C.getBBox(m),y=g.w,v=g.rscale;y*v>h&&(h=y*v)}}}catch(t){r={error:t}}finally{try{p&&!p.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}try{for(var b=ka(s),A=b.next();!A.done;A=b.next()){var C;(C=A.value).coreMO().getStretchedVariant([h/C.bbox.rscale])}}catch(t){i={error:t}}finally{try{A&&!A.done&&(o=b.return)&&o.call(b)}finally{if(i)throw i.error}}}},e}(t)).useIC=!0,e};var Ra=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ma(e,t),e.prototype.toCHTML=function(t){this.chtml=this.standardCHTMLnode(t);var e=Oa(this.getOffset(),2),r=e[0],n=e[1],i=r-(this.baseRemoveIc?this.baseIc:0),o={"vertical-align":this.em(n)};i&&(o["margin-left"]=this.em(i)),this.baseChild.toCHTML(this.chtml),this.scriptChild.toCHTML(this.adaptor.append(this.chtml,this.html("mjx-script",{style:o})))},e.prototype.setDeltaW=function(t,e){for(var r=0;r<e.length;r++)e[r]&&this.adaptor.setStyle(t[r],"paddingLeft",this.em(e[r]))},e.prototype.adjustOverDepth=function(t,e){e.d>=0||this.adaptor.setStyle(t,"marginBottom",this.em(e.d*e.rscale))},e.prototype.adjustUnderDepth=function(t,e){var r,n;if(!(e.d>=0)){var i=this.adaptor,o=this.em(e.d),s=this.html("mjx-box",{style:{"margin-bottom":o,"vertical-align":o}});try{for(var a=_a(i.childNodes(i.firstChild(t))),l=a.next();!l.done;l=a.next()){var c=l.value;i.append(s,c)}}catch(t){r={error:t}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}i.append(i.firstChild(t),s)}},e.kind="scriptbase",e}(Ta.CommonScriptbaseMixin(ei.CHTMLWrapper));Sa.CHTMLscriptbase=Ra;var Da={},Pa=Da&&Da.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ia=Da&&Da.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s};Object.defineProperty(Da,"__esModule",{value:!0}),Da.CommonMsubsupMixin=Da.CommonMsupMixin=Da.CommonMsubMixin=void 0,Da.CommonMsubMixin=function(t){var e;return(e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Pa(e,t),Object.defineProperty(e.prototype,"scriptChild",{get:function(){return this.childNodes[this.node.sub]},enumerable:!1,configurable:!0}),e.prototype.getOffset=function(){return[0,-this.getV()]},e}(t)).useIC=!1,e},Da.CommonMsupMixin=function(t){return function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Pa(e,t),Object.defineProperty(e.prototype,"scriptChild",{get:function(){return this.childNodes[this.node.sup]},enumerable:!1,configurable:!0}),e.prototype.getOffset=function(){return[this.getAdjustedIc()-(this.baseRemoveIc?0:this.baseIc),this.getU()]},e}(t)},Da.CommonMsubsupMixin=function(t){var e;return(e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.UVQ=null,e}return Pa(e,t),Object.defineProperty(e.prototype,"subChild",{get:function(){return this.childNodes[this.node.sub]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"supChild",{get:function(){return this.childNodes[this.node.sup]},enumerable:!1,configurable:!0}),e.prototype.computeBBox=function(t,e){void 0===e&&(e=!1);var r=this.baseChild.getBBox(),n=Ia([this.subChild.getBBox(),this.supChild.getBBox()],2),i=n[0],o=n[1];t.empty(),t.append(r);var s=this.getBaseWidth(),a=this.getAdjustedIc(),l=Ia(this.getUVQ(),2),c=l[0],u=l[1];t.combine(i,s,u),t.combine(o,s+a,c),t.w+=this.font.params.scriptspace,t.clean(),this.setChildPWidths(e)},e.prototype.getUVQ=function(t,e){void 0===t&&(t=this.subChild.getBBox()),void 0===e&&(e=this.supChild.getBBox());var r=this.baseCore.getBBox();if(this.UVQ)return this.UVQ;var n=this.font.params,i=3*n.rule_thickness,o=this.length2em(this.node.attributes.get("subscriptshift"),n.sub2),s=this.baseCharZero(r.d*this.baseScale+n.sub_drop*t.rscale),a=Ia([this.getU(),Math.max(s,o)],2),l=a[0],c=a[1],u=l-e.d*e.rscale-(t.h*t.rscale-c);if(u<i){c+=i-u;var h=.8*n.x_height-(l-e.d*e.rscale);h>0&&(l+=h,c-=h)}return l=Math.max(this.length2em(this.node.attributes.get("superscriptshift"),l),l),c=Math.max(this.length2em(this.node.attributes.get("subscriptshift"),c),c),u=l-e.d*e.rscale-(t.h*t.rscale-c),this.UVQ=[l,-c,u],this.UVQ},e}(t)).useIC=!1,e};var Na={},$a=Na&&Na.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ja=Na&&Na.__assign||function(){return(ja=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(Na,"__esModule",{value:!0}),Na.MmlMsup=Na.MmlMsub=Na.MmlMsubsup=void 0;var Ha=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $a(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"msubsup"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return 3},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"base",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sub",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sup",{get:function(){return 2},enumerable:!1,configurable:!0}),e.prototype.setChildInheritedAttributes=function(t,e,r,n){var i=this.childNodes;i[0].setInheritedAttributes(t,e,r,n),i[1].setInheritedAttributes(t,!1,r+1,n||1===this.sub),i[2]&&i[2].setInheritedAttributes(t,!1,r+1,n||2===this.sub)},e.defaults=ja(ja({},Y.AbstractMmlBaseNode.defaults),{subscriptshift:"",superscriptshift:""}),e}(Y.AbstractMmlBaseNode);Na.MmlMsubsup=Ha;var Wa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $a(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"msub"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return 2},enumerable:!1,configurable:!0}),e.defaults=ja({},Ha.defaults),e}(Ha);Na.MmlMsub=Wa;var za=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $a(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"msup"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return 2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sup",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sub",{get:function(){return 2},enumerable:!1,configurable:!0}),e.defaults=ja({},Ha.defaults),e}(Ha);Na.MmlMsup=za;var Va=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xa(e,t),e.kind=Na.MmlMsub.prototype.kind,e}(Da.CommonMsubMixin(Sa.CHTMLscriptbase));wa.CHTMLmsub=Va;var Xa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xa(e,t),e.kind=Na.MmlMsup.prototype.kind,e}(Da.CommonMsupMixin(Sa.CHTMLscriptbase));wa.CHTMLmsup=Xa;var qa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xa(e,t),e.prototype.markUsed=function(){t.prototype.markUsed.call(this),e.used=!0},e.prototype.toCHTML=function(t){var e=this.adaptor,r=this.standardCHTMLnode(t),n=Ea([this.baseChild,this.supChild,this.subChild],3),i=n[0],o=n[1],s=n[2],a=Ea(this.getUVQ(),3),l=a[1],c=a[2],u={"vertical-align":this.em(l)};i.toCHTML(r);var h=e.append(r,this.html("mjx-script",{style:u}));o.toCHTML(h),e.append(h,this.html("mjx-spacer",{style:{"margin-top":this.em(c)}})),s.toCHTML(h);var d=this.getAdjustedIc();d&&e.setStyle(o.chtml,"marginLeft",this.em(d/o.bbox.rscale)),this.baseRemoveIc&&e.setStyle(h,"marginLeft",this.em(-this.baseIc))},e.kind=Na.MmlMsubsup.prototype.kind,e.styles={"mjx-script":{display:"inline-block","padding-right":".05em","padding-left":".033em"},"mjx-script > *":{display:"block"}},e}(Da.CommonMsubsupMixin(Sa.CHTMLscriptbase));wa.CHTMLmsubsup=qa;var Ga={},Ua=Ga&&Ga.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Ga,"__esModule",{value:!0}),Ga.CHTMLmunderover=Ga.CHTMLmover=Ga.CHTMLmunder=void 0;var Ka={},Ja=Ka&&Ka.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qa=Ka&&Ka.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},Ya=Ka&&Ka.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(Ka,"__esModule",{value:!0}),Ka.CommonMunderoverMixin=Ka.CommonMoverMixin=Ka.CommonMunderMixin=void 0,Ka.CommonMunderMixin=function(t){return function(t){function e(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=t.apply(this,Ya([],Qa(e)))||this;return n.stretchChildren(),n}return Ja(e,t),Object.defineProperty(e.prototype,"scriptChild",{get:function(){return this.childNodes[this.node.under]},enumerable:!1,configurable:!0}),e.prototype.computeBBox=function(e,r){if(void 0===r&&(r=!1),this.hasMovableLimits())t.prototype.computeBBox.call(this,e,r);else{e.empty();var n=this.baseChild.getBBox(),i=this.scriptChild.getBBox(),o=this.getUnderKV(n,i)[1],s=this.isLineBelow?0:this.getDelta(!0),a=Qa(this.getDeltaW([n,i],[0,-s]),2),l=a[0],c=a[1];e.combine(n,l,0),e.combine(i,c,o),e.d+=this.font.params.big_op_spacing5,e.clean(),this.setChildPWidths(r)}},e}(t)},Ka.CommonMoverMixin=function(t){return function(t){function e(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=t.apply(this,Ya([],Qa(e)))||this;return n.stretchChildren(),n}return Ja(e,t),Object.defineProperty(e.prototype,"scriptChild",{get:function(){return this.childNodes[this.node.over]},enumerable:!1,configurable:!0}),e.prototype.computeBBox=function(e){if(this.hasMovableLimits())t.prototype.computeBBox.call(this,e);else{e.empty();var r=this.baseChild.getBBox(),n=this.scriptChild.getBBox(),i=this.getOverKU(r,n)[1],o=this.isLineAbove?0:this.getDelta(),s=Qa(this.getDeltaW([r,n],[0,o]),2),a=s[0],l=s[1];e.combine(r,a,0),e.combine(n,l,i),e.h+=this.font.params.big_op_spacing5,e.clean()}},e}(t)},Ka.CommonMunderoverMixin=function(t){return function(t){function e(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=t.apply(this,Ya([],Qa(e)))||this;return n.stretchChildren(),n}return Ja(e,t),Object.defineProperty(e.prototype,"underChild",{get:function(){return this.childNodes[this.node.under]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"overChild",{get:function(){return this.childNodes[this.node.over]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"subChild",{get:function(){return this.underChild},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"supChild",{get:function(){return this.overChild},enumerable:!1,configurable:!0}),e.prototype.computeBBox=function(e){if(this.hasMovableLimits())t.prototype.computeBBox.call(this,e);else{e.empty();var r=this.overChild.getBBox(),n=this.baseChild.getBBox(),i=this.underChild.getBBox(),o=this.getOverKU(n,r)[1],s=this.getUnderKV(n,i)[1],a=this.getDelta(),l=Qa(this.getDeltaW([n,i,r],[0,this.isLineBelow?0:-a,this.isLineAbove?0:a]),3),c=l[0],u=l[1],h=l[2];e.combine(n,c,0),e.combine(r,h,o),e.combine(i,u,s);var d=this.font.params.big_op_spacing5;e.h+=d,e.d+=d,e.clean()}},e}(t)};var Za={},tl=Za&&Za.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),el=Za&&Za.__assign||function(){return(el=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(Za,"__esModule",{value:!0}),Za.MmlMover=Za.MmlMunder=Za.MmlMunderover=void 0;var rl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return tl(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"munderover"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return 3},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"base",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"under",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"over",{get:function(){return 2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"linebreakContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.setChildInheritedAttributes=function(t,e,r,n){var i=this.childNodes;i[0].setInheritedAttributes(t,e,r,n||!!i[this.over]);var o=!(e||!i[0].coreMO().attributes.get("movablelimits")),s=this.constructor.ACCENTS;i[1].setInheritedAttributes(t,!1,this.getScriptlevel(s[1],o,r),n||1===this.under),this.setInheritedAccent(1,s[1],e,r,n,o),i[2]&&(i[2].setInheritedAttributes(t,!1,this.getScriptlevel(s[2],o,r),n||2===this.under),this.setInheritedAccent(2,s[2],e,r,n,o))},e.prototype.getScriptlevel=function(t,e,r){return!e&&this.attributes.get(t)||r++,r},e.prototype.setInheritedAccent=function(t,e,r,n,i,o){var s=this.childNodes[t];if(null==this.attributes.getExplicit(e)&&s.isEmbellished){var a=s.coreMO().attributes.get("accent");this.attributes.setInherited(e,a),a!==this.attributes.getDefault(e)&&s.setInheritedAttributes({},r,this.getScriptlevel(e,o,n),i)}},e.defaults=el(el({},Y.AbstractMmlBaseNode.defaults),{accent:!1,accentunder:!1,align:"center"}),e.ACCENTS=["","accentunder","accent"],e}(Y.AbstractMmlBaseNode);Za.MmlMunderover=rl;var nl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return tl(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"munder"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return 2},enumerable:!1,configurable:!0}),e.defaults=el({},rl.defaults),e}(rl);Za.MmlMunder=nl;var il=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return tl(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"mover"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return 2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"over",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"under",{get:function(){return 2},enumerable:!1,configurable:!0}),e.defaults=el({},rl.defaults),e.ACCENTS=["","accent","accentunder"],e}(rl);Za.MmlMover=il;var ol=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ua(e,t),e.prototype.toCHTML=function(e){if(this.hasMovableLimits())return t.prototype.toCHTML.call(this,e),void this.adaptor.setAttribute(this.chtml,"limits","false");this.chtml=this.standardCHTMLnode(e);var r=this.adaptor.append(this.adaptor.append(this.chtml,this.html("mjx-row")),this.html("mjx-base")),n=this.adaptor.append(this.adaptor.append(this.chtml,this.html("mjx-row")),this.html("mjx-under"));this.baseChild.toCHTML(r),this.scriptChild.toCHTML(n);var i=this.baseChild.getBBox(),o=this.scriptChild.getBBox(),s=this.getUnderKV(i,o)[0],a=this.isLineBelow?0:this.getDelta(!0);this.adaptor.setStyle(n,"paddingTop",this.em(s)),this.setDeltaW([r,n],this.getDeltaW([i,o],[0,-a])),this.adjustUnderDepth(n,o)},e.kind=Za.MmlMunder.prototype.kind,e.styles={"mjx-over":{"text-align":"left"},'mjx-munder:not([limits="false"])':{display:"inline-table"},"mjx-munder > mjx-row":{"text-align":"left"},"mjx-under":{"padding-bottom":".1em"}},e}(Ka.CommonMunderMixin(wa.CHTMLmsub));Ga.CHTMLmunder=ol;var sl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ua(e,t),e.prototype.toCHTML=function(e){if(this.hasMovableLimits())return t.prototype.toCHTML.call(this,e),void this.adaptor.setAttribute(this.chtml,"limits","false");this.chtml=this.standardCHTMLnode(e);var r=this.adaptor.append(this.chtml,this.html("mjx-over")),n=this.adaptor.append(this.chtml,this.html("mjx-base"));this.scriptChild.toCHTML(r),this.baseChild.toCHTML(n);var i=this.scriptChild.getBBox(),o=this.baseChild.getBBox(),s=this.getOverKU(o,i)[0],a=this.isLineAbove?0:this.getDelta();this.adaptor.setStyle(r,"paddingBottom",this.em(s)),this.setDeltaW([n,r],this.getDeltaW([o,i],[0,a])),this.adjustOverDepth(r,i)},e.kind=Za.MmlMover.prototype.kind,e.styles={'mjx-mover:not([limits="false"])':{"padding-top":".1em"},'mjx-mover:not([limits="false"]) > *':{display:"block","text-align":"left"}},e}(Ka.CommonMoverMixin(wa.CHTMLmsup));Ga.CHTMLmover=sl;var al=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ua(e,t),e.prototype.toCHTML=function(e){if(this.hasMovableLimits())return t.prototype.toCHTML.call(this,e),void this.adaptor.setAttribute(this.chtml,"limits","false");this.chtml=this.standardCHTMLnode(e);var r=this.adaptor.append(this.chtml,this.html("mjx-over")),n=this.adaptor.append(this.adaptor.append(this.chtml,this.html("mjx-box")),this.html("mjx-munder")),i=this.adaptor.append(this.adaptor.append(n,this.html("mjx-row")),this.html("mjx-base")),o=this.adaptor.append(this.adaptor.append(n,this.html("mjx-row")),this.html("mjx-under"));this.overChild.toCHTML(r),this.baseChild.toCHTML(i),this.underChild.toCHTML(o);var s=this.overChild.getBBox(),a=this.baseChild.getBBox(),l=this.underChild.getBBox(),c=this.getOverKU(a,s)[0],u=this.getUnderKV(a,l)[0],h=this.getDelta();this.adaptor.setStyle(r,"paddingBottom",this.em(c)),this.adaptor.setStyle(o,"paddingTop",this.em(u)),this.setDeltaW([i,o,r],this.getDeltaW([a,l,s],[0,this.isLineBelow?0:-h,this.isLineAbove?0:h])),this.adjustOverDepth(r,s),this.adjustUnderDepth(o,l)},e.kind=Za.MmlMunderover.prototype.kind,e.styles={'mjx-munderover:not([limits="false"])':{"padding-top":".1em"},'mjx-munderover:not([limits="false"]) > *':{display:"block"}},e}(Ka.CommonMunderoverMixin(wa.CHTMLmsubsup));Ga.CHTMLmunderover=al;var ll={},cl=ll&&ll.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ul=ll&&ll.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s};Object.defineProperty(ll,"__esModule",{value:!0}),ll.CHTMLmmultiscripts=void 0;var hl={},dl=hl&&hl.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),fl=hl&&hl.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},pl=hl&&hl.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t},ml=hl&&hl.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(hl,"__esModule",{value:!0}),hl.CommonMmultiscriptsMixin=hl.ScriptNames=hl.NextScript=void 0,hl.NextScript={base:"subList",subList:"supList",supList:"subList",psubList:"psupList",psupList:"psubList"},hl.ScriptNames=["sup","sup","psup","psub"],hl.CommonMmultiscriptsMixin=function(t){return function(t){function e(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=t.apply(this,pl([],fl(e)))||this;return n.scriptData=null,n.firstPrescript=0,n.getScriptData(),n}return dl(e,t),e.prototype.combinePrePost=function(t,e){var r=new di.BBox(t);return r.combine(e,0,0),r},e.prototype.computeBBox=function(t,e){void 0===e&&(e=!1);var r=this.font.params.scriptspace,n=this.scriptData,i=this.combinePrePost(n.sub,n.psub),o=this.combinePrePost(n.sup,n.psup),s=fl(this.getUVQ(i,o),2),a=s[0],l=s[1];if(t.empty(),n.numPrescripts&&(t.combine(n.psup,r,a),t.combine(n.psub,r,l)),t.append(n.base),n.numScripts){var c=t.w;t.combine(n.sup,c,a),t.combine(n.sub,c,l),t.w+=r}t.clean(),this.setChildPWidths(e)},e.prototype.getScriptData=function(){var t=this.scriptData={base:null,sub:di.BBox.empty(),sup:di.BBox.empty(),psub:di.BBox.empty(),psup:di.BBox.empty(),numPrescripts:0,numScripts:0},e=this.getScriptBBoxLists();this.combineBBoxLists(t.sub,t.sup,e.subList,e.supList),this.combineBBoxLists(t.psub,t.psup,e.psubList,e.psupList),t.base=e.base[0],t.numPrescripts=e.psubList.length,t.numScripts=e.subList.length},e.prototype.getScriptBBoxLists=function(){var t,e,r={base:[],subList:[],supList:[],psubList:[],psupList:[]},n="base";try{for(var i=ml(this.childNodes),o=i.next();!o.done;o=i.next()){var s=o.value;s.node.isKind("mprescripts")?n="psubList":(r[n].push(s.getBBox()),n=hl.NextScript[n])}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return this.firstPrescript=r.subList.length+r.supList.length+2,this.padLists(r.subList,r.supList),this.padLists(r.psubList,r.psupList),r},e.prototype.padLists=function(t,e){t.length>e.length&&e.push(di.BBox.empty())},e.prototype.combineBBoxLists=function(t,e,r,n){for(var i=0;i<r.length;i++){var o=fl(this.getScaledWHD(r[i]),3),s=o[0],a=o[1],l=o[2],c=fl(this.getScaledWHD(n[i]),3),u=c[0],h=c[1],d=c[2],f=Math.max(s,u);t.w+=f,e.w+=f,a>t.h&&(t.h=a),l>t.d&&(t.d=l),h>e.h&&(e.h=h),d>e.d&&(e.d=d)}},e.prototype.getScaledWHD=function(t){var e=t.w,r=t.h,n=t.d,i=t.rscale;return[e*i,r*i,n*i]},e.prototype.getUVQ=function(e,r){var n;if(!this.UVQ){var i=fl([0,0,0],3),o=i[0],s=i[1],a=i[2];0===e.h&&0===e.d?o=this.getU():0===r.h&&0===r.d?o=-this.getV():(o=(n=fl(t.prototype.getUVQ.call(this,e,r),3))[0],s=n[1],a=n[2]),this.UVQ=[o,s,a]}return this.UVQ},e}(t)};var gl={},yl=gl&&gl.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),vl=gl&&gl.__assign||function(){return(vl=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(gl,"__esModule",{value:!0}),gl.MmlNone=gl.MmlMprescripts=gl.MmlMmultiscripts=void 0;var bl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return yl(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"mmultiscripts"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return 1},enumerable:!1,configurable:!0}),e.prototype.setChildInheritedAttributes=function(t,e,r,n){this.childNodes[0].setInheritedAttributes(t,e,r,n);for(var i=!1,o=1,s=0;o<this.childNodes.length;o++){var a=this.childNodes[o];if(a.isKind("mprescripts")){if(!i&&(i=!0,o%2==0)){var l=this.factory.create("mrow");this.childNodes.splice(o,0,l),l.parent=this,o++}}else{var c=n||s%2==0;a.setInheritedAttributes(t,!1,r+1,c),s++}}this.childNodes.length%2==(i?1:0)&&(this.appendChild(this.factory.create("mrow")),this.childNodes[this.childNodes.length-1].setInheritedAttributes(t,!1,r+1,n))},e.prototype.verifyChildren=function(e){for(var r=!1,n=e.fixMmultiscripts,i=0;i<this.childNodes.length;i++){var o=this.childNodes[i];o.isKind("mprescripts")&&(r?o.mError(o.kind+" can only appear once in "+this.kind,e,!0):(r=!0,i%2!=0||n||this.mError("There must be an equal number of prescripts of each type",e)))}this.childNodes.length%2!=(r?1:0)||n||this.mError("There must be an equal number of scripts of each type",e),t.prototype.verifyChildren.call(this,e)},e.defaults=vl({},Na.MmlMsubsup.defaults),e}(Na.MmlMsubsup);gl.MmlMmultiscripts=bl;var Al=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return yl(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"mprescripts"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return 0},enumerable:!1,configurable:!0}),e.prototype.verifyTree=function(e){t.prototype.verifyTree.call(this,e),this.parent&&!this.parent.isKind("mmultiscripts")&&this.mError(this.kind+" must be a child of mmultiscripts",e,!0)},e.defaults=vl({},Y.AbstractMmlNode.defaults),e}(Y.AbstractMmlNode);gl.MmlMprescripts=Al;var Cl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return yl(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"none"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return 0},enumerable:!1,configurable:!0}),e.prototype.verifyTree=function(e){t.prototype.verifyTree.call(this,e),this.parent&&!this.parent.isKind("mmultiscripts")&&this.mError(this.kind+" must be a child of mmultiscripts",e,!0)},e.defaults=vl({},Y.AbstractMmlNode.defaults),e}(Y.AbstractMmlNode);gl.MmlNone=Cl;var wl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return cl(e,t),e.prototype.toCHTML=function(t){var e=this.standardCHTMLnode(t),r=this.scriptData,n=this.combinePrePost(r.sub,r.psub),i=this.combinePrePost(r.sup,r.psup),o=ul(this.getUVQ(n,i),2),s=o[0],a=o[1];r.numPrescripts&&this.addScripts(s,-a,!0,r.psub,r.psup,this.firstPrescript,r.numPrescripts),this.childNodes[0].toCHTML(e),r.numScripts&&this.addScripts(s,-a,!1,r.sub,r.sup,1,r.numScripts)},e.prototype.addScripts=function(t,e,r,n,i,o,s){var a=this.adaptor,l=t-i.d+(e-n.h),c=t<0&&0===e?n.h+t:t,u=l>0?{style:{height:this.em(l)}}:{},h=c?{style:{"vertical-align":this.em(c)}}:{},d=this.html("mjx-row"),f=this.html("mjx-row",u),p=this.html("mjx-row"),m="mjx-"+(r?"pre":"")+"scripts";a.append(this.chtml,this.html(m,h,[d,f,p]));for(var g=o+2*s;o<g;)this.childNodes[o++].toCHTML(a.append(p,this.html("mjx-cell"))),this.childNodes[o++].toCHTML(a.append(d,this.html("mjx-cell")))},e.kind=gl.MmlMmultiscripts.prototype.kind,e.styles={"mjx-prescripts":{display:"inline-table","padding-left":".05em"},"mjx-scripts":{display:"inline-table","padding-right":".05em"},"mjx-prescripts > mjx-row > mjx-cell":{"text-align":"right"}},e}(hl.CommonMmultiscriptsMixin(wa.CHTMLmsubsup));ll.CHTMLmmultiscripts=wl;var xl={},El=xl&&xl.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Sl=xl&&xl.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ml=xl&&xl.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s};Object.defineProperty(xl,"__esModule",{value:!0}),xl.CHTMLmtable=void 0;var Ol={},_l=Ol&&Ol.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Tl=Ol&&Ol.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},Fl=Ol&&Ol.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t},Bl=Ol&&Ol.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Ol,"__esModule",{value:!0}),Ol.CommonMtableMixin=void 0;var Ll={};Object.defineProperty(Ll,"__esModule",{value:!0}),Ll.max=Ll.sum=void 0,Ll.sum=function(t){return t.reduce((function(t,e){return t+e}),0)},Ll.max=function(t){return t.reduce((function(t,e){return Math.max(t,e)}),0)},Ol.CommonMtableMixin=function(t){return function(t){function e(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=t.apply(this,Fl([],Tl(e)))||this;n.numCols=0,n.numRows=0,n.data=null,n.pwidthCells=[],n.pWidth=0,n.numCols=Ll.max(n.tableRows.map((function(t){return t.numCells}))),n.numRows=n.childNodes.length,n.hasLabels=n.childNodes.reduce((function(t,e){return t||e.node.isKind("mlabeledtr")}),!1),n.findContainer(),n.isTop=!n.container||n.container.node.isKind("math")&&!n.container.parent,n.isTop&&(n.jax.table=n),n.getPercentageWidth();var i=n.node.attributes;return n.frame="none"!==i.get("frame"),n.fLine=n.frame?.07:0,n.fSpace=n.frame?n.convertLengths(n.getAttributeArray("framespacing")):[0,0],n.cSpace=n.convertLengths(n.getColumnAttributes("columnspacing")),n.rSpace=n.convertLengths(n.getRowAttributes("rowspacing")),n.cLines=n.getColumnAttributes("columnlines").map((function(t){return"none"===t?0:.07})),n.rLines=n.getRowAttributes("rowlines").map((function(t){return"none"===t?0:.07})),n.cWidths=n.getColumnWidths(),n.stretchRows(),n.stretchColumns(),n}return _l(e,t),Object.defineProperty(e.prototype,"tableRows",{get:function(){return this.childNodes},enumerable:!1,configurable:!0}),e.prototype.findContainer=function(){for(var t=this,e=t.parent;e&&(e.node.notParent||e.node.isKind("mrow"));)t=e,e=e.parent;this.container=e,this.containerI=t.node.childPosition()},e.prototype.getPercentageWidth=function(){if(this.hasLabels)this.bbox.pwidth=di.BBox.fullWidth;else{var t=this.node.attributes.get("width");V.isPercent(t)&&(this.bbox.pwidth=t)}},e.prototype.stretchRows=function(){for(var t=this.node.attributes.get("equalrows"),e=t?this.getEqualRowHeight():0,r=t?this.getTableData():{H:[0],D:[0]},n=r.H,i=r.D,o=this.tableRows,s=0;s<this.numRows;s++){var a=t?[(e+n[s]-i[s])/2,(e-n[s]+i[s])/2]:null;o[s].stretchChildren(a)}},e.prototype.stretchColumns=function(){for(var t=0;t<this.numCols;t++){var e="number"==typeof this.cWidths[t]?this.cWidths[t]:null;this.stretchColumn(t,e)}},e.prototype.stretchColumn=function(t,e){var r,n,i,o,s,a,l=[];try{for(var c=Bl(this.tableRows),u=c.next();!u.done;u=c.next()){if(g=u.value.getChild(t))0===(C=g.childNodes[0]).stretch.dir&&C.canStretch(2)&&l.push(C)}}catch(t){r={error:t}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}var h=l.length,d=this.childNodes.length;if(h&&d>1){if(null===e){e=0;var f=h>1&&h===d;try{for(var p=Bl(this.tableRows),m=p.next();!m.done;m=p.next()){var g;if(g=m.value.getChild(t)){var y=0===(C=g.childNodes[0]).stretch.dir;if(f||y){var v=C.getBBox(y).w;v>e&&(e=v)}}}}catch(t){i={error:t}}finally{try{m&&!m.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}}try{for(var b=Bl(l),A=b.next();!A.done;A=b.next()){var C;(C=A.value).coreMO().getStretchedVariant([e])}}catch(t){s={error:t}}finally{try{A&&!A.done&&(a=b.return)&&a.call(b)}finally{if(s)throw s.error}}}},e.prototype.getTableData=function(){if(this.data)return this.data;for(var t=new Array(this.numRows).fill(0),e=new Array(this.numRows).fill(0),r=new Array(this.numCols).fill(0),n=new Array(this.numRows),i=new Array(this.numRows),o=[0],s=this.tableRows,a=0;a<s.length;a++){for(var l=0,c=s[a],u=c.node.attributes.get("rowalign"),h=0;h<c.numCells;h++){var d=c.getChild(h);l=this.updateHDW(d,h,a,u,t,e,r,l),this.recordPWidthCell(d,h)}n[a]=t[a],i[a]=e[a],c.labeled&&(l=this.updateHDW(c.childNodes[0],0,a,u,t,e,o,l)),this.extendHD(a,t,e,l),this.extendHD(a,n,i,l)}var f=o[0];return this.data={H:t,D:e,W:r,NH:n,ND:i,L:f},this.data},e.prototype.updateHDW=function(t,e,r,n,i,o,s,a){var l=t.getBBox(),c=l.h,u=l.d,h=l.w,d=t.parent.bbox.rscale;1!==t.parent.bbox.rscale&&(c*=d,u*=d,h*=d),this.node.getProperty("useHeight")&&(c<.75&&(c=.75),u<.25&&(u=.25));var f=0;return"baseline"!==(n=t.node.attributes.get("rowalign")||n)&&"axis"!==n&&(f=c+u,c=u=0),c>i[r]&&(i[r]=c),u>o[r]&&(o[r]=u),f>a&&(a=f),s&&h>s[e]&&(s[e]=h),a},e.prototype.extendHD=function(t,e,r,n){var i=(n-(e[t]+r[t]))/2;i<1e-5||(e[t]+=i,r[t]+=i)},e.prototype.recordPWidthCell=function(t,e){t.childNodes[0]&&t.childNodes[0].getBBox().pwidth&&this.pwidthCells.push([t,e])},e.prototype.computeBBox=function(t,e){void 0===e&&(e=!1);var r,n,i=this.getTableData(),o=i.H,s=i.D;if(this.node.attributes.get("equalrows")){var a=this.getEqualRowHeight();r=Ll.sum([].concat(this.rLines,this.rSpace))+a*this.numRows}else r=Ll.sum(o.concat(s,this.rLines,this.rSpace));r+=2*(this.fLine+this.fSpace[1]);var l=this.getComputedWidths();n=Ll.sum(l.concat(this.cLines,this.cSpace))+2*(this.fLine+this.fSpace[0]);var c=this.node.attributes.get("width");"auto"!==c&&(n=Math.max(this.length2em(c,0)+2*this.fLine,n));var u=Tl(this.getBBoxHD(r),2),h=u[0],d=u[1];t.h=h,t.d=d,t.w=n;var f=Tl(this.getBBoxLR(),2),p=f[0],m=f[1];t.L=p,t.R=m,V.isPercent(c)||this.setColumnPWidths()},e.prototype.setChildPWidths=function(t,e,r){var n=this.node.attributes.get("width");if(!V.isPercent(n))return!1;this.hasLabels||(this.bbox.pwidth="",this.container.bbox.pwidth="");var i=this.bbox,o=i.w,s=i.L,a=i.R,l=Math.max(o,this.length2em(n,Math.max(e,s+o+a))),c=this.node.attributes.get("equalcolumns")?Array(this.numCols).fill(this.percent(1/Math.max(1,this.numCols))):this.getColumnAttributes("columnwidth",0);this.cWidths=this.getColumnWidthsFixed(c,l);var u=this.getComputedWidths();return this.pWidth=Ll.sum(u.concat(this.cLines,this.cSpace))+2*(this.fLine+this.fSpace[0]),this.isTop&&(this.bbox.w=this.pWidth),this.setColumnPWidths(),this.pWidth!==o&&this.parent.invalidateBBox(),this.pWidth!==o},e.prototype.setColumnPWidths=function(){var t,e,r=this.cWidths;try{for(var n=Bl(this.pwidthCells),i=n.next();!i.done;i=n.next()){var o=Tl(i.value,2),s=o[0],a=o[1];s.setChildPWidths(!1,r[a])&&(s.invalidateBBox(),s.getBBox())}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},e.prototype.getBBoxHD=function(t){var e=Tl(this.getAlignmentRow(),2),r=e[0],n=e[1];if(null===n){var i=this.font.params.axis_height,o=t/2;return{top:[0,t],center:[o,o],bottom:[t,0],baseline:[o,o],axis:[o+i,o-i]}[r]||[o,o]}var s=this.getVerticalPosition(n,r);return[s,t-s]},e.prototype.getBBoxLR=function(){if(this.hasLabels){var t=this.node.attributes.get("side"),e=Tl(this.getPadAlignShift(t),2),r=e[0];return"center"===e[1]?[r,r]:"left"===t?[r,0]:[0,r]}return[0,0]},e.prototype.getPadAlignShift=function(t){var e=this.getTableData().L+this.length2em(this.node.attributes.get("minlabelspacing")),r=Tl(null==this.styles?["",""]:[this.styles.get("padding-left"),this.styles.get("padding-right")],2),n=r[0],i=r[1];(n||i)&&(e=Math.max(e,this.length2em(n||"0"),this.length2em(i||"0")));var o=Tl(this.getAlignShift(),2),s=o[0],a=o[1];return s===t&&(a="left"===t?Math.max(e,a)-e:Math.min(-e,a)+e),[e,s,a]},e.prototype.getAlignShift=function(){return this.isTop?t.prototype.getAlignShift.call(this):[this.container.getChildAlign(this.containerI),0]},e.prototype.getWidth=function(){return this.pWidth||this.getBBox().w},e.prototype.getEqualRowHeight=function(){var t=this.getTableData(),e=t.H,r=t.D,n=Array.from(e.keys()).map((function(t){return e[t]+r[t]}));return Math.max.apply(Math,n)},e.prototype.getComputedWidths=function(){var t=this,e=this.getTableData().W,r=Array.from(e.keys()).map((function(r){return"number"==typeof t.cWidths[r]?t.cWidths[r]:e[r]}));return this.node.attributes.get("equalcolumns")&&(r=Array(r.length).fill(Ll.max(r))),r},e.prototype.getColumnWidths=function(){var t=this.node.attributes.get("width");if(this.node.attributes.get("equalcolumns"))return this.getEqualColumns(t);var e=this.getColumnAttributes("columnwidth",0);return"auto"===t?this.getColumnWidthsAuto(e):V.isPercent(t)?this.getColumnWidthsPercent(e):this.getColumnWidthsFixed(e,this.length2em(t))},e.prototype.getEqualColumns=function(t){var e,r=Math.max(1,this.numCols);if("auto"===t){var n=this.getTableData().W;e=Ll.max(n)}else if(V.isPercent(t))e=this.percent(1/r);else{var i=Ll.sum([].concat(this.cLines,this.cSpace))+2*this.fSpace[0];e=Math.max(0,this.length2em(t)-i)/r}return Array(this.numCols).fill(e)},e.prototype.getColumnWidthsAuto=function(t){var e=this;return t.map((function(t){return"auto"===t||"fit"===t?null:V.isPercent(t)?t:e.length2em(t)}))},e.prototype.getColumnWidthsPercent=function(t){var e=this,r=t.indexOf("fit")>=0,n=(r?this.getTableData():{W:null}).W;return Array.from(t.keys()).map((function(i){var o=t[i];return"fit"===o?null:"auto"===o?r?n[i]:null:V.isPercent(o)?o:e.length2em(o)}))},e.prototype.getColumnWidthsFixed=function(t,e){var r=this,n=Array.from(t.keys()),i=n.filter((function(e){return"fit"===t[e]})),o=n.filter((function(e){return"auto"===t[e]})),s=i.length||o.length,a=(s?this.getTableData():{W:null}).W,l=e-Ll.sum([].concat(this.cLines,this.cSpace))-2*this.fSpace[0],c=l;n.forEach((function(n){var i=t[n];c-="fit"===i||"auto"===i?a[n]:r.length2em(i,e)}));var u=s&&c>0?c/s:0;return n.map((function(e){var n=t[e];return"fit"===n?a[e]+u:"auto"===n?a[e]+(0===i.length?u:0):r.length2em(n,l)}))},e.prototype.getVerticalPosition=function(t,e){for(var r=this.node.attributes.get("equalrows"),n=this.getTableData(),i=n.H,o=n.D,s=r?this.getEqualRowHeight():0,a=this.getRowHalfSpacing(),l=this.fLine,c=0;c<t;c++)l+=a[c]+(r?s:i[c]+o[c])+a[c+1]+this.rLines[c];var u=Tl(r?[(s+i[t]-o[t])/2,(s-i[t]+o[t])/2]:[i[t],o[t]],2),h=u[0],d=u[1];return l+={top:0,center:a[t]+(h+d)/2,bottom:a[t]+h+d+a[t+1],baseline:a[t]+h,axis:a[t]+h-.25}[e]||0},e.prototype.getEmHalfSpacing=function(t,e,r){void 0===r&&(r=1);var n=this.em(t*r),i=this.addEm(e,2/r);return i.unshift(n),i.push(n),i},e.prototype.getRowHalfSpacing=function(){var t=this.rSpace.map((function(t){return t/2}));return t.unshift(this.fSpace[1]),t.push(this.fSpace[1]),t},e.prototype.getColumnHalfSpacing=function(){var t=this.cSpace.map((function(t){return t/2}));return t.unshift(this.fSpace[0]),t.push(this.fSpace[0]),t},e.prototype.getAlignmentRow=function(){var t=Tl(V.split(this.node.attributes.get("align")),2),e=t[0],r=t[1];if(null==r)return[e,null];var n=parseInt(r);return n<0&&(n+=this.numRows+1),[e,n<1||n>this.numRows?null:n-1]},e.prototype.getColumnAttributes=function(t,e){void 0===e&&(e=1);var r=this.numCols-e,n=this.getAttributeArray(t);if(0===n.length)return null;for(;n.length<r;)n.push(n[n.length-1]);return n.length>r&&n.splice(r),n},e.prototype.getRowAttributes=function(t,e){void 0===e&&(e=1);var r=this.numRows-e,n=this.getAttributeArray(t);if(0===n.length)return null;for(;n.length<r;)n.push(n[n.length-1]);return n.length>r&&n.splice(r),n},e.prototype.getAttributeArray=function(t){var e=this.node.attributes.get(t);return e?V.split(e):[this.node.attributes.getDefault(t)]},e.prototype.addEm=function(t,e){var r=this;return void 0===e&&(e=1),t?t.map((function(t){return r.em(t/e)})):null},e.prototype.convertLengths=function(t){var e=this;return t?t.map((function(t){return e.length2em(t)})):null},e}(t)};var kl={},Rl=kl&&kl.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Dl=kl&&kl.__assign||function(){return(Dl=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Pl=kl&&kl.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(kl,"__esModule",{value:!0}),kl.MmlMtable=void 0;var Il=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.properties={useHeight:!0},e.texclass=Y.TEXCLASS.ORD,e}return Rl(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"mtable"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"linebreakContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.setInheritedAttributes=function(e,r,n,i){var o,s;try{for(var a=Pl(Y.indentAttributes),l=a.next();!l.done;l=a.next()){var c=l.value;e[c]&&this.attributes.setInherited(c,e[c][1]),void 0!==this.attributes.getExplicit(c)&&delete this.attributes.getAllAttributes()[c]}}catch(t){o={error:t}}finally{try{l&&!l.done&&(s=a.return)&&s.call(a)}finally{if(o)throw o.error}}t.prototype.setInheritedAttributes.call(this,e,r,n,i)},e.prototype.setChildInheritedAttributes=function(t,e,r,n){var i,o,s,a;try{for(var l=Pl(this.childNodes),c=l.next();!c.done;c=l.next()){(f=c.value).isKind("mtr")||this.replaceChild(this.factory.create("mtr"),f).appendChild(f)}}catch(t){i={error:t}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}r=this.getProperty("scriptlevel")||r,e=!(!this.attributes.getExplicit("displaystyle")&&!this.attributes.getDefault("displaystyle")),t=this.addInheritedAttributes(t,{columnalign:this.attributes.get("columnalign"),rowalign:"center"});var u=V.split(this.attributes.get("rowalign"));try{for(var h=Pl(this.childNodes),d=h.next();!d.done;d=h.next()){var f=d.value;t.rowalign[1]=u.shift()||t.rowalign[1],f.setInheritedAttributes(t,e,r,n)}}catch(t){s={error:t}}finally{try{d&&!d.done&&(a=h.return)&&a.call(h)}finally{if(s)throw s.error}}},e.prototype.verifyChildren=function(e){var r,n;if(!e.fixMtables)try{for(var i=Pl(this.childNodes),o=i.next();!o.done;o=i.next()){o.value.isKind("mtr")||this.mError("Children of "+this.kind+" must be mtr or mlabeledtr",e)}}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}t.prototype.verifyChildren.call(this,e)},e.prototype.setTeXclass=function(t){var e,r;this.getPrevClass(t);try{for(var n=Pl(this.childNodes),i=n.next();!i.done;i=n.next()){i.value.setTeXclass(null)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return this},e.defaults=Dl(Dl({},Y.AbstractMmlNode.defaults),{align:"axis",rowalign:"baseline",columnalign:"center",groupalign:"{left}",alignmentscope:!0,columnwidth:"auto",width:"auto",rowspacing:"1ex",columnspacing:".8em",rowlines:"none",columnlines:"none",frame:"none",framespacing:"0.4em 0.5ex",equalrows:!1,equalcolumns:!1,displaystyle:!1,side:"right",minlabelspacing:"0.8em"}),e}(Y.AbstractMmlNode);kl.MmlMtable=Il;var Nl=function(t){function e(e,r,n){void 0===n&&(n=null);var i=t.call(this,e,r,n)||this;return i.itable=i.html("mjx-itable"),i.labels=i.html("mjx-itable"),i}return El(e,t),e.prototype.getAlignShift=function(){var e=t.prototype.getAlignShift.call(this);return this.isTop||(e[1]=0),e},e.prototype.toCHTML=function(t){var e,r,n=this.standardCHTMLnode(t);this.adaptor.append(n,this.html("mjx-table",{},[this.itable]));try{for(var i=Sl(this.childNodes),o=i.next();!o.done;o=i.next()){o.value.toCHTML(this.itable)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}this.padRows(),this.handleColumnSpacing(),this.handleColumnLines(),this.handleColumnWidths(),this.handleRowSpacing(),this.handleRowLines(),this.handleRowHeights(),this.handleFrame(),this.handleWidth(),this.handleLabels(),this.handleAlign(),this.handleJustify(),this.shiftColor()},e.prototype.shiftColor=function(){var t=this.adaptor,e=t.getStyle(this.chtml,"backgroundColor");e&&(t.setStyle(this.chtml,"backgroundColor",""),t.setStyle(this.itable,"backgroundColor",e))},e.prototype.padRows=function(){var t,e,r=this.adaptor;try{for(var n=Sl(r.childNodes(this.itable)),i=n.next();!i.done;i=n.next())for(var o=i.value;r.childNodes(o).length<this.numCols;)r.append(o,this.html("mjx-mtd"))}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},e.prototype.handleColumnSpacing=function(){var t,e,r,n,i=this.childNodes[0]?1/this.childNodes[0].getBBox().rscale:1,o=this.getEmHalfSpacing(this.fSpace[0],this.cSpace,i),s=this.frame;try{for(var a=Sl(this.tableRows),l=a.next();!l.done;l=a.next()){var c=l.value,u=0;try{for(var h=(r=void 0,Sl(c.tableCells)),d=h.next();!d.done;d=h.next()){var f=d.value,p=o[u++],m=o[u],g=f?f.chtml:this.adaptor.childNodes(c.chtml)[u];(u>1&&"0.4em"!==p||s&&1===u)&&this.adaptor.setStyle(g,"paddingLeft",p),(u<this.numCols&&"0.4em"!==m||s&&u===this.numCols)&&this.adaptor.setStyle(g,"paddingRight",m)}}catch(t){r={error:t}}finally{try{d&&!d.done&&(n=h.return)&&n.call(h)}finally{if(r)throw r.error}}}}catch(e){t={error:e}}finally{try{l&&!l.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}},e.prototype.handleColumnLines=function(){var t,e,r,n;if("none"!==this.node.attributes.get("columnlines")){var i=this.getColumnAttributes("columnlines");try{for(var o=Sl(this.childNodes),s=o.next();!s.done;s=o.next()){var a=s.value,l=0;try{for(var c=(r=void 0,Sl(this.adaptor.childNodes(a.chtml).slice(1))),u=c.next();!u.done;u=c.next()){var h=u.value,d=i[l++];"none"!==d&&this.adaptor.setStyle(h,"borderLeft",".07em "+d)}}catch(t){r={error:t}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}}},e.prototype.handleColumnWidths=function(){var t,e,r,n;try{for(var i=Sl(this.childNodes),o=i.next();!o.done;o=i.next()){var s=o.value,a=0;try{for(var l=(r=void 0,Sl(this.adaptor.childNodes(s.chtml))),c=l.next();!c.done;c=l.next()){var u=c.value,h=this.cWidths[a++];if(null!==h){var d="number"==typeof h?this.em(h):h;this.adaptor.setStyle(u,"width",d),this.adaptor.setStyle(u,"maxWidth",d),this.adaptor.setStyle(u,"minWidth",d)}}}catch(t){r={error:t}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},e.prototype.handleRowSpacing=function(){var t,e,r,n,i=this.childNodes[0]?1/this.childNodes[0].getBBox().rscale:1,o=this.getEmHalfSpacing(this.fSpace[1],this.rSpace,i),s=this.frame,a=0;try{for(var l=Sl(this.childNodes),c=l.next();!c.done;c=l.next()){var u=c.value,h=o[a++],d=o[a];try{for(var f=(r=void 0,Sl(u.childNodes)),p=f.next();!p.done;p=f.next()){var m=p.value;(a>1&&"0.215em"!==h||s&&1===a)&&this.adaptor.setStyle(m.chtml,"paddingTop",h),(a<this.numRows&&"0.215em"!==d||s&&a===this.numRows)&&this.adaptor.setStyle(m.chtml,"paddingBottom",d)}}catch(t){r={error:t}}finally{try{p&&!p.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}}}catch(e){t={error:e}}finally{try{c&&!c.done&&(e=l.return)&&e.call(l)}finally{if(t)throw t.error}}},e.prototype.handleRowLines=function(){var t,e,r,n;if("none"!==this.node.attributes.get("rowlines")){var i=this.getRowAttributes("rowlines"),o=0;try{for(var s=Sl(this.childNodes.slice(1)),a=s.next();!a.done;a=s.next()){var l=a.value,c=i[o++];if("none"!==c)try{for(var u=(r=void 0,Sl(this.adaptor.childNodes(l.chtml))),h=u.next();!h.done;h=u.next()){var d=h.value;this.adaptor.setStyle(d,"borderTop",".07em "+c)}}catch(t){r={error:t}}finally{try{h&&!h.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}}},e.prototype.handleRowHeights=function(){this.node.attributes.get("equalrows")&&this.handleEqualRows()},e.prototype.handleEqualRows=function(){for(var t=this.getRowHalfSpacing(),e=this.getTableData(),r=e.H,n=e.D,i=e.NH,o=e.ND,s=this.getEqualRowHeight(),a=0;a<this.numRows;a++){var l=this.childNodes[a];this.setRowHeight(l,s+t[a]+t[a+1]+this.rLines[a]),s!==i[a]+o[a]&&this.setRowBaseline(l,s,(s-r[a]+n[a])/2)}},e.prototype.setRowHeight=function(t,e){this.adaptor.setStyle(t.chtml,"height",this.em(e))},e.prototype.setRowBaseline=function(t,e,r){var n,i,o=t.node.attributes.get("rowalign");try{for(var s=Sl(t.childNodes),a=s.next();!a.done;a=s.next()){var l=a.value;if(this.setCellBaseline(l,o,e,r))break}}catch(t){n={error:t}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},e.prototype.setCellBaseline=function(t,e,r,n){var i=t.node.attributes.get("rowalign");if("baseline"===i||"axis"===i){var o=this.adaptor,s=o.lastChild(t.chtml);o.setStyle(s,"height",this.em(r)),o.setStyle(s,"verticalAlign",this.em(-n));var a=t.parent;if(!(a.node.isKind("mlabeledtr")&&t===a.childNodes[0]||"baseline"!==e&&"axis"!==e))return!0}return!1},e.prototype.handleFrame=function(){this.frame&&this.adaptor.setStyle(this.itable,"border",".07em "+this.node.attributes.get("frame"))},e.prototype.handleWidth=function(){var t=this.adaptor,e=this.getBBox(),r=e.w,n=e.L,i=e.R;t.setStyle(this.chtml,"minWidth",this.em(n+r+i));var o=this.node.attributes.get("width");if(V.isPercent(o))t.setStyle(this.chtml,"width",""),t.setAttribute(this.chtml,"width","full");else if(!this.hasLabels){if("auto"===o)return;o=this.em(this.length2em(o)+2*this.fLine)}var s=t.firstChild(this.chtml);t.setStyle(s,"width",o),t.setStyle(s,"minWidth",this.em(r)),(n||i)&&(t.setStyle(this.chtml,"margin",""),n===i?t.setStyle(s,"margin","0 "+this.em(i)):t.setStyle(s,"margin","0 "+this.em(i)+" 0 "+this.em(n))),t.setAttribute(this.itable,"width","full")},e.prototype.handleAlign=function(){var t=Ml(this.getAlignmentRow(),2),e=t[0],r=t[1];if(null===r)"axis"!==e&&this.adaptor.setAttribute(this.chtml,"align",e);else{var n=this.getVerticalPosition(r,e);this.adaptor.setAttribute(this.chtml,"align","top"),this.adaptor.setStyle(this.chtml,"verticalAlign",this.em(n))}},e.prototype.handleJustify=function(){var t=this.getAlignShift()[0];"center"!==t&&this.adaptor.setAttribute(this.chtml,"justify",t)},e.prototype.handleLabels=function(){if(this.hasLabels){var t=this.labels,e=this.node.attributes,r=this.adaptor,n=e.get("side");r.setAttribute(this.chtml,"side",n),r.setAttribute(t,"align",n),r.setStyle(t,n,"0");var i=Ml(this.addLabelPadding(n),2),o=i[0],s=i[1];if(s){var a=r.firstChild(this.chtml);this.setIndent(a,o,s)}this.updateRowHeights(),this.addLabelSpacing()}},e.prototype.addLabelPadding=function(t){var e=Ml(this.getPadAlignShift(t),3),r=e[1],n=e[2],i={};if("right"===t){var o=this.node.attributes.get("width"),s=this.getBBox(),a=s.w,l=s.L,c=s.R;i.style={width:V.isPercent(o)?"calc("+o+" + "+this.em(l+c)+")":this.em(l+a+c)}}return this.adaptor.append(this.chtml,this.html("mjx-labels",i,[this.labels])),[r,n]},e.prototype.updateRowHeights=function(){for(var t=this.getTableData(),e=t.H,r=t.D,n=t.NH,i=t.ND,o=this.getRowHalfSpacing(),s=0;s<this.numRows;s++){var a=this.childNodes[s];this.setRowHeight(a,e[s]+r[s]+o[s]+o[s+1]+this.rLines[s]),e[s]!==n[s]||r[s]!==i[s]?this.setRowBaseline(a,e[s]+r[s],r[s]):a.node.isKind("mlabeledtr")&&this.setCellBaseline(a.childNodes[0],"",e[s]+r[s],r[s])}},e.prototype.addLabelSpacing=function(){for(var t=this.adaptor,e=this.node.attributes.get("equalrows"),r=this.getTableData(),n=r.H,i=r.D,o=e?this.getEqualRowHeight():0,s=this.getRowHalfSpacing(),a=this.fLine,l=t.firstChild(this.labels),c=0;c<this.numRows;c++){this.childNodes[c].node.isKind("mlabeledtr")?(a&&t.insert(this.html("mjx-mtr",{style:{height:this.em(a)}}),l),t.setStyle(l,"height",this.em((e?o:n[c]+i[c])+s[c]+s[c+1])),l=t.next(l),a=this.rLines[c]):a+=s[c]+(e?o:n[c]+i[c])+s[c+1]+this.rLines[c]}},e.kind=kl.MmlMtable.prototype.kind,e.styles={"mjx-mtable":{"vertical-align":".25em","text-align":"center",position:"relative","box-sizing":"border-box","border-spacing":0,"border-collapse":"collapse"},'mjx-mstyle[size="s"] mjx-mtable':{"vertical-align":".354em"},"mjx-labels":{position:"absolute",left:0,top:0},"mjx-table":{display:"inline-block","vertical-align":"-.5ex"},"mjx-table > mjx-itable":{"vertical-align":"middle","text-align":"left","box-sizing":"border-box"},"mjx-labels > mjx-itable":{position:"absolute",top:0},'mjx-mtable[justify="left"]':{"text-align":"left"},'mjx-mtable[justify="right"]':{"text-align":"right"},'mjx-mtable[justify="left"][side="left"]':{"padding-right":"0 ! important"},'mjx-mtable[justify="left"][side="right"]':{"padding-left":"0 ! important"},'mjx-mtable[justify="right"][side="left"]':{"padding-right":"0 ! important"},'mjx-mtable[justify="right"][side="right"]':{"padding-left":"0 ! important"},"mjx-mtable[align]":{"vertical-align":"baseline"},'mjx-mtable[align="top"] > mjx-table':{"vertical-align":"top"},'mjx-mtable[align="bottom"] > mjx-table':{"vertical-align":"bottom"},'mjx-mtable[side="right"] mjx-labels':{"min-width":"100%"}},e}(Ol.CommonMtableMixin(ei.CHTMLWrapper));xl.CHTMLmtable=Nl;var $l={},jl=$l&&$l.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty($l,"__esModule",{value:!0}),$l.CHTMLmlabeledtr=$l.CHTMLmtr=void 0;var Hl={},Wl=Hl&&Hl.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),zl=Hl&&Hl.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Hl,"__esModule",{value:!0}),Hl.CommonMlabeledtrMixin=Hl.CommonMtrMixin=void 0,Hl.CommonMtrMixin=function(t){return function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Wl(e,t),Object.defineProperty(e.prototype,"fixesPWidth",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"numCells",{get:function(){return this.childNodes.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"labeled",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tableCells",{get:function(){return this.childNodes},enumerable:!1,configurable:!0}),e.prototype.getChild=function(t){return this.childNodes[t]},e.prototype.getChildBBoxes=function(){return this.childNodes.map((function(t){return t.getBBox()}))},e.prototype.stretchChildren=function(t){var e,r,n,i,o,s;void 0===t&&(t=null);var a=[],l=this.labeled?this.childNodes.slice(1):this.childNodes;try{for(var c=zl(l),u=c.next();!u.done;u=c.next()){(E=u.value.childNodes[0]).canStretch(1)&&a.push(E)}}catch(t){e={error:t}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(e)throw e.error}}var h=a.length,d=this.childNodes.length;if(h&&d>1){if(null===t){var f=0,p=0,m=h>1&&h===d;try{for(var g=zl(l),y=g.next();!y.done;y=g.next()){var v=0===(E=y.value.childNodes[0]).stretch.dir;if(m||v){var b=E.getBBox(v),A=b.h,C=b.d;A>f&&(f=A),C>p&&(p=C)}}}catch(t){n={error:t}}finally{try{y&&!y.done&&(i=g.return)&&i.call(g)}finally{if(n)throw n.error}}t=[f,p]}try{for(var w=zl(a),x=w.next();!x.done;x=w.next()){var E;(E=x.value).coreMO().getStretchedVariant(t)}}catch(t){o={error:t}}finally{try{x&&!x.done&&(s=w.return)&&s.call(w)}finally{if(o)throw o.error}}}},e}(t)},Hl.CommonMlabeledtrMixin=function(t){return function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Wl(e,t),Object.defineProperty(e.prototype,"numCells",{get:function(){return Math.max(0,this.childNodes.length-1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"labeled",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tableCells",{get:function(){return this.childNodes.slice(1)},enumerable:!1,configurable:!0}),e.prototype.getChild=function(t){return this.childNodes[t+1]},e.prototype.getChildBBoxes=function(){return this.childNodes.slice(1).map((function(t){return t.getBBox()}))},e}(t)};var Vl={},Xl=Vl&&Vl.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ql=Vl&&Vl.__assign||function(){return(ql=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Gl=Vl&&Vl.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Vl,"__esModule",{value:!0}),Vl.MmlMlabeledtr=Vl.MmlMtr=void 0;var Ul=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Xl(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"mtr"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"linebreakContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.setChildInheritedAttributes=function(t,e,r,n){var i,o,s,a;try{for(var l=Gl(this.childNodes),c=l.next();!c.done;c=l.next()){(f=c.value).isKind("mtd")||this.replaceChild(this.factory.create("mtd"),f).appendChild(f)}}catch(t){i={error:t}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}var u=V.split(this.attributes.get("columnalign"));1===this.arity&&u.unshift(this.parent.attributes.get("side")),t=this.addInheritedAttributes(t,{rowalign:this.attributes.get("rowalign"),columnalign:"center"});try{for(var h=Gl(this.childNodes),d=h.next();!d.done;d=h.next()){var f=d.value;t.columnalign[1]=u.shift()||t.columnalign[1],f.setInheritedAttributes(t,e,r,n)}}catch(t){s={error:t}}finally{try{d&&!d.done&&(a=h.return)&&a.call(h)}finally{if(s)throw s.error}}},e.prototype.verifyChildren=function(e){var r,n;if(!this.parent||this.parent.isKind("mtable")){if(!e.fixMtables)try{for(var i=Gl(this.childNodes),o=i.next();!o.done;o=i.next()){var s=o.value;if(!s.isKind("mtd"))this.replaceChild(this.factory.create("mtr"),s).mError("Children of "+this.kind+" must be mtd",e,!0)}}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}t.prototype.verifyChildren.call(this,e)}else this.mError(this.kind+" can only be a child of an mtable",e,!0)},e.prototype.setTeXclass=function(t){var e,r;this.getPrevClass(t);try{for(var n=Gl(this.childNodes),i=n.next();!i.done;i=n.next()){i.value.setTeXclass(null)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return this},e.defaults=ql(ql({},Y.AbstractMmlNode.defaults),{rowalign:nt.INHERIT,columnalign:nt.INHERIT,groupalign:nt.INHERIT}),e}(Y.AbstractMmlNode);Vl.MmlMtr=Ul;var Kl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Xl(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"mlabeledtr"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return 1},enumerable:!1,configurable:!0}),e}(Ul);Vl.MmlMlabeledtr=Kl;var Jl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return jl(e,t),e.prototype.toCHTML=function(e){t.prototype.toCHTML.call(this,e);var r=this.node.attributes.get("rowalign");"baseline"!==r&&this.adaptor.setAttribute(this.chtml,"rowalign",r)},e.kind=Vl.MmlMtr.prototype.kind,e.styles={"mjx-mtr":{display:"table-row"},'mjx-mtr[rowalign="top"] > mjx-mtd':{"vertical-align":"top"},'mjx-mtr[rowalign="center"] > mjx-mtd':{"vertical-align":"middle"},'mjx-mtr[rowalign="bottom"] > mjx-mtd':{"vertical-align":"bottom"},'mjx-mtr[rowalign="baseline"] > mjx-mtd':{"vertical-align":"baseline"},'mjx-mtr[rowalign="axis"] > mjx-mtd':{"vertical-align":".25em"}},e}(Hl.CommonMtrMixin(ei.CHTMLWrapper));$l.CHTMLmtr=Jl;var Ql=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return jl(e,t),e.prototype.toCHTML=function(e){t.prototype.toCHTML.call(this,e);var r=this.adaptor.firstChild(this.chtml);if(r){this.adaptor.remove(r);var n=this.node.attributes.get("rowalign"),i="baseline"!==n&&"axis"!==n?{rowalign:n}:{},o=this.html("mjx-mtr",i,[r]);Jl.used=!0,this.adaptor.append(this.parent.labels,o)}},e.kind=Vl.MmlMlabeledtr.prototype.kind,e.styles={"mjx-mlabeledtr":{display:"table-row"},'mjx-mlabeledtr[rowalign="top"] > mjx-mtd':{"vertical-align":"top"},'mjx-mlabeledtr[rowalign="center"] > mjx-mtd':{"vertical-align":"middle"},'mjx-mlabeledtr[rowalign="bottom"] > mjx-mtd':{"vertical-align":"bottom"},'mjx-mlabeledtr[rowalign="baseline"] > mjx-mtd':{"vertical-align":"baseline"},'mjx-mlabeledtr[rowalign="axis"] > mjx-mtd':{"vertical-align":".25em"}},e}(Hl.CommonMlabeledtrMixin(Jl));$l.CHTMLmlabeledtr=Ql;var Yl={},Zl=Yl&&Yl.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Yl,"__esModule",{value:!0}),Yl.CHTMLmtd=void 0;var tc={},ec=tc&&tc.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(tc,"__esModule",{value:!0}),tc.CommonMtdMixin=void 0,tc.CommonMtdMixin=function(t){return function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ec(e,t),Object.defineProperty(e.prototype,"fixesPWidth",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.invalidateBBox=function(){this.bboxComputed=!1},e.prototype.getWrapWidth=function(t){var e=this.parent.parent,r=this.parent,n=this.node.childPosition()-(r.labeled?1:0);return"number"==typeof e.cWidths[n]?e.cWidths[n]:e.getTableData().W[n]},e.prototype.getChildAlign=function(t){return this.node.attributes.get("columnalign")},e}(t)};var rc={},nc=rc&&rc.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ic=rc&&rc.__assign||function(){return(ic=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(rc,"__esModule",{value:!0}),rc.MmlMtd=void 0;var oc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return nc(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"mtd"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"linebreakContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.verifyChildren=function(e){!this.parent||this.parent.isKind("mtr")?t.prototype.verifyChildren.call(this,e):this.mError(this.kind+" can only be a child of an mtr or mlabeledtr",e,!0)},e.prototype.setTeXclass=function(t){return this.getPrevClass(t),this.childNodes[0].setTeXclass(null),this},e.defaults=ic(ic({},Y.AbstractMmlBaseNode.defaults),{rowspan:1,columnspan:1,rowalign:nt.INHERIT,columnalign:nt.INHERIT,groupalign:nt.INHERIT}),e}(Y.AbstractMmlBaseNode);rc.MmlMtd=oc;var sc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Zl(e,t),e.prototype.toCHTML=function(e){t.prototype.toCHTML.call(this,e);var r=this.node.attributes.get("rowalign"),n=this.node.attributes.get("columnalign");r!==this.parent.node.attributes.get("rowalign")&&this.adaptor.setAttribute(this.chtml,"rowalign",r),"center"===n||"mlabeledtr"===this.parent.kind&&this===this.parent.childNodes[0]&&n===this.parent.parent.node.attributes.get("side")||this.adaptor.setStyle(this.chtml,"textAlign",n),this.parent.parent.node.getProperty("useHeight")&&this.adaptor.append(this.chtml,this.html("mjx-tstrut"))},e.kind=rc.MmlMtd.prototype.kind,e.styles={"mjx-mtd":{display:"table-cell","text-align":"center",padding:".215em .4em"},"mjx-mtd:first-child":{"padding-left":0},"mjx-mtd:last-child":{"padding-right":0},"mjx-mtable > * > mjx-itable > *:first-child > mjx-mtd":{"padding-top":0},"mjx-mtable > * > mjx-itable > *:last-child > mjx-mtd":{"padding-bottom":0},"mjx-tstrut":{display:"inline-block",height:"1em","vertical-align":"-.25em"},'mjx-labels[align="left"] > mjx-mtr > mjx-mtd':{"text-align":"left"},'mjx-labels[align="right"] > mjx-mtr > mjx-mtd':{"text-align":"right"},'mjx-mtr mjx-mtd[rowalign="top"], mjx-mlabeledtr mjx-mtd[rowalign="top"]':{"vertical-align":"top"},'mjx-mtr mjx-mtd[rowalign="center"], mjx-mlabeledtr mjx-mtd[rowalign="center"]':{"vertical-align":"middle"},'mjx-mtr mjx-mtd[rowalign="bottom"], mjx-mlabeledtr mjx-mtd[rowalign="bottom"]':{"vertical-align":"bottom"},'mjx-mtr mjx-mtd[rowalign="baseline"], mjx-mlabeledtr mjx-mtd[rowalign="baseline"]':{"vertical-align":"baseline"},'mjx-mtr mjx-mtd[rowalign="axis"], mjx-mlabeledtr mjx-mtd[rowalign="axis"]':{"vertical-align":".25em"}},e}(tc.CommonMtdMixin(ei.CHTMLWrapper));Yl.CHTMLmtd=sc;var ac={},lc=ac&&ac.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(ac,"__esModule",{value:!0}),ac.CHTMLmaction=void 0;var cc={},uc=cc&&cc.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),hc=cc&&cc.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},dc=cc&&cc.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(cc,"__esModule",{value:!0}),cc.CommonMactionMixin=cc.TooltipData=void 0,cc.TooltipData={dx:".2em",dy:".1em",postDelay:600,clearDelay:100,hoverTimer:new Map,clearTimer:new Map,stopTimers:function(t,e){e.clearTimer.has(t)&&(clearTimeout(e.clearTimer.get(t)),e.clearTimer.delete(t)),e.hoverTimer.has(t)&&(clearTimeout(e.hoverTimer.get(t)),e.hoverTimer.delete(t))}},cc.CommonMactionMixin=function(t){return function(t){function e(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=t.apply(this,dc([],hc(e)))||this,i=n.constructor.actions,o=n.node.attributes.get("actiontype"),s=hc(i.get(o)||[function(t,e){},{}],2),a=s[0],l=s[1];return n.action=a,n.data=l,n.getParameters(),n}return uc(e,t),Object.defineProperty(e.prototype,"selected",{get:function(){var t=this.node.attributes.get("selection"),e=Math.max(1,Math.min(this.childNodes.length,t))-1;return this.childNodes[e]||this.wrap(this.node.selected)},enumerable:!1,configurable:!0}),e.prototype.getParameters=function(){var t=this.node.attributes.get("data-offsets"),e=hc(V.split(t||""),2),r=e[0],n=e[1];this.dx=this.length2em(r||cc.TooltipData.dx),this.dy=this.length2em(n||cc.TooltipData.dy)},e.prototype.computeBBox=function(t,e){void 0===e&&(e=!1),t.updateFrom(this.selected.getBBox()),this.selected.setChildPWidths(e)},e}(t)};var fc={},pc=fc&&fc.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),mc=fc&&fc.__assign||function(){return(mc=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(fc,"__esModule",{value:!0}),fc.MmlMaction=void 0;var gc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return pc(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"maction"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){var t=this.attributes.get("selection"),e=Math.max(1,Math.min(this.childNodes.length,t))-1;return this.childNodes[e]||this.factory.create("mrow")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEmbellished",{get:function(){return this.selected.isEmbellished},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSpacelike",{get:function(){return this.selected.isSpacelike},enumerable:!1,configurable:!0}),e.prototype.core=function(){return this.selected.core()},e.prototype.coreMO=function(){return this.selected.coreMO()},e.prototype.verifyAttributes=function(e){(t.prototype.verifyAttributes.call(this,e),"toggle"!==this.attributes.get("actiontype")&&void 0!==this.attributes.getExplicit("selection"))&&delete this.attributes.getAllAttributes().selection},e.prototype.setTeXclass=function(t){"tooltip"===this.attributes.get("actiontype")&&this.childNodes[1]&&this.childNodes[1].setTeXclass(null);var e=this.selected;return t=e.setTeXclass(t),this.updateTeXclass(e),t},e.prototype.nextToggleSelection=function(){var t=Math.max(1,this.attributes.get("selection")+1);t>this.childNodes.length&&(t=1),this.attributes.set("selection",t)},e.defaults=mc(mc({},Y.AbstractMmlNode.defaults),{actiontype:"toggle",selection:1}),e}(Y.AbstractMmlNode);fc.MmlMaction=gc;var yc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return lc(e,t),e.prototype.toCHTML=function(t){var e=this.standardCHTMLnode(t);this.selected.toCHTML(e),this.action(this,this.data)},e.prototype.setEventHandler=function(t,e){this.chtml.addEventListener(t,e)},e.kind=fc.MmlMaction.prototype.kind,e.styles={"mjx-maction":{position:"relative"},"mjx-maction > mjx-tool":{display:"none",position:"absolute",bottom:0,right:0,width:0,height:0,"z-index":500},"mjx-tool > mjx-tip":{display:"inline-block",padding:".2em",border:"1px solid #888","font-size":"70%","background-color":"#F8F8F8",color:"black","box-shadow":"2px 2px 5px #AAAAAA"},"mjx-maction[toggle]":{cursor:"pointer"},"mjx-status":{display:"block",position:"fixed",left:"1em",bottom:"1em","min-width":"25%",padding:".2em .4em",border:"1px solid #888","font-size":"90%","background-color":"#F8F8F8",color:"black"}},e.actions=new Map([["toggle",[function(t,e){t.adaptor.setAttribute(t.chtml,"toggle",t.node.attributes.get("selection"));var r=t.factory.jax.math,n=t.factory.jax.document,i=t.node;t.setEventHandler("click",(function(t){r.end.node||(r.start.node=r.end.node=r.typesetRoot,r.start.n=r.end.n=0),i.nextToggleSelection(),r.rerender(n),t.stopPropagation()}))},{}]],["tooltip",[function(t,e){var r=t.childNodes[1];if(r)if(r.node.isKind("mtext")){var n=r.node.getText();t.adaptor.setAttribute(t.chtml,"title",n)}else{var i=t.adaptor,o=i.append(t.chtml,t.html("mjx-tool",{style:{bottom:t.em(-t.dy),right:t.em(-t.dx)}},[t.html("mjx-tip")]));r.toCHTML(i.firstChild(o)),t.setEventHandler("mouseover",(function(r){e.stopTimers(t,e);var n=setTimeout((function(){return i.setStyle(o,"display","block")}),e.postDelay);e.hoverTimer.set(t,n),r.stopPropagation()})),t.setEventHandler("mouseout",(function(r){e.stopTimers(t,e);var n=setTimeout((function(){return i.setStyle(o,"display","")}),e.clearDelay);e.clearTimer.set(t,n),r.stopPropagation()}))}},cc.TooltipData]],["statusline",[function(t,e){var r=t.childNodes[1];if(r&&r.node.isKind("mtext")){var n=t.adaptor,i=r.node.getText();n.setAttribute(t.chtml,"statusline",i),t.setEventHandler("mouseover",(function(r){if(null===e.status){var o=n.body(n.document);e.status=n.append(o,t.html("mjx-status",{},[t.text(i)]))}r.stopPropagation()})),t.setEventHandler("mouseout",(function(t){e.status&&(n.remove(e.status),e.status=null),t.stopPropagation()}))}},{status:null}]]]),e}(cc.CommonMactionMixin(ei.CHTMLWrapper));ac.CHTMLmaction=yc;var vc={},bc=vc&&vc.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(vc,"__esModule",{value:!0}),vc.CHTMLmglyph=void 0;var Ac={},Cc=Ac&&Ac.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),wc=Ac&&Ac.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},xc=Ac&&Ac.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(Ac,"__esModule",{value:!0}),Ac.CommonMglyphMixin=void 0,Ac.CommonMglyphMixin=function(t){return function(t){function e(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=t.apply(this,xc([],wc(e)))||this;return n.getParameters(),n}return Cc(e,t),e.prototype.getParameters=function(){var t=this.node.attributes.getList("width","height","valign"),e=t.width,r=t.height,n=t.valign;this.width="auto"===e?1:this.length2em(e),this.height="auto"===r?1:this.length2em(r),this.valign=this.length2em(n||"0")},e.prototype.computeBBox=function(t,e){void 0===e&&(e=!1),t.w=this.width,t.h=this.height+this.valign,t.d=-this.valign},e}(t)};var Ec={},Sc=Ec&&Ec.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Mc=Ec&&Ec.__assign||function(){return(Mc=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(Ec,"__esModule",{value:!0}),Ec.MmlMglyph=void 0;var Oc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.texclass=Y.TEXCLASS.ORD,e}return Sc(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"mglyph"},enumerable:!1,configurable:!0}),e.defaults=Mc(Mc({},Y.AbstractMmlTokenNode.defaults),{alt:"",src:"",width:"auto",height:"auto",valign:"0em"}),e}(Y.AbstractMmlTokenNode);Ec.MmlMglyph=Oc;var _c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bc(e,t),e.prototype.toCHTML=function(t){var e=this.standardCHTMLnode(t),r=this.node.attributes.getList("src","alt"),n=r.src,i=r.alt,o={width:this.em(this.width),height:this.em(this.height)};this.valign&&(o.verticalAlign=this.em(this.valign));var s=this.html("img",{src:n,style:o,alt:i,title:i});this.adaptor.append(e,s)},e.kind=Ec.MmlMglyph.prototype.kind,e.styles={"mjx-mglyph > img":{display:"inline-block",border:0,padding:0}},e}(Ac.CommonMglyphMixin(ei.CHTMLWrapper));vc.CHTMLmglyph=_c;var Tc={},Fc=Tc&&Tc.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Tc,"__esModule",{value:!0}),Tc.CHTMLxml=Tc.CHTMLannotationXML=Tc.CHTMLannotation=Tc.CHTMLsemantics=void 0;var Bc={},Lc=Bc&&Bc.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Bc,"__esModule",{value:!0}),Bc.CommonSemanticsMixin=void 0,Bc.CommonSemanticsMixin=function(t){return function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Lc(e,t),e.prototype.computeBBox=function(t,e){if(void 0===e&&(e=!1),this.childNodes.length){var r=this.childNodes[0].getBBox(),n=r.w,i=r.h,o=r.d;t.w=n,t.h=i,t.d=o}},e}(t)};var kc={},Rc=kc&&kc.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Dc=kc&&kc.__assign||function(){return(Dc=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(kc,"__esModule",{value:!0}),kc.MmlAnnotation=kc.MmlAnnotationXML=kc.MmlSemantics=void 0;var Pc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Rc(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"semantics"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"notParent",{get:function(){return!0},enumerable:!1,configurable:!0}),e.defaults=Dc(Dc({},Y.AbstractMmlBaseNode.defaults),{definitionUrl:null,encoding:null}),e}(Y.AbstractMmlBaseNode);kc.MmlSemantics=Pc;var Ic=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Rc(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"annotation-xml"},enumerable:!1,configurable:!0}),e.prototype.setChildInheritedAttributes=function(){},e.defaults=Dc(Dc({},Y.AbstractMmlNode.defaults),{definitionUrl:null,encoding:null,cd:"mathmlkeys",name:"",src:null}),e}(Y.AbstractMmlNode);kc.MmlAnnotationXML=Ic;var Nc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.properties={isChars:!0},e}return Rc(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),e.defaults=Dc({},Ic.defaults),e}(Ic);kc.MmlAnnotation=Nc;var $c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Fc(e,t),e.prototype.toCHTML=function(t){var e=this.standardCHTMLnode(t);this.childNodes.length&&this.childNodes[0].toCHTML(e)},e.kind=kc.MmlSemantics.prototype.kind,e}(Bc.CommonSemanticsMixin(ei.CHTMLWrapper));Tc.CHTMLsemantics=$c;var jc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Fc(e,t),e.prototype.toCHTML=function(e){t.prototype.toCHTML.call(this,e)},e.prototype.computeBBox=function(){return this.bbox},e.kind=kc.MmlAnnotation.prototype.kind,e}(ei.CHTMLWrapper);Tc.CHTMLannotation=jc;var Hc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Fc(e,t),e.kind=kc.MmlAnnotationXML.prototype.kind,e.styles={"mjx-annotation-xml":{"font-family":"initial","line-height":"normal"}},e}(ei.CHTMLWrapper);Tc.CHTMLannotationXML=Hc;var Wc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Fc(e,t),e.prototype.toCHTML=function(t){this.chtml=this.adaptor.append(t,this.adaptor.clone(this.node.getXML()))},e.prototype.computeBBox=function(t,e){void 0===e&&(e=!1);var r=this.jax.measureXMLnode(this.node.getXML()),n=r.w,i=r.h,o=r.d;t.w=n,t.h=i,t.d=o},e.prototype.getStyles=function(){},e.prototype.getScale=function(){},e.prototype.getVariant=function(){},e.kind=Y.XMLNode.prototype.kind,e.autoStyle=!1,e}(ei.CHTMLWrapper);Tc.CHTMLxml=Wc;var zc={},Vc=zc&&zc.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(zc,"__esModule",{value:!0}),zc.CHTMLTeXAtom=void 0;var Xc={},qc=Xc&&Xc.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Xc,"__esModule",{value:!0}),Xc.CommonTeXAtomMixin=void 0,Xc.CommonTeXAtomMixin=function(t){return function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return qc(e,t),e.prototype.computeBBox=function(e,r){if(void 0===r&&(r=!1),t.prototype.computeBBox.call(this,e,r),this.childNodes[0]&&this.childNodes[0].bbox.ic&&(e.ic=this.childNodes[0].bbox.ic),this.node.texClass===Y.TEXCLASS.VCENTER){var n=e.h,i=(n+e.d)/2+this.font.params.axis_height-n;e.h+=i,e.d-=i}},e}(t)};var Gc={},Uc=Gc&&Gc.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Kc=Gc&&Gc.__assign||function(){return(Kc=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(Gc,"__esModule",{value:!0}),Gc.TeXAtom=void 0;var Jc=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.texclass=Y.TEXCLASS.ORD,i.setProperty("texClass",i.texClass),i}return Uc(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"TeXAtom"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"notParent",{get:function(){return this.childNodes[0]&&1===this.childNodes[0].childNodes.length},enumerable:!1,configurable:!0}),e.prototype.setTeXclass=function(t){return this.childNodes[0].setTeXclass(null),this.adjustTeXclass(t)},e.prototype.adjustTeXclass=function(t){return t},e.defaults=Kc({},Y.AbstractMmlBaseNode.defaults),e}(Y.AbstractMmlBaseNode);Gc.TeXAtom=Jc,Jc.prototype.adjustTeXclass=Et.MmlMo.prototype.adjustTeXclass;var Qc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Vc(e,t),e.prototype.toCHTML=function(e){if(t.prototype.toCHTML.call(this,e),this.adaptor.setAttribute(this.chtml,"texclass",Y.TEXCLASSNAMES[this.node.texClass]),this.node.texClass===Y.TEXCLASS.VCENTER){var r=this.childNodes[0].getBBox(),n=r.h,i=(n+r.d)/2+this.font.params.axis_height-n;this.adaptor.setStyle(this.chtml,"verticalAlign",this.em(i))}},e.kind=Gc.TeXAtom.prototype.kind,e}(Xc.CommonTeXAtomMixin(ei.CHTMLWrapper));zc.CHTMLTeXAtom=Qc;var Yc={},Zc=Yc&&Yc.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),tu=Yc&&Yc.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Yc,"__esModule",{value:!0}),Yc.CHTMLTextNode=void 0;var eu={},ru=eu&&eu.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),nu=eu&&eu.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},iu=eu&&eu.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s};Object.defineProperty(eu,"__esModule",{value:!0}),eu.CommonTextNodeMixin=void 0,eu.CommonTextNodeMixin=function(t){return function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ru(e,t),e.prototype.computeBBox=function(t,e){var r,n;void 0===e&&(e=!1);var i=this.parent.variant,o=this.node.getText();if("-explicitFont"===i){var s=this.jax.getFontData(this.parent.styles),a=this.jax.measureText(o,i,s),l=a.w,c=a.h,u=a.d;t.h=c,t.d=u,t.w=l}else{var h=this.remappedText(o,i);t.empty();try{for(var d=nu(h),f=d.next();!f.done;f=d.next()){var p=f.value,m=iu(this.getVariantChar(i,p),4),g=(c=m[0],u=m[1],l=m[2],m[3]);if(g.unknown){var y=this.jax.measureText(String.fromCodePoint(p),i);l=y.w,c=y.h,u=y.d}t.w+=l,c>t.h&&(t.h=c),u>t.d&&(t.d=u),t.ic=g.ic||0,t.sk=g.sk||0}}catch(t){r={error:t}}finally{try{f&&!f.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}h.length>1&&(t.sk=0),t.clean()}},e.prototype.remappedText=function(t,e){var r=this.parent.stretch.c;return r?[r]:this.parent.remapChars(this.unicodeChars(t,e))},e.prototype.getStyles=function(){},e.prototype.getVariant=function(){},e.prototype.getScale=function(){},e.prototype.getSpace=function(){},e}(t)};var ou=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Zc(e,t),e.prototype.toCHTML=function(t){var e,r;this.markUsed();var n=this.adaptor,i=this.parent.variant,o=this.node.getText();if("-explicitFont"===i){var s=this.jax.getFontData(this.parent.styles);n.append(t,this.jax.unknownText(o,i,s))}else{var a=this.remappedText(o,i);try{for(var l=tu(a),c=l.next();!c.done;c=l.next()){var u=c.value,h=this.getVariantChar(i,u)[3],d=(s=h.f?" TEX-"+h.f:"",h.unknown?this.jax.unknownText(String.fromCodePoint(u),i):this.html("mjx-c",{class:this.char(u)+s}));n.append(t,d),h.used=!0}}catch(t){e={error:t}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}}},e.kind=Y.TextNode.prototype.kind,e.autoStyle=!1,e.styles={"mjx-c":{display:"inline-block"},"mjx-utext":{display:"inline-block",padding:".75em 0 .2em 0"}},e}(eu.CommonTextNodeMixin(ei.CHTMLWrapper));Yc.CHTMLTextNode=ou,Zn.CHTMLWrappers=((Yn={})[bi.CHTMLmath.kind]=bi.CHTMLmath,Yn[ds.CHTMLmrow.kind]=ds.CHTMLmrow,Yn[ds.CHTMLinferredMrow.kind]=ds.CHTMLinferredMrow,Yn[Ti.CHTMLmi.kind]=Ti.CHTMLmi,Yn[Ni.CHTMLmo.kind]=Ni.CHTMLmo,Yn[Ui.CHTMLmn.kind]=Ui.CHTMLmn,Yn[no.CHTMLms.kind]=no.CHTMLms,Yn[mo.CHTMLmtext.kind]=mo.CHTMLmtext,Yn[Eo.CHTMLmspace.kind]=Eo.CHTMLmspace,Yn[ko.CHTMLmpadded.kind]=ko.CHTMLmpadded,Yn[Xo.CHTMLmenclose.kind]=Xo.CHTMLmenclose,Yn[Hs.CHTMLmfrac.kind]=Hs.CHTMLmfrac,Yn[ta.CHTMLmsqrt.kind]=ta.CHTMLmsqrt,Yn[da.CHTMLmroot.kind]=da.CHTMLmroot,Yn[wa.CHTMLmsub.kind]=wa.CHTMLmsub,Yn[wa.CHTMLmsup.kind]=wa.CHTMLmsup,Yn[wa.CHTMLmsubsup.kind]=wa.CHTMLmsubsup,Yn[Ga.CHTMLmunder.kind]=Ga.CHTMLmunder,Yn[Ga.CHTMLmover.kind]=Ga.CHTMLmover,Yn[Ga.CHTMLmunderover.kind]=Ga.CHTMLmunderover,Yn[ll.CHTMLmmultiscripts.kind]=ll.CHTMLmmultiscripts,Yn[_s.CHTMLmfenced.kind]=_s.CHTMLmfenced,Yn[xl.CHTMLmtable.kind]=xl.CHTMLmtable,Yn[$l.CHTMLmtr.kind]=$l.CHTMLmtr,Yn[$l.CHTMLmlabeledtr.kind]=$l.CHTMLmlabeledtr,Yn[Yl.CHTMLmtd.kind]=Yl.CHTMLmtd,Yn[ac.CHTMLmaction.kind]=ac.CHTMLmaction,Yn[vc.CHTMLmglyph.kind]=vc.CHTMLmglyph,Yn[Tc.CHTMLsemantics.kind]=Tc.CHTMLsemantics,Yn[Tc.CHTMLannotation.kind]=Tc.CHTMLannotation,Yn[Tc.CHTMLannotationXML.kind]=Tc.CHTMLannotationXML,Yn[Tc.CHTMLxml.kind]=Tc.CHTMLxml,Yn[zc.CHTMLTeXAtom.kind]=zc.CHTMLTeXAtom,Yn[Yc.CHTMLTextNode.kind]=Yc.CHTMLTextNode,Yn[ei.CHTMLWrapper.kind]=ei.CHTMLWrapper,Yn);var su=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return zn(e,t),e.defaultNodes=Zn.CHTMLWrappers,e}(Vn.CommonWrapperFactory);Wn.CHTMLWrapperFactory=su;var au={},lu=au&&au.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),cu=au&&au.__assign||function(){return(cu=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(au,"__esModule",{value:!0}),au.TeXFont=void 0;var uu={},hu=uu&&uu.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),du=uu&&uu.__assign||function(){return(du=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},fu=uu&&uu.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),pu=uu&&uu.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||fu(e,t,r)},mu=uu&&uu.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gu=uu&&uu.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s};Object.defineProperty(uu,"__esModule",{value:!0}),uu.AddCSS=uu.CHTMLFontData=void 0,pu(i("56kfJ"),uu);var yu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return hu(e,t),e.charOptions=function(e,r){return t.charOptions.call(this,e,r)},e.prototype.adaptiveCSS=function(t){this.options.adaptiveCSS=t},e.prototype.clearCache=function(){var t,e,r,n,i,o;if(this.options.adaptiveCSS){try{for(var s=mu(Object.keys(this.delimiters)),a=s.next();!a.done;a=s.next()){var l=a.value;this.delimiters[parseInt(l)].used=!1}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}try{for(var c=mu(Object.keys(this.variant)),u=c.next();!u.done;u=c.next()){var h=u.value,d=this.variant[h].chars;try{for(var f=(i=void 0,mu(Object.keys(d))),p=f.next();!p.done;p=f.next()){l=p.value;var m=d[parseInt(l)][3];m&&(m.used=!1)}}catch(t){i={error:t}}finally{try{p&&!p.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}}}catch(t){r={error:t}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}}},e.prototype.createVariant=function(e,r,n){void 0===r&&(r=null),void 0===n&&(n=null),t.prototype.createVariant.call(this,e,r,n);var i=this.constructor;this.variant[e].classes=i.defaultVariantClasses[e],this.variant[e].letter=i.defaultVariantLetters[e]},e.prototype.defineChars=function(r,n){var i,o;t.prototype.defineChars.call(this,r,n);var s=this.variant[r].letter;try{for(var a=mu(Object.keys(n)),l=a.next();!l.done;l=a.next()){var c=l.value,u=e.charOptions(n,parseInt(c));void 0===u.f&&(u.f=s)}}catch(t){i={error:t}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}},Object.defineProperty(e.prototype,"styles",{get:function(){var t,e,r=this.constructor,n=du({},r.defaultStyles);this.addFontURLs(n,r.defaultFonts,this.options.fontURL);try{for(var i=mu(Object.keys(this.delimiters)),o=i.next();!o.done;o=i.next()){var s=o.value,a=parseInt(s);this.addDelimiterStyles(n,a,this.delimiters[a])}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return this.addVariantChars(n),n},enumerable:!1,configurable:!0}),e.prototype.addVariantChars=function(t){var e,r,n,i,o=!this.options.adaptiveCSS;try{for(var s=mu(Object.keys(this.variant)),a=s.next();!a.done;a=s.next()){var l=a.value,c=this.variant[l],u=c.letter;try{for(var h=(n=void 0,mu(Object.keys(c.chars))),d=h.next();!d.done;d=h.next()){var f=d.value,p=parseInt(f),m=c.chars[p];(m[3]||{}).smp||(o&&m.length<4&&(m[3]={}),(4===m.length||o)&&this.addCharStyles(t,u,p,m))}}catch(t){n={error:t}}finally{try{d&&!d.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}},e.prototype.addFontURLs=function(t,e,r){var n,i;try{for(var o=mu(Object.keys(e)),s=o.next();!s.done;s=o.next()){var a=s.value,l=du({},e[a]);l.src=l.src.replace(/%%URL%%/,r),t[a]=l}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},e.prototype.addDelimiterStyles=function(t,e,r){if(!this.options.adaptiveCSS||r.used){var n=this.charSelector(e);r.c&&r.c!==e&&(t[".mjx-stretched mjx-c"+n+"::before"]={content:this.charContent(r.c)}),r.stretch&&(1===r.dir?this.addDelimiterVStyles(t,n,r):this.addDelimiterHStyles(t,n,r))}},e.prototype.addDelimiterVStyles=function(t,e,r){var n=r.HDW,i=gu(r.stretch,4),o=i[0],s=i[1],a=i[2],l=i[3],c=this.addDelimiterVPart(t,e,"beg",o,n);this.addDelimiterVPart(t,e,"ext",s,n);var u=this.addDelimiterVPart(t,e,"end",a,n),h={};if(l){var d=this.addDelimiterVPart(t,e,"mid",l,n);h.height="50%",t["mjx-stretchy-v"+e+" > mjx-mid"]={"margin-top":this.em(-d/2),"margin-bottom":this.em(-d/2)}}c&&(h["border-top-width"]=this.em0(c-.03)),u&&(h["border-bottom-width"]=this.em0(u-.03),t["mjx-stretchy-v"+e+" > mjx-end"]={"margin-top":this.em(-u)}),Object.keys(h).length&&(t["mjx-stretchy-v"+e+" > mjx-ext"]=h)},e.prototype.addDelimiterVPart=function(t,e,r,n,i){if(!n)return 0;var o=this.getDelimiterData(n),s=(i[2]-o[2])/2,a={content:this.charContent(n)};return"ext"!==r?a.padding=this.padding(o,s):(a.width=this.em0(i[2]),s&&(a["padding-left"]=this.em0(s))),t["mjx-stretchy-v"+e+" mjx-"+r+" mjx-c::before"]=a,o[0]+o[1]},e.prototype.addDelimiterHStyles=function(t,e,r){var n=gu(r.stretch,4),i=n[0],o=n[1],s=n[2],a=n[3],l=r.HDW;this.addDelimiterHPart(t,e,"beg",i,l),this.addDelimiterHPart(t,e,"ext",o,l),this.addDelimiterHPart(t,e,"end",s,l),a&&(this.addDelimiterHPart(t,e,"mid",a,l),t["mjx-stretchy-h"+e+" > mjx-ext"]={width:"50%"})},e.prototype.addDelimiterHPart=function(t,e,r,n,i){if(n){var o=this.getDelimiterData(n)[3],s={content:o&&o.c?'"'+o.c+'"':this.charContent(n)};s.padding=this.padding(i,0,-i[2]),t["mjx-stretchy-h"+e+" mjx-"+r+" mjx-c::before"]=s}},e.prototype.addCharStyles=function(t,e,r,n){var i=n[3];if(!this.options.adaptiveCSS||i.used){var o=void 0!==i.f?i.f:e;t["mjx-c"+this.charSelector(r)+(o?".TEX-"+o:"")+"::before"]={padding:this.padding(n,0,i.ic||0),content:null!=i.c?'"'+i.c+'"':this.charContent(r)}}},e.prototype.getDelimiterData=function(t){return this.getChar("-smallop",t)},e.prototype.em=function(t){return Kr.em(t)},e.prototype.em0=function(t){return Kr.em(Math.max(0,t))},e.prototype.padding=function(t,e,r){var n=gu(t,3),i=n[0],o=n[1];return void 0===e&&(e=0),void 0===r&&(r=0),[i,n[2]+r,o,e].map(this.em0).join(" ")},e.prototype.charContent=function(t){return'"'+(t>=32&&t<=126&&34!==t&&39!==t&&92!==t?String.fromCharCode(t):"\\"+t.toString(16).toUpperCase())+'"'},e.prototype.charSelector=function(t){return".mjx-c"+t.toString(16).toUpperCase()},e.OPTIONS=du(du({},i("56kfJ").FontData.OPTIONS),{fontURL:"js/output/chtml/fonts/tex-woff-v2"}),e.defaultVariantClasses={},e.defaultVariantLetters={},e.defaultStyles={"mjx-c::before":{display:"block",width:0}},e.defaultFonts={"@font-face /* 0 */":{"font-family":"MJXZERO",src:'url("%%URL%%/MathJax_Zero.woff") format("woff")'}},e}(i("56kfJ").FontData);uu.CHTMLFontData=yu,uu.AddCSS=function(t,e){var r,n;try{for(var o=mu(Object.keys(e)),s=o.next();!s.done;s=o.next()){var a=s.value,l=parseInt(a);Object.assign(i("56kfJ").FontData.charOptions(t,l),e[l])}}catch(t){r={error:t}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return t};var vu={},bu=vu&&vu.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Au=vu&&vu.__assign||function(){return(Au=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Cu=vu&&vu.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},wu=vu&&vu.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(vu,"__esModule",{value:!0}),vu.CommonTeXFontMixin=void 0,vu.CommonTeXFontMixin=function(t){var e;return(e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bu(e,t),e.prototype.getDelimiterData=function(t){return this.getChar("-smallop",t)||this.getChar("-size4",t)},e}(t)).defaultVariants=wu(wu([],Cu(t.defaultVariants)),[["-smallop","normal"],["-largeop","normal"],["-size3","normal"],["-size4","normal"],["-tex-calligraphic","italic"],["-tex-bold-calligraphic","bold-italic"],["-tex-oldstyle","normal"],["-tex-bold-oldstyle","bold"],["-tex-mathit","italic"],["-tex-variant","normal"]]),e.defaultCssFonts=Au(Au({},t.defaultCssFonts),{"-smallop":["serif",!1,!1],"-largeop":["serif",!1,!1],"-size3":["serif",!1,!1],"-size4":["serif",!1,!1],"-tex-calligraphic":["cursive",!0,!1],"-tex-bold-calligraphic":["cursive",!0,!0],"-tex-oldstyle":["serif",!1,!1],"-tex-bold-oldstyle":["serif",!1,!0],"-tex-mathit":["serif",!0,!1]}),e.defaultSizeVariants=["normal","-smallop","-largeop","-size3","-size4","-tex-variant"],e.defaultStretchVariants=["-size4"],e};var xu={};Object.defineProperty(xu,"__esModule",{value:!0}),xu.boldItalic=void 0;var Eu={};Object.defineProperty(Eu,"__esModule",{value:!0}),Eu.boldItalic=void 0,Eu.boldItalic={47:[.711,.21,.894],305:[.452,.008,.394,{sk:.0319}],567:[.451,.201,.439,{sk:.0958}],8260:[.711,.21,.894],8710:[.711,0,.958,{sk:.192}],10744:[.711,.21,.894]},xu.boldItalic=uu.AddCSS(Eu.boldItalic,{305:{f:"B"},567:{f:"B"},8260:{c:"/"},8710:{c:"\\394"},10744:{c:"/"}});var Su={};Object.defineProperty(Su,"__esModule",{value:!0}),Su.bold=void 0;var Mu={};Object.defineProperty(Mu,"__esModule",{value:!0}),Mu.bold=void 0,Mu.bold={33:[.705,0,.35],34:[.694,-.329,.603],35:[.694,.193,.958],36:[.75,.056,.575],37:[.75,.056,.958],38:[.705,.011,.894],39:[.694,-.329,.319],40:[.75,.249,.447],41:[.75,.249,.447],42:[.75,-.306,.575],43:[.633,.131,.894],44:[.171,.194,.319],45:[.278,-.166,.383],46:[.171,0,.319],47:[.75,.25,.575],58:[.444,0,.319],59:[.444,.194,.319],60:[.587,.085,.894],61:[.393,-.109,.894],62:[.587,.085,.894],63:[.7,0,.543],64:[.699,.006,.894],91:[.75,.25,.319],92:[.75,.25,.575],93:[.75,.25,.319],94:[.694,-.52,.575],95:[-.01,.061,.575],96:[.706,-.503,.575],123:[.75,.25,.575],124:[.75,.249,.319],125:[.75,.25,.575],126:[.344,-.202,.575],168:[.695,-.535,.575],172:[.371,-.061,.767],175:[.607,-.54,.575],176:[.702,-.536,.575],177:[.728,.035,.894],180:[.706,-.503,.575],183:[.336,-.166,.319],215:[.53,.028,.894],247:[.597,.096,.894],305:[.442,0,.278,{sk:.0278}],567:[.442,.205,.306,{sk:.0833}],697:[.563,-.033,.344],710:[.694,-.52,.575],711:[.66,-.515,.575],713:[.607,-.54,.575],714:[.706,-.503,.575],715:[.706,-.503,.575],728:[.694,-.5,.575],729:[.695,-.525,.575],730:[.702,-.536,.575],732:[.694,-.552,.575],768:[.706,-.503,0],769:[.706,-.503,0],770:[.694,-.52,0],771:[.694,-.552,0],772:[.607,-.54,0],774:[.694,-.5,0],775:[.695,-.525,0],776:[.695,-.535,0],778:[.702,-.536,0],779:[.714,-.511,0],780:[.66,-.515,0],824:[.711,.21,0],8194:[0,0,.5],8195:[0,0,.999],8196:[0,0,.333],8197:[0,0,.25],8198:[0,0,.167],8201:[0,0,.167],8202:[0,0,.083],8211:[.3,-.249,.575],8212:[.3,-.249,1.15],8213:[.3,-.249,1.15],8214:[.75,.248,.575],8215:[-.01,.061,.575],8216:[.694,-.329,.319],8217:[.694,-.329,.319],8220:[.694,-.329,.603],8221:[.694,-.329,.603],8224:[.702,.211,.511],8225:[.702,.202,.511],8226:[.474,-.028,.575],8230:[.171,0,1.295],8242:[.563,-.033,.344],8243:[.563,0,.688],8244:[.563,0,1.032],8254:[.607,-.54,.575],8260:[.75,.25,.575],8279:[.563,0,1.376],8407:[.723,-.513,.575],8463:[.694,.008,.668,{sk:-.0319}],8467:[.702,.019,.474,{sk:.128}],8472:[.461,.21,.74],8501:[.694,0,.703],8592:[.518,.017,1.15],8593:[.694,.193,.575],8594:[.518,.017,1.15],8595:[.694,.194,.575],8596:[.518,.017,1.15],8597:[.767,.267,.575],8598:[.724,.194,1.15],8599:[.724,.193,1.15],8600:[.694,.224,1.15],8601:[.694,.224,1.15],8602:[.711,.21,1.15],8603:[.711,.21,1.15],8614:[.518,.017,1.15],8617:[.518,.017,1.282],8618:[.518,.017,1.282],8622:[.711,.21,1.15],8636:[.518,-.22,1.15],8637:[.281,.017,1.15],8640:[.518,-.22,1.15],8641:[.281,.017,1.15],8652:[.718,.017,1.15],8653:[.711,.21,1.15],8654:[.711,.21,1.15],8655:[.711,.21,1.15],8656:[.547,.046,1.15],8657:[.694,.193,.703],8658:[.547,.046,1.15],8659:[.694,.194,.703],8660:[.547,.046,1.15],8661:[.767,.267,.703],8704:[.694,.016,.639],8707:[.694,0,.639],8708:[.711,.21,.639],8709:[.767,.073,.575],8710:[.698,0,.958],8712:[.587,.086,.767],8713:[.711,.21,.767],8715:[.587,.086,.767],8716:[.711,.21,.767],8722:[.281,-.221,.894],8723:[.537,.227,.894],8725:[.75,.25,.575],8726:[.75,.25,.575],8727:[.472,-.028,.575],8728:[.474,-.028,.575],8729:[.474,-.028,.575],8730:[.82,.18,.958,{ic:.03}],8733:[.451,.008,.894],8734:[.452,.008,1.15],8736:[.714,0,.722],8739:[.75,.249,.319],8740:[.75,.249,.319],8741:[.75,.248,.575],8742:[.75,.248,.575],8743:[.604,.017,.767],8744:[.604,.016,.767],8745:[.603,.016,.767],8746:[.604,.016,.767],8747:[.711,.211,.569,{ic:.063}],8764:[.391,-.109,.894],8768:[.583,.082,.319],8769:[.711,.21,.894],8771:[.502,0,.894],8772:[.711,.21,.894],8773:[.638,.027,.894],8775:[.711,.21,.894],8776:[.524,-.032,.894],8777:[.711,.21,.894],8781:[.533,.032,.894],8784:[.721,-.109,.894],8800:[.711,.21,.894],8801:[.505,0,.894],8802:[.711,.21,.894],8804:[.697,.199,.894],8805:[.697,.199,.894],8810:[.617,.116,1.15],8811:[.618,.116,1.15],8813:[.711,.21,.894],8814:[.711,.21,.894],8815:[.711,.21,.894],8816:[.711,.21,.894],8817:[.711,.21,.894],8826:[.585,.086,.894],8827:[.586,.086,.894],8832:[.711,.21,.894],8833:[.711,.21,.894],8834:[.587,.085,.894],8835:[.587,.086,.894],8836:[.711,.21,.894],8837:[.711,.21,.894],8838:[.697,.199,.894],8839:[.697,.199,.894],8840:[.711,.21,.894],8841:[.711,.21,.894],8846:[.604,.016,.767],8849:[.697,.199,.894],8850:[.697,.199,.894],8851:[.604,0,.767],8852:[.604,0,.767],8853:[.632,.132,.894],8854:[.632,.132,.894],8855:[.632,.132,.894],8856:[.632,.132,.894],8857:[.632,.132,.894],8866:[.693,0,.703],8867:[.693,0,.703],8868:[.694,0,.894],8869:[.693,0,.894],8872:[.75,.249,.974],8876:[.711,.21,.703],8877:[.75,.249,.974],8900:[.523,.021,.575],8901:[.336,-.166,.319],8902:[.502,0,.575],8904:[.54,.039,1],8930:[.711,.21,.894],8931:[.711,.21,.894],8942:[.951,.029,.319],8943:[.336,-.166,1.295],8945:[.871,-.101,1.323],8968:[.75,.248,.511],8969:[.75,.248,.511],8970:[.749,.248,.511],8971:[.749,.248,.511],8994:[.405,-.108,1.15],8995:[.392,-.126,1.15],9001:[.75,.249,.447],9002:[.75,.249,.447],9651:[.711,0,1.022],9653:[.711,0,1.022],9657:[.54,.039,.575],9661:[.5,.21,1.022],9663:[.5,.21,1.022],9667:[.539,.038,.575],9711:[.711,.211,1.15],9824:[.719,.129,.894],9825:[.711,.024,.894],9826:[.719,.154,.894],9827:[.719,.129,.894],9837:[.75,.017,.447],9838:[.741,.223,.447],9839:[.724,.224,.447],10072:[.75,.249,.319],10216:[.75,.249,.447],10217:[.75,.249,.447],10229:[.518,.017,1.805],10230:[.518,.017,1.833],10231:[.518,.017,2.126],10232:[.547,.046,1.868],10233:[.547,.046,1.87],10234:[.547,.046,2.126],10236:[.518,.017,1.833],10744:[.711,.21,.894],10799:[.53,.028,.894],10815:[.686,0,.9],10927:[.696,.199,.894],10928:[.697,.199,.894],12296:[.75,.249,.447],12297:[.75,.249,.447]},Su.bold=uu.AddCSS(Mu.bold,{183:{c:"\\22C5"},305:{f:""},567:{f:""},697:{c:"\\2032"},8194:{c:""},8195:{c:""},8196:{c:""},8197:{c:""},8198:{c:""},8201:{c:""},8202:{c:""},8213:{c:"\\2014"},8214:{c:"\\2225"},8215:{c:"_"},8226:{c:"\\2219"},8243:{c:"\\2032\\2032"},8244:{c:"\\2032\\2032\\2032"},8254:{c:"\\2C9"},8260:{c:"/"},8279:{c:"\\2032\\2032\\2032\\2032"},8407:{c:"\\2192",f:"VB"},8602:{c:"\\2190\\338"},8603:{c:"\\2192\\338"},8622:{c:"\\2194\\338"},8653:{c:"\\21D0\\338"},8654:{c:"\\21D4\\338"},8655:{c:"\\21D2\\338"},8708:{c:"\\2203\\338"},8710:{c:"\\394"},8716:{c:"\\220B\\338"},8740:{c:"\\2223\\338"},8742:{c:"\\2225\\338"},8769:{c:"\\223C\\338"},8772:{c:"\\2243\\338"},8775:{c:"\\2245\\338"},8777:{c:"\\2248\\338"},8802:{c:"\\2261\\338"},8813:{c:"\\224D\\338"},8814:{c:"<\\338"},8815:{c:">\\338"},8816:{c:"\\2264\\338"},8817:{c:"\\2265\\338"},8832:{c:"\\227A\\338"},8833:{c:"\\227B\\338"},8836:{c:"\\2282\\338"},8837:{c:"\\2283\\338"},8840:{c:"\\2286\\338"},8841:{c:"\\2287\\338"},8876:{c:"\\22A2\\338"},8877:{c:"\\22A8\\338"},8930:{c:"\\2291\\338"},8931:{c:"\\2292\\338"},9001:{c:"\\27E8"},9002:{c:"\\27E9"},9653:{c:"\\25B3"},9663:{c:"\\25BD"},10072:{c:"\\2223"},10744:{c:"/",f:"BI"},10799:{c:"\\D7"},12296:{c:"\\27E8"},12297:{c:"\\27E9"}});var Ou={};Object.defineProperty(Ou,"__esModule",{value:!0}),Ou.doubleStruck=void 0;var _u={};Object.defineProperty(_u,"__esModule",{value:!0}),_u.doubleStruck=void 0,_u.doubleStruck={},Object.defineProperty(Ou,"doubleStruck",{enumerable:!0,get:function(){return _u.doubleStruck}});var Tu={};Object.defineProperty(Tu,"__esModule",{value:!0}),Tu.frakturBold=void 0;var Fu={};Object.defineProperty(Fu,"__esModule",{value:!0}),Fu.frakturBold=void 0,Fu.frakturBold={33:[.689,.012,.349],34:[.695,-.432,.254],38:[.696,.016,.871],39:[.695,-.436,.25],40:[.737,.186,.459],41:[.735,.187,.459],42:[.692,-.449,.328],43:[.598,.082,.893],44:[.107,.191,.328],45:[.275,-.236,.893],46:[.102,.015,.328],47:[.721,.182,.593],48:[.501,.012,.593],49:[.489,0,.593],50:[.491,0,.593],51:[.487,.193,.593],52:[.495,.196,.593],53:[.481,.19,.593],54:[.704,.012,.593],55:[.479,.197,.593],56:[.714,.005,.593],57:[.487,.195,.593],58:[.457,.012,.255],59:[.458,.19,.255],61:[.343,-.168,.582],63:[.697,.014,.428],91:[.74,.13,.257],93:[.738,.132,.257],94:[.734,-.452,.59],8216:[.708,-.411,.254],8217:[.692,-.394,.254],8260:[.721,.182,.593],58113:[.63,.027,.587],58114:[.693,.212,.394,{ic:.014}],58115:[.681,.219,.387],58116:[.473,.212,.593],58117:[.684,.027,.393],58120:[.679,.22,.981],58121:[.717,.137,.727]},Tu.frakturBold=uu.AddCSS(Fu.frakturBold,{8260:{c:"/"}});var Bu={};Object.defineProperty(Bu,"__esModule",{value:!0}),Bu.fraktur=void 0;var Lu={};Object.defineProperty(Lu,"__esModule",{value:!0}),Lu.fraktur=void 0,Lu.fraktur={33:[.689,.012,.296],34:[.695,-.432,.215],38:[.698,.011,.738],39:[.695,-.436,.212],40:[.737,.186,.389],41:[.735,.187,.389],42:[.692,-.449,.278],43:[.598,.082,.756],44:[.107,.191,.278],45:[.275,-.236,.756],46:[.102,.015,.278],47:[.721,.182,.502],48:[.492,.013,.502],49:[.468,0,.502],50:[.474,0,.502],51:[.473,.182,.502],52:[.476,.191,.502],53:[.458,.184,.502],54:[.7,.013,.502],55:[.468,.181,.502],56:[.705,.01,.502],57:[.469,.182,.502],58:[.457,.012,.216],59:[.458,.189,.216],61:[.368,-.132,.756],63:[.693,.011,.362],91:[.74,.13,.278],93:[.738,.131,.278],94:[.734,-.452,.5],8216:[.708,-.41,.215],8217:[.692,-.395,.215],8260:[.721,.182,.502],58112:[.683,.032,.497],58113:[.616,.03,.498],58114:[.68,.215,.333],58115:[.679,.224,.329],58116:[.471,.214,.503],58117:[.686,.02,.333],58118:[.577,.021,.334,{ic:.013}],58119:[.475,.022,.501,{ic:.013}]},Bu.fraktur=uu.AddCSS(Lu.fraktur,{8260:{c:"/"}});var ku={};Object.defineProperty(ku,"__esModule",{value:!0}),ku.italic=void 0;var Ru={};Object.defineProperty(Ru,"__esModule",{value:!0}),Ru.italic=void 0,Ru.italic={33:[.716,0,.307,{ic:.073}],34:[.694,-.379,.514,{ic:.024}],35:[.694,.194,.818,{ic:.01}],37:[.75,.056,.818,{ic:.029}],38:[.716,.022,.767,{ic:.035}],39:[.694,-.379,.307,{ic:.07}],40:[.75,.25,.409,{ic:.108}],41:[.75,.25,.409],42:[.75,-.32,.511,{ic:.073}],43:[.557,.057,.767],44:[.121,.194,.307],45:[.251,-.18,.358],46:[.121,0,.307],47:[.716,.215,.778],48:[.665,.021,.511,{ic:.051}],49:[.666,0,.511],50:[.666,.022,.511,{ic:.04}],51:[.666,.022,.511,{ic:.051}],52:[.666,.194,.511],53:[.666,.022,.511,{ic:.056}],54:[.665,.022,.511,{ic:.054}],55:[.666,.022,.511,{ic:.123}],56:[.666,.021,.511,{ic:.042}],57:[.666,.022,.511,{ic:.042}],58:[.431,0,.307],59:[.431,.194,.307],61:[.367,-.133,.767],63:[.716,0,.511,{ic:.04}],64:[.705,.011,.767,{ic:.022}],91:[.75,.25,.307,{ic:.139}],93:[.75,.25,.307,{ic:.052}],94:[.694,-.527,.511,{ic:.017}],95:[-.025,.062,.511,{ic:.043}],126:[.318,-.208,.511,{ic:.06}],305:[.441,.01,.307,{ic:.033}],567:[.442,.204,.332],768:[.697,-.5,0],769:[.697,-.5,0,{ic:.039}],770:[.694,-.527,0,{ic:.017}],771:[.668,-.558,0,{ic:.06}],772:[.589,-.544,0,{ic:.054}],774:[.694,-.515,0,{ic:.062}],775:[.669,-.548,0],776:[.669,-.554,0,{ic:.045}],778:[.716,-.542,0],779:[.697,-.503,0,{ic:.065}],780:[.638,-.502,0,{ic:.029}],989:[.605,.085,.778],8211:[.285,-.248,.511,{ic:.043}],8212:[.285,-.248,1.022,{ic:.016}],8213:[.285,-.248,1.022,{ic:.016}],8215:[-.025,.062,.511,{ic:.043}],8216:[.694,-.379,.307,{ic:.055}],8217:[.694,-.379,.307,{ic:.07}],8220:[.694,-.379,.514,{ic:.092}],8221:[.694,-.379,.514,{ic:.024}],8260:[.716,.215,.778],8463:[.695,.013,.54,{ic:.022}],8710:[.716,0,.833,{sk:.167}],10744:[.716,.215,.778]},ku.italic=uu.AddCSS(Ru.italic,{47:{f:"I"},989:{c:"\\E008",f:"A"},8213:{c:"\\2014"},8215:{c:"_"},8260:{c:"/",f:"I"},8710:{c:"\\394",f:"I"},10744:{c:"/",f:"I"}});var Du={};Object.defineProperty(Du,"__esModule",{value:!0}),Du.largeop=void 0;var Pu={};Object.defineProperty(Pu,"__esModule",{value:!0}),Pu.largeop=void 0,Pu.largeop={40:[1.15,.649,.597],41:[1.15,.649,.597],47:[1.15,.649,.811],91:[1.15,.649,.472],92:[1.15,.649,.811],93:[1.15,.649,.472],123:[1.15,.649,.667],125:[1.15,.649,.667],710:[.772,-.565,1],732:[.75,-.611,1],770:[.772,-.565,0],771:[.75,-.611,0],8214:[.602,0,.778],8260:[1.15,.649,.811],8593:[.6,0,.667],8595:[.6,0,.667],8657:[.599,0,.778],8659:[.6,0,.778],8719:[.95,.45,1.278],8720:[.95,.45,1.278],8721:[.95,.45,1.444],8730:[1.15,.65,1,{ic:.02}],8739:[.627,.015,.333],8741:[.627,.015,.556],8747:[1.36,.862,.556,{ic:.388}],8748:[1.36,.862,1.084,{ic:.388}],8749:[1.36,.862,1.592,{ic:.388}],8750:[1.36,.862,.556,{ic:.388}],8896:[.95,.45,1.111],8897:[.95,.45,1.111],8898:[.949,.45,1.111],8899:[.95,.449,1.111],8968:[1.15,.649,.528],8969:[1.15,.649,.528],8970:[1.15,.649,.528],8971:[1.15,.649,.528],9001:[1.15,.649,.611],9002:[1.15,.649,.611],9168:[.602,0,.667],10072:[.627,.015,.333],10216:[1.15,.649,.611],10217:[1.15,.649,.611],10752:[.949,.449,1.511],10753:[.949,.449,1.511],10754:[.949,.449,1.511],10756:[.95,.449,1.111],10758:[.95,.45,1.111],10764:[1.36,.862,2.168,{ic:.388}],12296:[1.15,.649,.611],12297:[1.15,.649,.611]},Du.largeop=uu.AddCSS(Pu.largeop,{8214:{f:"S1"},8260:{c:"/"},8593:{f:"S1"},8595:{f:"S1"},8657:{f:"S1"},8659:{f:"S1"},8739:{f:"S1"},8741:{f:"S1"},9001:{c:"\\27E8"},9002:{c:"\\27E9"},9168:{f:"S1"},10072:{c:"\\2223",f:"S1"},10764:{c:"\\222C\\222C"},12296:{c:"\\27E8"},12297:{c:"\\27E9"}});var Iu={};Object.defineProperty(Iu,"__esModule",{value:!0}),Iu.monospace=void 0;var Nu={};Object.defineProperty(Nu,"__esModule",{value:!0}),Nu.monospace=void 0,Nu.monospace={32:[0,0,.525],33:[.622,0,.525],34:[.623,-.333,.525],35:[.611,0,.525],36:[.694,.082,.525],37:[.694,.083,.525],38:[.622,.011,.525],39:[.611,-.287,.525],40:[.694,.082,.525],41:[.694,.082,.525],42:[.52,-.09,.525],43:[.531,-.081,.525],44:[.14,.139,.525],45:[.341,-.271,.525],46:[.14,0,.525],47:[.694,.083,.525],58:[.431,0,.525],59:[.431,.139,.525],60:[.557,-.055,.525],61:[.417,-.195,.525],62:[.557,-.055,.525],63:[.617,0,.525],64:[.617,.006,.525],91:[.694,.082,.525],92:[.694,.083,.525],93:[.694,.082,.525],94:[.611,-.46,.525],95:[-.025,.095,.525],96:[.681,-.357,.525],123:[.694,.083,.525],124:[.694,.082,.525],125:[.694,.083,.525],126:[.611,-.466,.525],127:[.612,-.519,.525],160:[0,0,.525],305:[.431,0,.525],567:[.431,.228,.525],697:[.623,-.334,.525],768:[.611,-.485,0],769:[.611,-.485,0],770:[.611,-.46,0],771:[.611,-.466,0],772:[.577,-.5,0],774:[.611,-.504,0],776:[.612,-.519,0],778:[.619,-.499,0],780:[.577,-.449,0],913:[.623,0,.525],914:[.611,0,.525],915:[.611,0,.525],916:[.623,0,.525],917:[.611,0,.525],918:[.611,0,.525],919:[.611,0,.525],920:[.621,.01,.525],921:[.611,0,.525],922:[.611,0,.525],923:[.623,0,.525],924:[.611,0,.525],925:[.611,0,.525],926:[.611,0,.525],927:[.621,.01,.525],928:[.611,0,.525],929:[.611,0,.525],931:[.611,0,.525],932:[.611,0,.525],933:[.622,0,.525],934:[.611,0,.525],935:[.611,0,.525],936:[.611,0,.525],937:[.622,0,.525],8215:[-.025,.095,.525],8242:[.623,-.334,.525],8243:[.623,0,1.05],8244:[.623,0,1.575],8260:[.694,.083,.525],8279:[.623,0,2.1],8710:[.623,0,.525]},Iu.monospace=uu.AddCSS(Nu.monospace,{697:{c:"\\2032"},913:{c:"A"},914:{c:"B"},917:{c:"E"},918:{c:"Z"},919:{c:"H"},921:{c:"I"},922:{c:"K"},924:{c:"M"},925:{c:"N"},927:{c:"O"},929:{c:"P"},932:{c:"T"},935:{c:"X"},8215:{c:"_"},8243:{c:"\\2032\\2032"},8244:{c:"\\2032\\2032\\2032"},8260:{c:"/"},8279:{c:"\\2032\\2032\\2032\\2032"},8710:{c:"\\394"}});var $u={};Object.defineProperty($u,"__esModule",{value:!0}),$u.normal=void 0;var ju={};Object.defineProperty(ju,"__esModule",{value:!0}),ju.normal=void 0,ju.normal={32:[0,0,.25],33:[.716,0,.278],34:[.694,-.379,.5],35:[.694,.194,.833],36:[.75,.056,.5],37:[.75,.056,.833],38:[.716,.022,.778],39:[.694,-.379,.278],40:[.75,.25,.389],41:[.75,.25,.389],42:[.75,-.32,.5],43:[.583,.082,.778],44:[.121,.194,.278],45:[.252,-.179,.333],46:[.12,0,.278],47:[.75,.25,.5],48:[.666,.022,.5],49:[.666,0,.5],50:[.666,0,.5],51:[.665,.022,.5],52:[.677,0,.5],53:[.666,.022,.5],54:[.666,.022,.5],55:[.676,.022,.5],56:[.666,.022,.5],57:[.666,.022,.5],58:[.43,0,.278],59:[.43,.194,.278],60:[.54,.04,.778],61:[.583,.082,.778],62:[.54,.04,.778],63:[.705,0,.472],64:[.705,.011,.778],65:[.716,0,.75],66:[.683,0,.708],67:[.705,.021,.722],68:[.683,0,.764],69:[.68,0,.681],70:[.68,0,.653],71:[.705,.022,.785],72:[.683,0,.75],73:[.683,0,.361],74:[.683,.022,.514],75:[.683,0,.778],76:[.683,0,.625],77:[.683,0,.917],78:[.683,0,.75],79:[.705,.022,.778],80:[.683,0,.681],81:[.705,.193,.778],82:[.683,.022,.736],83:[.705,.022,.556],84:[.677,0,.722],85:[.683,.022,.75],86:[.683,.022,.75],87:[.683,.022,1.028],88:[.683,0,.75],89:[.683,0,.75],90:[.683,0,.611],91:[.75,.25,.278],92:[.75,.25,.5],93:[.75,.25,.278],94:[.694,-.531,.5],95:[-.025,.062,.5],96:[.699,-.505,.5],97:[.448,.011,.5],98:[.694,.011,.556],99:[.448,.011,.444],100:[.694,.011,.556],101:[.448,.011,.444],102:[.705,0,.306,{ic:.066}],103:[.453,.206,.5],104:[.694,0,.556],105:[.669,0,.278],106:[.669,.205,.306],107:[.694,0,.528],108:[.694,0,.278],109:[.442,0,.833],110:[.442,0,.556],111:[.448,.01,.5],112:[.442,.194,.556],113:[.442,.194,.528],114:[.442,0,.392],115:[.448,.011,.394],116:[.615,.01,.389],117:[.442,.011,.556],118:[.431,.011,.528],119:[.431,.011,.722],120:[.431,0,.528],121:[.431,.204,.528],122:[.431,0,.444],123:[.75,.25,.5],124:[.75,.249,.278],125:[.75,.25,.5],126:[.318,-.215,.5],160:[0,0,.25],163:[.714,.011,.769],165:[.683,0,.75],168:[.669,-.554,.5],172:[.356,-.089,.667],174:[.709,.175,.947],175:[.59,-.544,.5],176:[.715,-.542,.5],177:[.666,0,.778],180:[.699,-.505,.5],183:[.31,-.19,.278],215:[.491,-.009,.778],240:[.749,.021,.556],247:[.537,.036,.778],305:[.442,0,.278,{sk:.0278}],567:[.442,.205,.306,{sk:.0833}],697:[.56,-.043,.275],710:[.694,-.531,.5],711:[.644,-.513,.5],713:[.59,-.544,.5],714:[.699,-.505,.5],715:[.699,-.505,.5],728:[.694,-.515,.5],729:[.669,-.549,.5],730:[.715,-.542,.5],732:[.668,-.565,.5],768:[.699,-.505,0],769:[.699,-.505,0],770:[.694,-.531,0],771:[.668,-.565,0],772:[.59,-.544,0],774:[.694,-.515,0],775:[.669,-.549,0],776:[.669,-.554,0],778:[.715,-.542,0],779:[.701,-.51,0],780:[.644,-.513,0],824:[.716,.215,0],913:[.716,0,.75],914:[.683,0,.708],915:[.68,0,.625],916:[.716,0,.833],917:[.68,0,.681],918:[.683,0,.611],919:[.683,0,.75],920:[.705,.022,.778],921:[.683,0,.361],922:[.683,0,.778],923:[.716,0,.694],924:[.683,0,.917],925:[.683,0,.75],926:[.677,0,.667],927:[.705,.022,.778],928:[.68,0,.75],929:[.683,0,.681],931:[.683,0,.722],932:[.677,0,.722],933:[.705,0,.778],934:[.683,0,.722],935:[.683,0,.75],936:[.683,0,.778],937:[.704,0,.722],8192:[0,0,.5],8193:[0,0,1],8194:[0,0,.5],8195:[0,0,1],8196:[0,0,.333],8197:[0,0,.25],8198:[0,0,.167],8201:[0,0,.167],8202:[0,0,.1],8203:[0,0,0],8204:[0,0,0],8211:[.285,-.248,.5],8212:[.285,-.248,1],8213:[.285,-.248,1],8214:[.75,.25,.5],8215:[-.025,.062,.5],8216:[.694,-.379,.278],8217:[.694,-.379,.278],8220:[.694,-.379,.5],8221:[.694,-.379,.5],8224:[.705,.216,.444],8225:[.705,.205,.444],8226:[.444,-.055,.5],8230:[.12,0,1.172],8242:[.56,-.043,.275],8243:[.56,0,.55],8244:[.56,0,.825],8245:[.56,-.043,.275],8246:[.56,0,.55],8247:[.56,0,.825],8254:[.59,-.544,.5],8260:[.75,.25,.5],8279:[.56,0,1.1],8288:[0,0,0],8289:[0,0,0],8290:[0,0,0],8291:[0,0,0],8292:[0,0,0],8407:[.714,-.516,.5],8450:[.702,.019,.722],8459:[.717,.036,.969,{ic:.272,sk:.333}],8460:[.666,.133,.72],8461:[.683,0,.778],8462:[.694,.011,.576,{sk:-.0278}],8463:[.695,.013,.54,{ic:.022}],8464:[.717,.017,.809,{ic:.137,sk:.333}],8465:[.686,.026,.554],8466:[.717,.017,.874,{ic:.161,sk:.306}],8467:[.705,.02,.417,{sk:.111}],8469:[.683,.02,.722],8472:[.453,.216,.636,{sk:.111}],8473:[.683,0,.611],8474:[.701,.181,.778],8475:[.717,.017,.85,{ic:.037,sk:.194}],8476:[.686,.026,.828],8477:[.683,0,.722],8484:[.683,0,.667],8486:[.704,0,.722],8487:[.684,.022,.722],8488:[.729,.139,.602],8492:[.708,.028,.908,{ic:.02,sk:.194}],8493:[.685,.024,.613],8496:[.707,.008,.562,{ic:.156,sk:.139}],8497:[.735,.036,.895,{ic:.095,sk:.222}],8498:[.695,0,.556],8499:[.721,.05,1.08,{ic:.136,sk:.444}],8501:[.694,0,.611],8502:[.763,.021,.667,{ic:.02}],8503:[.764,.043,.444],8504:[.764,.043,.667],8513:[.705,.023,.639],8592:[.511,.011,1],8593:[.694,.193,.5],8594:[.511,.011,1],8595:[.694,.194,.5],8596:[.511,.011,1],8597:[.772,.272,.5],8598:[.72,.195,1],8599:[.72,.195,1],8600:[.695,.22,1],8601:[.695,.22,1],8602:[.437,-.06,1],8603:[.437,-.06,1],8606:[.417,-.083,1],8608:[.417,-.083,1],8610:[.417,-.083,1.111],8611:[.417,-.083,1.111],8614:[.511,.011,1],8617:[.511,.011,1.126],8618:[.511,.011,1.126],8619:[.575,.041,1],8620:[.575,.041,1],8621:[.417,-.083,1.389],8622:[.437,-.06,1],8624:[.722,0,.5],8625:[.722,0,.5],8630:[.461,0,1],8631:[.46,0,1],8634:[.65,.083,.778],8635:[.65,.083,.778],8636:[.511,-.23,1],8637:[.27,.011,1],8638:[.694,.194,.417],8639:[.694,.194,.417],8640:[.511,-.23,1],8641:[.27,.011,1],8642:[.694,.194,.417],8643:[.694,.194,.417],8644:[.667,0,1],8646:[.667,0,1],8647:[.583,.083,1],8648:[.694,.193,.833],8649:[.583,.083,1],8650:[.694,.194,.833],8651:[.514,.014,1],8652:[.671,.011,1],8653:[.534,.035,1],8654:[.534,.037,1],8655:[.534,.035,1],8656:[.525,.024,1],8657:[.694,.194,.611],8658:[.525,.024,1],8659:[.694,.194,.611],8660:[.526,.025,1],8661:[.772,.272,.611],8666:[.611,.111,1],8667:[.611,.111,1],8669:[.417,-.083,1],8672:[.437,-.064,1.334],8674:[.437,-.064,1.334],8704:[.694,.022,.556],8705:[.846,.021,.5],8706:[.715,.022,.531,{ic:.035,sk:.0833}],8707:[.694,0,.556],8708:[.716,.215,.556],8709:[.772,.078,.5],8710:[.716,0,.833],8711:[.683,.033,.833],8712:[.54,.04,.667],8713:[.716,.215,.667],8715:[.54,.04,.667],8716:[.716,.215,.667],8717:[.44,0,.429,{ic:.027}],8719:[.75,.25,.944],8720:[.75,.25,.944],8721:[.75,.25,1.056],8722:[.583,.082,.778],8723:[.5,.166,.778],8724:[.766,.093,.778],8725:[.75,.25,.5],8726:[.75,.25,.5],8727:[.465,-.035,.5],8728:[.444,-.055,.5],8729:[.444,-.055,.5],8730:[.8,.2,.833,{ic:.02}],8733:[.442,.011,.778],8734:[.442,.011,1],8736:[.694,0,.722],8737:[.714,.02,.722],8738:[.551,.051,.722],8739:[.75,.249,.278],8740:[.75,.252,.278,{ic:.019}],8741:[.75,.25,.5],8742:[.75,.25,.5,{ic:.018}],8743:[.598,.022,.667],8744:[.598,.022,.667],8745:[.598,.022,.667],8746:[.598,.022,.667],8747:[.716,.216,.417,{ic:.055}],8748:[.805,.306,.819,{ic:.138}],8749:[.805,.306,1.166,{ic:.138}],8750:[.805,.306,.472,{ic:.138}],8756:[.471,.082,.667],8757:[.471,.082,.667],8764:[.367,-.133,.778],8765:[.367,-.133,.778],8768:[.583,.083,.278],8769:[.467,-.032,.778],8770:[.463,-.034,.778],8771:[.464,-.036,.778],8772:[.716,.215,.778],8773:[.589,-.022,.778],8775:[.652,.155,.778],8776:[.483,-.055,.778],8777:[.716,.215,.778],8778:[.579,.039,.778],8781:[.484,-.016,.778],8782:[.492,-.008,.778],8783:[.492,-.133,.778],8784:[.67,-.133,.778],8785:[.609,.108,.778],8786:[.601,.101,.778],8787:[.601,.102,.778],8790:[.367,-.133,.778],8791:[.721,-.133,.778],8796:[.859,-.133,.778],8800:[.716,.215,.778],8801:[.464,-.036,.778],8802:[.716,.215,.778],8804:[.636,.138,.778],8805:[.636,.138,.778],8806:[.753,.175,.778],8807:[.753,.175,.778],8808:[.752,.286,.778],8809:[.752,.286,.778],8810:[.568,.067,1],8811:[.567,.067,1],8812:[.75,.25,.5],8813:[.716,.215,.778],8814:[.708,.209,.778],8815:[.708,.209,.778],8816:[.801,.303,.778],8817:[.801,.303,.778],8818:[.732,.228,.778],8819:[.732,.228,.778],8820:[.732,.228,.778],8821:[.732,.228,.778],8822:[.681,.253,.778],8823:[.681,.253,.778],8824:[.716,.253,.778],8825:[.716,.253,.778],8826:[.539,.041,.778],8827:[.539,.041,.778],8828:[.58,.153,.778],8829:[.58,.154,.778],8830:[.732,.228,.778],8831:[.732,.228,.778],8832:[.705,.208,.778],8833:[.705,.208,.778],8834:[.54,.04,.778],8835:[.54,.04,.778],8836:[.716,.215,.778],8837:[.716,.215,.778],8838:[.636,.138,.778],8839:[.636,.138,.778],8840:[.801,.303,.778],8841:[.801,.303,.778],8842:[.635,.241,.778],8843:[.635,.241,.778],8846:[.598,.022,.667],8847:[.539,.041,.778],8848:[.539,.041,.778],8849:[.636,.138,.778],8850:[.636,.138,.778],8851:[.598,0,.667],8852:[.598,0,.667],8853:[.583,.083,.778],8854:[.583,.083,.778],8855:[.583,.083,.778],8856:[.583,.083,.778],8857:[.583,.083,.778],8858:[.582,.082,.778],8859:[.582,.082,.778],8861:[.582,.082,.778],8862:[.689,0,.778],8863:[.689,0,.778],8864:[.689,0,.778],8865:[.689,0,.778],8866:[.694,0,.611],8867:[.694,0,.611],8868:[.668,0,.778],8869:[.668,0,.778],8872:[.75,.249,.867],8873:[.694,0,.722],8874:[.694,0,.889],8876:[.695,0,.611],8877:[.695,0,.611],8878:[.695,0,.722],8879:[.695,0,.722],8882:[.539,.041,.778],8883:[.539,.041,.778],8884:[.636,.138,.778],8885:[.636,.138,.778],8888:[.408,-.092,1.111],8890:[.431,.212,.556],8891:[.716,0,.611],8892:[.716,0,.611],8896:[.75,.249,.833],8897:[.75,.249,.833],8898:[.75,.249,.833],8899:[.75,.249,.833],8900:[.488,-.012,.5],8901:[.31,-.19,.278],8902:[.486,-.016,.5],8903:[.545,.044,.778],8904:[.505,.005,.9],8905:[.492,-.008,.778],8906:[.492,-.008,.778],8907:[.694,.022,.778],8908:[.694,.022,.778],8909:[.464,-.036,.778],8910:[.578,.021,.76],8911:[.578,.022,.76],8912:[.54,.04,.778],8913:[.54,.04,.778],8914:[.598,.022,.667],8915:[.598,.022,.667],8916:[.736,.022,.667],8918:[.541,.041,.778],8919:[.541,.041,.778],8920:[.568,.067,1.333],8921:[.568,.067,1.333],8922:[.886,.386,.778],8923:[.886,.386,.778],8926:[.734,0,.778],8927:[.734,0,.778],8928:[.801,.303,.778],8929:[.801,.303,.778],8930:[.716,.215,.778],8931:[.716,.215,.778],8934:[.73,.359,.778],8935:[.73,.359,.778],8936:[.73,.359,.778],8937:[.73,.359,.778],8938:[.706,.208,.778],8939:[.706,.208,.778],8940:[.802,.303,.778],8941:[.801,.303,.778],8942:[1.3,.03,.278],8943:[.31,-.19,1.172],8945:[1.52,-.1,1.282],8965:[.716,0,.611],8966:[.813,.097,.611],8968:[.75,.25,.444],8969:[.75,.25,.444],8970:[.75,.25,.444],8971:[.75,.25,.444],8988:[.694,-.306,.5],8989:[.694,-.306,.5],8990:[.366,.022,.5],8991:[.366,.022,.5],8994:[.388,-.122,1],8995:[.378,-.134,1],9001:[.75,.25,.389],9002:[.75,.25,.389],9136:[.744,.244,.412],9137:[.744,.244,.412],9168:[.602,0,.667],9416:[.709,.175,.902],9484:[.694,-.306,.5],9488:[.694,-.306,.5],9492:[.366,.022,.5],9496:[.366,.022,.5],9585:[.694,.195,.889],9586:[.694,.195,.889],9632:[.689,0,.778],9633:[.689,0,.778],9642:[.689,0,.778],9650:[.575,.02,.722],9651:[.716,0,.889],9652:[.575,.02,.722],9653:[.716,0,.889],9654:[.539,.041,.778],9656:[.539,.041,.778],9657:[.505,.005,.5],9660:[.576,.019,.722],9661:[.5,.215,.889],9662:[.576,.019,.722],9663:[.5,.215,.889],9664:[.539,.041,.778],9666:[.539,.041,.778],9667:[.505,.005,.5],9674:[.716,.132,.667],9711:[.715,.215,1],9723:[.689,0,.778],9724:[.689,0,.778],9733:[.694,.111,.944],9824:[.727,.13,.778],9825:[.716,.033,.778],9826:[.727,.162,.778],9827:[.726,.13,.778],9837:[.75,.022,.389],9838:[.734,.223,.389],9839:[.723,.223,.389],10003:[.706,.034,.833],10016:[.716,.022,.833],10072:[.75,.249,.278],10216:[.75,.25,.389],10217:[.75,.25,.389],10222:[.744,.244,.412],10223:[.744,.244,.412],10229:[.511,.011,1.609],10230:[.511,.011,1.638],10231:[.511,.011,1.859],10232:[.525,.024,1.609],10233:[.525,.024,1.638],10234:[.525,.024,1.858],10236:[.511,.011,1.638],10731:[.716,.132,.667],10744:[.716,.215,.778],10752:[.75,.25,1.111],10753:[.75,.25,1.111],10754:[.75,.25,1.111],10756:[.75,.249,.833],10758:[.75,.249,.833],10764:[.805,.306,1.638,{ic:.138}],10799:[.491,-.009,.778],10815:[.683,0,.75],10846:[.813,.097,.611],10877:[.636,.138,.778],10878:[.636,.138,.778],10885:[.762,.29,.778],10886:[.762,.29,.778],10887:[.635,.241,.778],10888:[.635,.241,.778],10889:[.761,.387,.778],10890:[.761,.387,.778],10891:[1.003,.463,.778],10892:[1.003,.463,.778],10901:[.636,.138,.778],10902:[.636,.138,.778],10927:[.636,.138,.778],10928:[.636,.138,.778],10933:[.752,.286,.778],10934:[.752,.286,.778],10935:[.761,.294,.778],10936:[.761,.294,.778],10937:[.761,.337,.778],10938:[.761,.337,.778],10949:[.753,.215,.778],10950:[.753,.215,.778],10955:[.783,.385,.778],10956:[.783,.385,.778],12296:[.75,.25,.389],12297:[.75,.25,.389],57350:[.43,.023,.222,{ic:.018}],57351:[.431,.024,.389,{ic:.018}],57352:[.605,.085,.778],57353:[.434,.006,.667,{ic:.067}],57356:[.752,.284,.778],57357:[.752,.284,.778],57358:[.919,.421,.778],57359:[.801,.303,.778],57360:[.801,.303,.778],57361:[.919,.421,.778],57366:[.828,.33,.778],57367:[.752,.332,.778],57368:[.828,.33,.778],57369:[.752,.333,.778],57370:[.634,.255,.778],57371:[.634,.254,.778],119808:[.698,0,.869],119809:[.686,0,.818],119810:[.697,.011,.831],119811:[.686,0,.882],119812:[.68,0,.756],119813:[.68,0,.724],119814:[.697,.01,.904],119815:[.686,0,.9],119816:[.686,0,.436],119817:[.686,.011,.594],119818:[.686,0,.901],119819:[.686,0,.692],119820:[.686,0,1.092],119821:[.686,0,.9],119822:[.696,.01,.864],119823:[.686,0,.786],119824:[.696,.193,.864],119825:[.686,.011,.862],119826:[.697,.011,.639],119827:[.675,0,.8],119828:[.686,.011,.885],119829:[.686,.007,.869],119830:[.686,.007,1.189],119831:[.686,0,.869],119832:[.686,0,.869],119833:[.686,0,.703],119834:[.453,.006,.559],119835:[.694,.006,.639],119836:[.453,.006,.511],119837:[.694,.006,.639],119838:[.452,.006,.527],119839:[.7,0,.351,{ic:.101}],119840:[.455,.201,.575],119841:[.694,0,.639],119842:[.695,0,.319],119843:[.695,.2,.351],119844:[.694,0,.607],119845:[.694,0,.319],119846:[.45,0,.958],119847:[.45,0,.639],119848:[.452,.005,.575],119849:[.45,.194,.639],119850:[.45,.194,.607],119851:[.45,0,.474],119852:[.453,.006,.454],119853:[.635,.005,.447],119854:[.45,.006,.639],119855:[.444,0,.607],119856:[.444,0,.831],119857:[.444,0,.607],119858:[.444,.2,.607],119859:[.444,0,.511],119860:[.716,0,.75,{sk:.139}],119861:[.683,0,.759,{sk:.0833}],119862:[.705,.022,.715,{ic:.045,sk:.0833}],119863:[.683,0,.828,{sk:.0556}],119864:[.68,0,.738,{ic:.026,sk:.0833}],119865:[.68,0,.643,{ic:.106,sk:.0833}],119866:[.705,.022,.786,{sk:.0833}],119867:[.683,0,.831,{ic:.057,sk:.0556}],119868:[.683,0,.44,{ic:.064,sk:.111}],119869:[.683,.022,.555,{ic:.078,sk:.167}],119870:[.683,0,.849,{ic:.04,sk:.0556}],119871:[.683,0,.681,{sk:.0278}],119872:[.683,0,.97,{ic:.081,sk:.0833}],119873:[.683,0,.803,{ic:.085,sk:.0833}],119874:[.704,.022,.763,{sk:.0833}],119875:[.683,0,.642,{ic:.109,sk:.0833}],119876:[.704,.194,.791,{sk:.0833}],119877:[.683,.021,.759,{sk:.0833}],119878:[.705,.022,.613,{ic:.032,sk:.0833}],119879:[.677,0,.584,{ic:.12,sk:.0833}],119880:[.683,.022,.683,{ic:.084,sk:.0278}],119881:[.683,.022,.583,{ic:.186}],119882:[.683,.022,.944,{ic:.104}],119883:[.683,0,.828,{ic:.024,sk:.0833}],119884:[.683,0,.581,{ic:.182}],119885:[.683,0,.683,{ic:.04,sk:.0833}],119886:[.441,.01,.529],119887:[.694,.011,.429],119888:[.442,.011,.433,{sk:.0556}],119889:[.694,.01,.52,{sk:.167}],119890:[.442,.011,.466,{sk:.0556}],119891:[.705,.205,.49,{ic:.06,sk:.167}],119892:[.442,.205,.477,{sk:.0278}],119894:[.661,.011,.345],119895:[.661,.204,.412],119896:[.694,.011,.521],119897:[.694,.011,.298,{sk:.0833}],119898:[.442,.011,.878],119899:[.442,.011,.6],119900:[.441,.011,.485,{sk:.0556}],119901:[.442,.194,.503,{sk:.0833}],119902:[.442,.194,.446,{ic:.014,sk:.0833}],119903:[.442,.011,.451,{sk:.0556}],119904:[.442,.01,.469,{sk:.0556}],119905:[.626,.011,.361,{sk:.0833}],119906:[.442,.011,.572,{sk:.0278}],119907:[.443,.011,.485,{sk:.0278}],119908:[.443,.011,.716,{sk:.0833}],119909:[.442,.011,.572,{sk:.0278}],119910:[.442,.205,.49,{sk:.0556}],119911:[.442,.011,.465,{sk:.0556}],119912:[.711,0,.869,{sk:.16}],119913:[.686,0,.866,{sk:.0958}],119914:[.703,.017,.817,{ic:.038,sk:.0958}],119915:[.686,0,.938,{sk:.0639}],119916:[.68,0,.81,{ic:.015,sk:.0958}],119917:[.68,0,.689,{ic:.12,sk:.0958}],119918:[.703,.016,.887,{sk:.0958}],119919:[.686,0,.982,{ic:.045,sk:.0639}],119920:[.686,0,.511,{ic:.062,sk:.128}],119921:[.686,.017,.631,{ic:.063,sk:.192}],119922:[.686,0,.971,{ic:.032,sk:.0639}],119923:[.686,0,.756,{sk:.0319}],119924:[.686,0,1.142,{ic:.077,sk:.0958}],119925:[.686,0,.95,{ic:.077,sk:.0958}],119926:[.703,.017,.837,{sk:.0958}],119927:[.686,0,.723,{ic:.124,sk:.0958}],119928:[.703,.194,.869,{sk:.0958}],119929:[.686,.017,.872,{sk:.0958}],119930:[.703,.017,.693,{ic:.021,sk:.0958}],119931:[.675,0,.637,{ic:.135,sk:.0958}],119932:[.686,.016,.8,{ic:.077,sk:.0319}],119933:[.686,.016,.678,{ic:.208}],119934:[.686,.017,1.093,{ic:.114}],119935:[.686,0,.947,{sk:.0958}],119936:[.686,0,.675,{ic:.201}],119937:[.686,0,.773,{ic:.032,sk:.0958}],119938:[.452,.008,.633],119939:[.694,.008,.521],119940:[.451,.008,.513,{sk:.0639}],119941:[.694,.008,.61,{sk:.192}],119942:[.452,.008,.554,{sk:.0639}],119943:[.701,.201,.568,{ic:.056,sk:.192}],119944:[.452,.202,.545,{sk:.0319}],119945:[.694,.008,.668,{sk:-.0319}],119946:[.694,.008,.405],119947:[.694,.202,.471],119948:[.694,.008,.604],119949:[.694,.008,.348,{sk:.0958}],119950:[.452,.008,1.032],119951:[.452,.008,.713],119952:[.452,.008,.585,{sk:.0639}],119953:[.452,.194,.601,{sk:.0958}],119954:[.452,.194,.542,{sk:.0958}],119955:[.452,.008,.529,{sk:.0639}],119956:[.451,.008,.531,{sk:.0639}],119957:[.643,.007,.415,{sk:.0958}],119958:[.452,.008,.681,{sk:.0319}],119959:[.453,.008,.567,{sk:.0319}],119960:[.453,.008,.831,{sk:.0958}],119961:[.452,.008,.659,{sk:.0319}],119962:[.452,.202,.59,{sk:.0639}],119963:[.452,.008,.555,{sk:.0639}],119964:[.717,.008,.803,{ic:.213,sk:.389}],119966:[.728,.026,.666,{ic:.153,sk:.278}],119967:[.708,.031,.774,{ic:.081,sk:.111}],119970:[.717,.037,.61,{ic:.128,sk:.25}],119973:[.717,.314,1.052,{ic:.081,sk:.417}],119974:[.717,.037,.914,{ic:.29,sk:.361}],119977:[.726,.036,.902,{ic:.306,sk:.389}],119978:[.707,.008,.738,{ic:.067,sk:.167}],119979:[.716,.037,1.013,{ic:.018,sk:.222}],119980:[.717,.017,.883,{sk:.278}],119982:[.708,.036,.868,{ic:.148,sk:.333}],119983:[.735,.037,.747,{ic:.249,sk:.222}],119984:[.717,.017,.8,{ic:.16,sk:.25}],119985:[.717,.017,.622,{ic:.228,sk:.222}],119986:[.717,.017,.805,{ic:.221,sk:.25}],119987:[.717,.017,.944,{ic:.187,sk:.278}],119988:[.716,.017,.71,{ic:.249,sk:.194}],119989:[.717,.016,.821,{ic:.211,sk:.306}],120068:[.696,.026,.718],120069:[.691,.027,.884],120071:[.685,.027,.832],120072:[.685,.024,.663],120073:[.686,.153,.611],120074:[.69,.026,.785],120077:[.686,.139,.552],120078:[.68,.027,.668,{ic:.014}],120079:[.686,.026,.666],120080:[.692,.027,1.05],120081:[.686,.025,.832],120082:[.729,.027,.827],120083:[.692,.218,.828],120084:[.729,.069,.827],120086:[.692,.027,.829],120087:[.701,.027,.669],120088:[.697,.027,.646,{ic:.019}],120089:[.686,.026,.831],120090:[.686,.027,1.046],120091:[.688,.027,.719],120092:[.686,.218,.833],120094:[.47,.035,.5],120095:[.685,.031,.513],120096:[.466,.029,.389],120097:[.609,.033,.499],120098:[.467,.03,.401],120099:[.681,.221,.326],120100:[.47,.209,.504],120101:[.688,.205,.521],120102:[.673,.02,.279],120103:[.672,.208,.281],120104:[.689,.025,.389],120105:[.685,.02,.28],120106:[.475,.026,.767],120107:[.475,.022,.527],120108:[.48,.028,.489],120109:[.541,.212,.5],120110:[.479,.219,.489],120111:[.474,.021,.389],120112:[.478,.029,.443],120113:[.64,.02,.333,{ic:.015}],120114:[.474,.023,.517],120115:[.53,.028,.512],120116:[.532,.028,.774],120117:[.472,.188,.389],120118:[.528,.218,.499],120119:[.471,.214,.391],120120:[.701,0,.722],120121:[.683,0,.667],120123:[.683,0,.722],120124:[.683,0,.667],120125:[.683,0,.611],120126:[.702,.019,.778],120128:[.683,0,.389],120129:[.683,.077,.5],120130:[.683,0,.778],120131:[.683,0,.667],120132:[.683,0,.944],120134:[.701,.019,.778],120138:[.702,.012,.556],120139:[.683,0,.667],120140:[.683,.019,.722],120141:[.683,.02,.722],120142:[.683,.019,1],120143:[.683,0,.722],120144:[.683,0,.722],120172:[.686,.031,.847],120173:[.684,.031,1.044],120174:[.676,.032,.723],120175:[.683,.029,.982],120176:[.686,.029,.783],120177:[.684,.146,.722],120178:[.687,.029,.927],120179:[.683,.126,.851],120180:[.681,.025,.655],120181:[.68,.141,.652],120182:[.681,.026,.789,{ic:.017}],120183:[.683,.028,.786],120184:[.683,.032,1.239],120185:[.679,.03,.983],120186:[.726,.03,.976],120187:[.688,.223,.977],120188:[.726,.083,.976],120189:[.688,.028,.978],120190:[.685,.031,.978],120191:[.686,.03,.79,{ic:.012}],120192:[.688,.039,.851,{ic:.02}],120193:[.685,.029,.982],120194:[.683,.03,1.235],120195:[.681,.035,.849],120196:[.688,.214,.984],120197:[.677,.148,.711],120198:[.472,.032,.603],120199:[.69,.032,.59],120200:[.473,.026,.464],120201:[.632,.028,.589],120202:[.471,.027,.472],120203:[.687,.222,.388],120204:[.472,.208,.595],120205:[.687,.207,.615],120206:[.686,.025,.331],120207:[.682,.203,.332],120208:[.682,.025,.464],120209:[.681,.024,.337],120210:[.476,.031,.921],120211:[.473,.028,.654],120212:[.482,.034,.609],120213:[.557,.207,.604],120214:[.485,.211,.596],120215:[.472,.026,.46],120216:[.479,.034,.523],120217:[.648,.027,.393,{ic:.014}],120218:[.472,.032,.589,{ic:.014}],120219:[.546,.027,.604],120220:[.549,.032,.918],120221:[.471,.188,.459],120222:[.557,.221,.589],120223:[.471,.214,.461],120224:[.694,0,.667],120225:[.694,0,.667],120226:[.705,.011,.639],120227:[.694,0,.722],120228:[.691,0,.597],120229:[.691,0,.569],120230:[.704,.011,.667],120231:[.694,0,.708],120232:[.694,0,.278],120233:[.694,.022,.472],120234:[.694,0,.694],120235:[.694,0,.542],120236:[.694,0,.875],120237:[.694,0,.708],120238:[.715,.022,.736],120239:[.694,0,.639],120240:[.715,.125,.736],120241:[.694,0,.646],120242:[.716,.022,.556],120243:[.688,0,.681],120244:[.694,.022,.688],120245:[.694,0,.667],120246:[.694,0,.944],120247:[.694,0,.667],120248:[.694,0,.667],120249:[.694,0,.611],120250:[.46,.01,.481],120251:[.694,.011,.517],120252:[.46,.01,.444],120253:[.694,.01,.517],120254:[.461,.01,.444],120255:[.705,0,.306,{ic:.041}],120256:[.455,.206,.5],120257:[.694,0,.517],120258:[.68,0,.239],120259:[.68,.205,.267],120260:[.694,0,.489],120261:[.694,0,.239],120262:[.455,0,.794],120263:[.455,0,.517],120264:[.46,.01,.5],120265:[.455,.194,.517],120266:[.455,.194,.517],120267:[.455,0,.342],120268:[.46,.01,.383],120269:[.571,.01,.361],120270:[.444,.01,.517],120271:[.444,0,.461],120272:[.444,0,.683],120273:[.444,0,.461],120274:[.444,.204,.461],120275:[.444,0,.435],120276:[.694,0,.733],120277:[.694,0,.733],120278:[.704,.011,.703],120279:[.694,0,.794],120280:[.691,0,.642],120281:[.691,0,.611],120282:[.705,.011,.733],120283:[.694,0,.794],120284:[.694,0,.331],120285:[.694,.022,.519],120286:[.694,0,.764],120287:[.694,0,.581],120288:[.694,0,.978],120289:[.694,0,.794],120290:[.716,.022,.794],120291:[.694,0,.703],120292:[.716,.106,.794],120293:[.694,0,.703],120294:[.716,.022,.611],120295:[.688,0,.733],120296:[.694,.022,.764],120297:[.694,0,.733],120298:[.694,0,1.039],120299:[.694,0,.733],120300:[.694,0,.733],120301:[.694,0,.672],120302:[.475,.011,.525],120303:[.694,.01,.561],120304:[.475,.011,.489],120305:[.694,.011,.561],120306:[.474,.01,.511],120307:[.705,0,.336,{ic:.045}],120308:[.469,.206,.55],120309:[.694,0,.561],120310:[.695,0,.256],120311:[.695,.205,.286],120312:[.694,0,.531],120313:[.694,0,.256],120314:[.469,0,.867],120315:[.468,0,.561],120316:[.474,.011,.55],120317:[.469,.194,.561],120318:[.469,.194,.561],120319:[.469,0,.372],120320:[.474,.01,.422],120321:[.589,.01,.404],120322:[.458,.011,.561],120323:[.458,0,.5],120324:[.458,0,.744],120325:[.458,0,.5],120326:[.458,.205,.5],120327:[.458,0,.476],120328:[.694,0,.667],120329:[.694,0,.667,{ic:.029}],120330:[.705,.01,.639,{ic:.08}],120331:[.694,0,.722,{ic:.025}],120332:[.691,0,.597,{ic:.091}],120333:[.691,0,.569,{ic:.104}],120334:[.705,.011,.667,{ic:.063}],120335:[.694,0,.708,{ic:.06}],120336:[.694,0,.278,{ic:.06}],120337:[.694,.022,.472,{ic:.063}],120338:[.694,0,.694,{ic:.091}],120339:[.694,0,.542],120340:[.694,0,.875,{ic:.054}],120341:[.694,0,.708,{ic:.058}],120342:[.716,.022,.736,{ic:.027}],120343:[.694,0,.639,{ic:.051}],120344:[.716,.125,.736,{ic:.027}],120345:[.694,0,.646,{ic:.052}],120346:[.716,.022,.556,{ic:.053}],120347:[.688,0,.681,{ic:.109}],120348:[.694,.022,.688,{ic:.059}],120349:[.694,0,.667,{ic:.132}],120350:[.694,0,.944,{ic:.132}],120351:[.694,0,.667,{ic:.091}],120352:[.694,0,.667,{ic:.143}],120353:[.694,0,.611,{ic:.091}],120354:[.461,.01,.481],120355:[.694,.011,.517,{ic:.022}],120356:[.46,.011,.444,{ic:.055}],120357:[.694,.01,.517,{ic:.071}],120358:[.46,.011,.444,{ic:.028}],120359:[.705,0,.306,{ic:.188}],120360:[.455,.206,.5,{ic:.068}],120361:[.694,0,.517],120362:[.68,0,.239,{ic:.076}],120363:[.68,.204,.267,{ic:.069}],120364:[.694,0,.489,{ic:.054}],120365:[.694,0,.239,{ic:.072}],120366:[.455,0,.794],120367:[.454,0,.517],120368:[.461,.011,.5,{ic:.023}],120369:[.455,.194,.517,{ic:.021}],120370:[.455,.194,.517,{ic:.021}],120371:[.455,0,.342,{ic:.082}],120372:[.461,.011,.383,{ic:.053}],120373:[.571,.011,.361,{ic:.049}],120374:[.444,.01,.517,{ic:.02}],120375:[.444,0,.461,{ic:.079}],120376:[.444,0,.683,{ic:.079}],120377:[.444,0,.461,{ic:.076}],120378:[.444,.205,.461,{ic:.079}],120379:[.444,0,.435,{ic:.059}],120432:[.623,0,.525],120433:[.611,0,.525],120434:[.622,.011,.525],120435:[.611,0,.525],120436:[.611,0,.525],120437:[.611,0,.525],120438:[.622,.011,.525],120439:[.611,0,.525],120440:[.611,0,.525],120441:[.611,.011,.525],120442:[.611,0,.525],120443:[.611,0,.525],120444:[.611,0,.525],120445:[.611,0,.525],120446:[.621,.01,.525],120447:[.611,0,.525],120448:[.621,.138,.525],120449:[.611,.011,.525],120450:[.622,.011,.525],120451:[.611,0,.525],120452:[.611,.011,.525],120453:[.611,.007,.525],120454:[.611,.007,.525],120455:[.611,0,.525],120456:[.611,0,.525],120457:[.611,0,.525],120458:[.439,.006,.525],120459:[.611,.006,.525],120460:[.44,.006,.525],120461:[.611,.006,.525],120462:[.44,.006,.525],120463:[.617,0,.525],120464:[.442,.229,.525],120465:[.611,0,.525],120466:[.612,0,.525],120467:[.612,.228,.525],120468:[.611,0,.525],120469:[.611,0,.525],120470:[.436,0,.525,{ic:.011}],120471:[.436,0,.525],120472:[.44,.006,.525],120473:[.437,.221,.525],120474:[.437,.221,.525,{ic:.02}],120475:[.437,0,.525],120476:[.44,.006,.525],120477:[.554,.006,.525],120478:[.431,.005,.525],120479:[.431,0,.525],120480:[.431,0,.525],120481:[.431,0,.525],120482:[.431,.228,.525],120483:[.431,0,.525],120488:[.698,0,.869],120489:[.686,0,.818],120490:[.68,0,.692],120491:[.698,0,.958],120492:[.68,0,.756],120493:[.686,0,.703],120494:[.686,0,.9],120495:[.696,.01,.894],120496:[.686,0,.436],120497:[.686,0,.901],120498:[.698,0,.806],120499:[.686,0,1.092],120500:[.686,0,.9],120501:[.675,0,.767],120502:[.696,.01,.864],120503:[.68,0,.9],120504:[.686,0,.786],120506:[.686,0,.831],120507:[.675,0,.8],120508:[.697,0,.894],120509:[.686,0,.831],120510:[.686,0,.869],120511:[.686,0,.894],120512:[.696,0,.831],120513:[.686,.024,.958],120546:[.716,0,.75,{sk:.139}],120547:[.683,0,.759,{sk:.0833}],120548:[.68,0,.615,{ic:.106,sk:.0833}],120549:[.716,0,.833,{sk:.167}],120550:[.68,0,.738,{ic:.026,sk:.0833}],120551:[.683,0,.683,{ic:.04,sk:.0833}],120552:[.683,0,.831,{ic:.057,sk:.0556}],120553:[.704,.022,.763,{sk:.0833}],120554:[.683,0,.44,{ic:.064,sk:.111}],120555:[.683,0,.849,{ic:.04,sk:.0556}],120556:[.716,0,.694,{sk:.167}],120557:[.683,0,.97,{ic:.081,sk:.0833}],120558:[.683,0,.803,{ic:.085,sk:.0833}],120559:[.677,0,.742,{ic:.035,sk:.0833}],120560:[.704,.022,.763,{sk:.0833}],120561:[.68,0,.831,{ic:.056,sk:.0556}],120562:[.683,0,.642,{ic:.109,sk:.0833}],120564:[.683,0,.78,{ic:.026,sk:.0833}],120565:[.677,0,.584,{ic:.12,sk:.0833}],120566:[.705,0,.583,{ic:.117,sk:.0556}],120567:[.683,0,.667,{sk:.0833}],120568:[.683,0,.828,{ic:.024,sk:.0833}],120569:[.683,0,.612,{ic:.08,sk:.0556}],120570:[.704,0,.772,{ic:.014,sk:.0833}],120572:[.442,.011,.64,{sk:.0278}],120573:[.705,.194,.566,{sk:.0833}],120574:[.441,.216,.518,{ic:.025}],120575:[.717,.01,.444,{sk:.0556}],120576:[.452,.022,.466,{sk:.0833}],120577:[.704,.204,.438,{ic:.033,sk:.0833}],120578:[.442,.216,.497,{sk:.0556}],120579:[.705,.01,.469,{sk:.0833}],120580:[.442,.01,.354,{sk:.0556}],120581:[.442,.011,.576],120582:[.694,.012,.583],120583:[.442,.216,.603,{sk:.0278}],120584:[.442,0,.494,{ic:.036,sk:.0278}],120585:[.704,.205,.438,{sk:.111}],120586:[.441,.011,.485,{sk:.0556}],120587:[.431,.011,.57],120588:[.442,.216,.517,{sk:.0833}],120589:[.442,.107,.363,{ic:.042,sk:.0833}],120590:[.431,.011,.571],120591:[.431,.013,.437,{ic:.08,sk:.0278}],120592:[.443,.01,.54,{sk:.0278}],120593:[.442,.218,.654,{sk:.0833}],120594:[.442,.204,.626,{sk:.0556}],120595:[.694,.205,.651,{sk:.111}],120596:[.443,.011,.622],120597:[.715,.022,.531,{ic:.035,sk:.0833}],120598:[.431,.011,.406,{sk:.0556}],120599:[.705,.011,.591,{sk:.0833}],120600:[.434,.006,.667,{ic:.067}],120601:[.694,.205,.596,{sk:.0833}],120602:[.442,.194,.517,{sk:.0833}],120603:[.431,.01,.828],120604:[.711,0,.869,{sk:.16}],120605:[.686,0,.866,{sk:.0958}],120606:[.68,0,.657,{ic:.12,sk:.0958}],120607:[.711,0,.958,{sk:.192}],120608:[.68,0,.81,{ic:.015,sk:.0958}],120609:[.686,0,.773,{ic:.032,sk:.0958}],120610:[.686,0,.982,{ic:.045,sk:.0639}],120611:[.702,.017,.867,{sk:.0958}],120612:[.686,0,.511,{ic:.062,sk:.128}],120613:[.686,0,.971,{ic:.032,sk:.0639}],120614:[.711,0,.806,{sk:.192}],120615:[.686,0,1.142,{ic:.077,sk:.0958}],120616:[.686,0,.95,{ic:.077,sk:.0958}],120617:[.675,0,.841,{ic:.026,sk:.0958}],120618:[.703,.017,.837,{sk:.0958}],120619:[.68,0,.982,{ic:.044,sk:.0639}],120620:[.686,0,.723,{ic:.124,sk:.0958}],120622:[.686,0,.885,{ic:.017,sk:.0958}],120623:[.675,0,.637,{ic:.135,sk:.0958}],120624:[.703,0,.671,{ic:.131,sk:.0639}],120625:[.686,0,.767,{sk:.0958}],120626:[.686,0,.947,{sk:.0958}],120627:[.686,0,.714,{ic:.076,sk:.0639}],120628:[.703,0,.879,{sk:.0958}],120630:[.452,.008,.761,{sk:.0319}],120631:[.701,.194,.66,{sk:.0958}],120632:[.451,.211,.59,{ic:.027}],120633:[.725,.008,.522,{sk:.0639}],120634:[.461,.017,.529,{sk:.0958}],120635:[.711,.202,.508,{ic:.013,sk:.0958}],120636:[.452,.211,.6,{sk:.0639}],120637:[.702,.008,.562,{sk:.0958}],120638:[.452,.008,.412,{sk:.0639}],120639:[.452,.008,.668],120640:[.694,.013,.671],120641:[.452,.211,.708,{sk:.0319}],120642:[.452,0,.577,{ic:.031,sk:.0319}],120643:[.711,.201,.508,{sk:.128}],120644:[.452,.008,.585,{sk:.0639}],120645:[.444,.008,.682],120646:[.451,.211,.612,{sk:.0958}],120647:[.451,.105,.424,{ic:.033,sk:.0958}],120648:[.444,.008,.686],120649:[.444,.013,.521,{ic:.089,sk:.0319}],120650:[.453,.008,.631,{sk:.0319}],120651:[.452,.216,.747,{sk:.0958}],120652:[.452,.201,.718,{sk:.0639}],120653:[.694,.202,.758,{sk:.128}],120654:[.453,.008,.718],120655:[.71,.017,.628,{ic:.029,sk:.0958}],120656:[.444,.007,.483,{sk:.0639}],120657:[.701,.008,.692,{sk:.0958}],120658:[.434,.006,.667,{ic:.067}],120659:[.694,.202,.712,{sk:.0958}],120660:[.451,.194,.612,{sk:.0958}],120661:[.444,.008,.975],120662:[.694,0,.733],120663:[.694,0,.733],120664:[.691,0,.581],120665:[.694,0,.917],120666:[.691,0,.642],120667:[.694,0,.672],120668:[.694,0,.794],120669:[.716,.022,.856],120670:[.694,0,.331],120671:[.694,0,.764],120672:[.694,0,.672],120673:[.694,0,.978],120674:[.694,0,.794],120675:[.688,0,.733],120676:[.716,.022,.794],120677:[.691,0,.794],120678:[.694,0,.703],120680:[.694,0,.794],120681:[.688,0,.733],120682:[.715,0,.856],120683:[.694,0,.794],120684:[.694,0,.733],120685:[.694,0,.856],120686:[.716,0,.794],120782:[.654,.01,.575],120783:[.655,0,.575],120784:[.654,0,.575],120785:[.655,.011,.575],120786:[.656,0,.575],120787:[.655,.011,.575],120788:[.655,.011,.575],120789:[.676,.011,.575],120790:[.654,.011,.575],120791:[.654,.011,.575],120802:[.678,.022,.5],120803:[.678,0,.5],120804:[.677,0,.5],120805:[.678,.022,.5],120806:[.656,0,.5],120807:[.656,.021,.5],120808:[.677,.022,.5],120809:[.656,.011,.5],120810:[.678,.022,.5],120811:[.677,.022,.5],120812:[.715,.022,.55],120813:[.716,0,.55],120814:[.716,0,.55],120815:[.716,.022,.55],120816:[.694,0,.55],120817:[.694,.022,.55],120818:[.716,.022,.55],120819:[.695,.011,.55],120820:[.715,.022,.55],120821:[.716,.022,.55],120822:[.621,.01,.525],120823:[.622,0,.525],120824:[.622,0,.525],120825:[.622,.011,.525],120826:[.624,0,.525],120827:[.611,.01,.525],120828:[.622,.011,.525],120829:[.627,.01,.525],120830:[.621,.01,.525],120831:[.622,.011,.525]},$u.normal=uu.AddCSS(ju.normal,{163:{f:"MI"},165:{f:"A"},174:{f:"A"},183:{c:"\\22C5"},240:{f:"A"},697:{c:"\\2032"},913:{c:"A"},914:{c:"B"},917:{c:"E"},918:{c:"Z"},919:{c:"H"},921:{c:"I"},922:{c:"K"},924:{c:"M"},925:{c:"N"},927:{c:"O"},929:{c:"P"},932:{c:"T"},935:{c:"X"},8192:{c:""},8193:{c:""},8194:{c:""},8195:{c:""},8196:{c:""},8197:{c:""},8198:{c:""},8201:{c:""},8202:{c:""},8203:{c:""},8204:{c:""},8213:{c:"\\2014"},8214:{c:"\\2225"},8215:{c:"_"},8226:{c:"\\2219"},8243:{c:"\\2032\\2032"},8244:{c:"\\2032\\2032\\2032"},8245:{f:"A"},8246:{c:"\\2035\\2035",f:"A"},8247:{c:"\\2035\\2035\\2035",f:"A"},8254:{c:"\\2C9"},8260:{c:"/"},8279:{c:"\\2032\\2032\\2032\\2032"},8288:{c:""},8289:{c:""},8290:{c:""},8291:{c:""},8292:{c:""},8407:{c:"\\2192",f:"V"},8450:{c:"C",f:"A"},8459:{c:"H",f:"SC"},8460:{c:"H",f:"FR"},8461:{c:"H",f:"A"},8462:{c:"h",f:"I"},8463:{f:"A"},8464:{c:"I",f:"SC"},8465:{c:"I",f:"FR"},8466:{c:"L",f:"SC"},8469:{c:"N",f:"A"},8473:{c:"P",f:"A"},8474:{c:"Q",f:"A"},8475:{c:"R",f:"SC"},8476:{c:"R",f:"FR"},8477:{c:"R",f:"A"},8484:{c:"Z",f:"A"},8486:{c:"\\3A9"},8487:{f:"A"},8488:{c:"Z",f:"FR"},8492:{c:"B",f:"SC"},8493:{c:"C",f:"FR"},8496:{c:"E",f:"SC"},8497:{c:"F",f:"SC"},8498:{f:"A"},8499:{c:"M",f:"SC"},8502:{f:"A"},8503:{f:"A"},8504:{f:"A"},8513:{f:"A"},8602:{f:"A"},8603:{f:"A"},8606:{f:"A"},8608:{f:"A"},8610:{f:"A"},8611:{f:"A"},8619:{f:"A"},8620:{f:"A"},8621:{f:"A"},8622:{f:"A"},8624:{f:"A"},8625:{f:"A"},8630:{f:"A"},8631:{f:"A"},8634:{f:"A"},8635:{f:"A"},8638:{f:"A"},8639:{f:"A"},8642:{f:"A"},8643:{f:"A"},8644:{f:"A"},8646:{f:"A"},8647:{f:"A"},8648:{f:"A"},8649:{f:"A"},8650:{f:"A"},8651:{f:"A"},8653:{f:"A"},8654:{f:"A"},8655:{f:"A"},8666:{f:"A"},8667:{f:"A"},8669:{f:"A"},8672:{f:"A"},8674:{f:"A"},8705:{f:"A"},8708:{c:"\\2203\\338"},8710:{c:"\\394"},8716:{c:"\\220B\\338"},8717:{f:"A"},8719:{f:"S1"},8720:{f:"S1"},8721:{f:"S1"},8724:{f:"A"},8737:{f:"A"},8738:{f:"A"},8740:{f:"A"},8742:{f:"A"},8748:{f:"S1"},8749:{f:"S1"},8750:{f:"S1"},8756:{f:"A"},8757:{f:"A"},8765:{f:"A"},8769:{f:"A"},8770:{f:"A"},8772:{c:"\\2243\\338"},8775:{c:"\\2246",f:"A"},8777:{c:"\\2248\\338"},8778:{f:"A"},8782:{f:"A"},8783:{f:"A"},8785:{f:"A"},8786:{f:"A"},8787:{f:"A"},8790:{f:"A"},8791:{f:"A"},8796:{f:"A"},8802:{c:"\\2261\\338"},8806:{f:"A"},8807:{f:"A"},8808:{f:"A"},8809:{f:"A"},8812:{f:"A"},8813:{c:"\\224D\\338"},8814:{f:"A"},8815:{f:"A"},8816:{f:"A"},8817:{f:"A"},8818:{f:"A"},8819:{f:"A"},8820:{c:"\\2272\\338"},8821:{c:"\\2273\\338"},8822:{f:"A"},8823:{f:"A"},8824:{c:"\\2276\\338"},8825:{c:"\\2277\\338"},8828:{f:"A"},8829:{f:"A"},8830:{f:"A"},8831:{f:"A"},8832:{f:"A"},8833:{f:"A"},8836:{c:"\\2282\\338"},8837:{c:"\\2283\\338"},8840:{f:"A"},8841:{f:"A"},8842:{f:"A"},8843:{f:"A"},8847:{f:"A"},8848:{f:"A"},8858:{f:"A"},8859:{f:"A"},8861:{f:"A"},8862:{f:"A"},8863:{f:"A"},8864:{f:"A"},8865:{f:"A"},8873:{f:"A"},8874:{f:"A"},8876:{f:"A"},8877:{f:"A"},8878:{f:"A"},8879:{f:"A"},8882:{f:"A"},8883:{f:"A"},8884:{f:"A"},8885:{f:"A"},8888:{f:"A"},8890:{f:"A"},8891:{f:"A"},8892:{f:"A"},8896:{f:"S1"},8897:{f:"S1"},8898:{f:"S1"},8899:{f:"S1"},8903:{f:"A"},8905:{f:"A"},8906:{f:"A"},8907:{f:"A"},8908:{f:"A"},8909:{f:"A"},8910:{f:"A"},8911:{f:"A"},8912:{f:"A"},8913:{f:"A"},8914:{f:"A"},8915:{f:"A"},8916:{f:"A"},8918:{f:"A"},8919:{f:"A"},8920:{f:"A"},8921:{f:"A"},8922:{f:"A"},8923:{f:"A"},8926:{f:"A"},8927:{f:"A"},8928:{f:"A"},8929:{f:"A"},8930:{c:"\\2291\\338"},8931:{c:"\\2292\\338"},8934:{f:"A"},8935:{f:"A"},8936:{f:"A"},8937:{f:"A"},8938:{f:"A"},8939:{f:"A"},8940:{f:"A"},8941:{f:"A"},8965:{c:"\\22BC",f:"A"},8966:{c:"\\2A5E",f:"A"},8988:{c:"\\250C",f:"A"},8989:{c:"\\2510",f:"A"},8990:{c:"\\2514",f:"A"},8991:{c:"\\2518",f:"A"},9001:{c:"\\27E8"},9002:{c:"\\27E9"},9168:{f:"S1"},9416:{f:"A"},9484:{f:"A"},9488:{f:"A"},9492:{f:"A"},9496:{f:"A"},9585:{f:"A"},9586:{f:"A"},9632:{f:"A"},9633:{f:"A"},9642:{c:"\\25A0",f:"A"},9650:{f:"A"},9652:{c:"\\25B2",f:"A"},9653:{c:"\\25B3"},9654:{f:"A"},9656:{c:"\\25B6",f:"A"},9660:{f:"A"},9662:{c:"\\25BC",f:"A"},9663:{c:"\\25BD"},9664:{f:"A"},9666:{c:"\\25C0",f:"A"},9674:{f:"A"},9723:{c:"\\25A1",f:"A"},9724:{c:"\\25A0",f:"A"},9733:{f:"A"},10003:{f:"A"},10016:{f:"A"},10072:{c:"\\2223"},10731:{f:"A"},10744:{c:"/",f:"I"},10752:{f:"S1"},10753:{f:"S1"},10754:{f:"S1"},10756:{f:"S1"},10758:{f:"S1"},10764:{c:"\\222C\\222C",f:"S1"},10799:{c:"\\D7"},10846:{f:"A"},10877:{f:"A"},10878:{f:"A"},10885:{f:"A"},10886:{f:"A"},10887:{f:"A"},10888:{f:"A"},10889:{f:"A"},10890:{f:"A"},10891:{f:"A"},10892:{f:"A"},10901:{f:"A"},10902:{f:"A"},10933:{f:"A"},10934:{f:"A"},10935:{f:"A"},10936:{f:"A"},10937:{f:"A"},10938:{f:"A"},10949:{f:"A"},10950:{f:"A"},10955:{f:"A"},10956:{f:"A"},12296:{c:"\\27E8"},12297:{c:"\\27E9"},57350:{f:"A"},57351:{f:"A"},57352:{f:"A"},57353:{f:"A"},57356:{f:"A"},57357:{f:"A"},57358:{f:"A"},57359:{f:"A"},57360:{f:"A"},57361:{f:"A"},57366:{f:"A"},57367:{f:"A"},57368:{f:"A"},57369:{f:"A"},57370:{f:"A"},57371:{f:"A"},119808:{c:"A",f:"B"},119809:{c:"B",f:"B"},119810:{c:"C",f:"B"},119811:{c:"D",f:"B"},119812:{c:"E",f:"B"},119813:{c:"F",f:"B"},119814:{c:"G",f:"B"},119815:{c:"H",f:"B"},119816:{c:"I",f:"B"},119817:{c:"J",f:"B"},119818:{c:"K",f:"B"},119819:{c:"L",f:"B"},119820:{c:"M",f:"B"},119821:{c:"N",f:"B"},119822:{c:"O",f:"B"},119823:{c:"P",f:"B"},119824:{c:"Q",f:"B"},119825:{c:"R",f:"B"},119826:{c:"S",f:"B"},119827:{c:"T",f:"B"},119828:{c:"U",f:"B"},119829:{c:"V",f:"B"},119830:{c:"W",f:"B"},119831:{c:"X",f:"B"},119832:{c:"Y",f:"B"},119833:{c:"Z",f:"B"},119834:{c:"a",f:"B"},119835:{c:"b",f:"B"},119836:{c:"c",f:"B"},119837:{c:"d",f:"B"},119838:{c:"e",f:"B"},119839:{c:"f",f:"B"},119840:{c:"g",f:"B"},119841:{c:"h",f:"B"},119842:{c:"i",f:"B"},119843:{c:"j",f:"B"},119844:{c:"k",f:"B"},119845:{c:"l",f:"B"},119846:{c:"m",f:"B"},119847:{c:"n",f:"B"},119848:{c:"o",f:"B"},119849:{c:"p",f:"B"},119850:{c:"q",f:"B"},119851:{c:"r",f:"B"},119852:{c:"s",f:"B"},119853:{c:"t",f:"B"},119854:{c:"u",f:"B"},119855:{c:"v",f:"B"},119856:{c:"w",f:"B"},119857:{c:"x",f:"B"},119858:{c:"y",f:"B"},119859:{c:"z",f:"B"},119860:{c:"A",f:"I"},119861:{c:"B",f:"I"},119862:{c:"C",f:"I"},119863:{c:"D",f:"I"},119864:{c:"E",f:"I"},119865:{c:"F",f:"I"},119866:{c:"G",f:"I"},119867:{c:"H",f:"I"},119868:{c:"I",f:"I"},119869:{c:"J",f:"I"},119870:{c:"K",f:"I"},119871:{c:"L",f:"I"},119872:{c:"M",f:"I"},119873:{c:"N",f:"I"},119874:{c:"O",f:"I"},119875:{c:"P",f:"I"},119876:{c:"Q",f:"I"},119877:{c:"R",f:"I"},119878:{c:"S",f:"I"},119879:{c:"T",f:"I"},119880:{c:"U",f:"I"},119881:{c:"V",f:"I"},119882:{c:"W",f:"I"},119883:{c:"X",f:"I"},119884:{c:"Y",f:"I"},119885:{c:"Z",f:"I"},119886:{c:"a",f:"I"},119887:{c:"b",f:"I"},119888:{c:"c",f:"I"},119889:{c:"d",f:"I"},119890:{c:"e",f:"I"},119891:{c:"f",f:"I"},119892:{c:"g",f:"I"},119894:{c:"i",f:"I"},119895:{c:"j",f:"I"},119896:{c:"k",f:"I"},119897:{c:"l",f:"I"},119898:{c:"m",f:"I"},119899:{c:"n",f:"I"},119900:{c:"o",f:"I"},119901:{c:"p",f:"I"},119902:{c:"q",f:"I"},119903:{c:"r",f:"I"},119904:{c:"s",f:"I"},119905:{c:"t",f:"I"},119906:{c:"u",f:"I"},119907:{c:"v",f:"I"},119908:{c:"w",f:"I"},119909:{c:"x",f:"I"},119910:{c:"y",f:"I"},119911:{c:"z",f:"I"},119912:{c:"A",f:"BI"},119913:{c:"B",f:"BI"},119914:{c:"C",f:"BI"},119915:{c:"D",f:"BI"},119916:{c:"E",f:"BI"},119917:{c:"F",f:"BI"},119918:{c:"G",f:"BI"},119919:{c:"H",f:"BI"},119920:{c:"I",f:"BI"},119921:{c:"J",f:"BI"},119922:{c:"K",f:"BI"},119923:{c:"L",f:"BI"},119924:{c:"M",f:"BI"},119925:{c:"N",f:"BI"},119926:{c:"O",f:"BI"},119927:{c:"P",f:"BI"},119928:{c:"Q",f:"BI"},119929:{c:"R",f:"BI"},119930:{c:"S",f:"BI"},119931:{c:"T",f:"BI"},119932:{c:"U",f:"BI"},119933:{c:"V",f:"BI"},119934:{c:"W",f:"BI"},119935:{c:"X",f:"BI"},119936:{c:"Y",f:"BI"},119937:{c:"Z",f:"BI"},119938:{c:"a",f:"BI"},119939:{c:"b",f:"BI"},119940:{c:"c",f:"BI"},119941:{c:"d",f:"BI"},119942:{c:"e",f:"BI"},119943:{c:"f",f:"BI"},119944:{c:"g",f:"BI"},119945:{c:"h",f:"BI"},119946:{c:"i",f:"BI"},119947:{c:"j",f:"BI"},119948:{c:"k",f:"BI"},119949:{c:"l",f:"BI"},119950:{c:"m",f:"BI"},119951:{c:"n",f:"BI"},119952:{c:"o",f:"BI"},119953:{c:"p",f:"BI"},119954:{c:"q",f:"BI"},119955:{c:"r",f:"BI"},119956:{c:"s",f:"BI"},119957:{c:"t",f:"BI"},119958:{c:"u",f:"BI"},119959:{c:"v",f:"BI"},119960:{c:"w",f:"BI"},119961:{c:"x",f:"BI"},119962:{c:"y",f:"BI"},119963:{c:"z",f:"BI"},119964:{c:"A",f:"SC"},119966:{c:"C",f:"SC"},119967:{c:"D",f:"SC"},119970:{c:"G",f:"SC"},119973:{c:"J",f:"SC"},119974:{c:"K",f:"SC"},119977:{c:"N",f:"SC"},119978:{c:"O",f:"SC"},119979:{c:"P",f:"SC"},119980:{c:"Q",f:"SC"},119982:{c:"S",f:"SC"},119983:{c:"T",f:"SC"},119984:{c:"U",f:"SC"},119985:{c:"V",f:"SC"},119986:{c:"W",f:"SC"},119987:{c:"X",f:"SC"},119988:{c:"Y",f:"SC"},119989:{c:"Z",f:"SC"},120068:{c:"A",f:"FR"},120069:{c:"B",f:"FR"},120071:{c:"D",f:"FR"},120072:{c:"E",f:"FR"},120073:{c:"F",f:"FR"},120074:{c:"G",f:"FR"},120077:{c:"J",f:"FR"},120078:{c:"K",f:"FR"},120079:{c:"L",f:"FR"},120080:{c:"M",f:"FR"},120081:{c:"N",f:"FR"},120082:{c:"O",f:"FR"},120083:{c:"P",f:"FR"},120084:{c:"Q",f:"FR"},120086:{c:"S",f:"FR"},120087:{c:"T",f:"FR"},120088:{c:"U",f:"FR"},120089:{c:"V",f:"FR"},120090:{c:"W",f:"FR"},120091:{c:"X",f:"FR"},120092:{c:"Y",f:"FR"},120094:{c:"a",f:"FR"},120095:{c:"b",f:"FR"},120096:{c:"c",f:"FR"},120097:{c:"d",f:"FR"},120098:{c:"e",f:"FR"},120099:{c:"f",f:"FR"},120100:{c:"g",f:"FR"},120101:{c:"h",f:"FR"},120102:{c:"i",f:"FR"},120103:{c:"j",f:"FR"},120104:{c:"k",f:"FR"},120105:{c:"l",f:"FR"},120106:{c:"m",f:"FR"},120107:{c:"n",f:"FR"},120108:{c:"o",f:"FR"},120109:{c:"p",f:"FR"},120110:{c:"q",f:"FR"},120111:{c:"r",f:"FR"},120112:{c:"s",f:"FR"},120113:{c:"t",f:"FR"},120114:{c:"u",f:"FR"},120115:{c:"v",f:"FR"},120116:{c:"w",f:"FR"},120117:{c:"x",f:"FR"},120118:{c:"y",f:"FR"},120119:{c:"z",f:"FR"},120120:{c:"A",f:"A"},120121:{c:"B",f:"A"},120123:{c:"D",f:"A"},120124:{c:"E",f:"A"},120125:{c:"F",f:"A"},120126:{c:"G",f:"A"},120128:{c:"I",f:"A"},120129:{c:"J",f:"A"},120130:{c:"K",f:"A"},120131:{c:"L",f:"A"},120132:{c:"M",f:"A"},120134:{c:"O",f:"A"},120138:{c:"S",f:"A"},120139:{c:"T",f:"A"},120140:{c:"U",f:"A"},120141:{c:"V",f:"A"},120142:{c:"W",f:"A"},120143:{c:"X",f:"A"},120144:{c:"Y",f:"A"},120172:{c:"A",f:"FRB"},120173:{c:"B",f:"FRB"},120174:{c:"C",f:"FRB"},120175:{c:"D",f:"FRB"},120176:{c:"E",f:"FRB"},120177:{c:"F",f:"FRB"},120178:{c:"G",f:"FRB"},120179:{c:"H",f:"FRB"},120180:{c:"I",f:"FRB"},120181:{c:"J",f:"FRB"},120182:{c:"K",f:"FRB"},120183:{c:"L",f:"FRB"},120184:{c:"M",f:"FRB"},120185:{c:"N",f:"FRB"},120186:{c:"O",f:"FRB"},120187:{c:"P",f:"FRB"},120188:{c:"Q",f:"FRB"},120189:{c:"R",f:"FRB"},120190:{c:"S",f:"FRB"},120191:{c:"T",f:"FRB"},120192:{c:"U",f:"FRB"},120193:{c:"V",f:"FRB"},120194:{c:"W",f:"FRB"},120195:{c:"X",f:"FRB"},120196:{c:"Y",f:"FRB"},120197:{c:"Z",f:"FRB"},120198:{c:"a",f:"FRB"},120199:{c:"b",f:"FRB"},120200:{c:"c",f:"FRB"},120201:{c:"d",f:"FRB"},120202:{c:"e",f:"FRB"},120203:{c:"f",f:"FRB"},120204:{c:"g",f:"FRB"},120205:{c:"h",f:"FRB"},120206:{c:"i",f:"FRB"},120207:{c:"j",f:"FRB"},120208:{c:"k",f:"FRB"},120209:{c:"l",f:"FRB"},120210:{c:"m",f:"FRB"},120211:{c:"n",f:"FRB"},120212:{c:"o",f:"FRB"},120213:{c:"p",f:"FRB"},120214:{c:"q",f:"FRB"},120215:{c:"r",f:"FRB"},120216:{c:"s",f:"FRB"},120217:{c:"t",f:"FRB"},120218:{c:"u",f:"FRB"},120219:{c:"v",f:"FRB"},120220:{c:"w",f:"FRB"},120221:{c:"x",f:"FRB"},120222:{c:"y",f:"FRB"},120223:{c:"z",f:"FRB"},120224:{c:"A",f:"SS"},120225:{c:"B",f:"SS"},120226:{c:"C",f:"SS"},120227:{c:"D",f:"SS"},120228:{c:"E",f:"SS"},120229:{c:"F",f:"SS"},120230:{c:"G",f:"SS"},120231:{c:"H",f:"SS"},120232:{c:"I",f:"SS"},120233:{c:"J",f:"SS"},120234:{c:"K",f:"SS"},120235:{c:"L",f:"SS"},120236:{c:"M",f:"SS"},120237:{c:"N",f:"SS"},120238:{c:"O",f:"SS"},120239:{c:"P",f:"SS"},120240:{c:"Q",f:"SS"},120241:{c:"R",f:"SS"},120242:{c:"S",f:"SS"},120243:{c:"T",f:"SS"},120244:{c:"U",f:"SS"},120245:{c:"V",f:"SS"},120246:{c:"W",f:"SS"},120247:{c:"X",f:"SS"},120248:{c:"Y",f:"SS"},120249:{c:"Z",f:"SS"},120250:{c:"a",f:"SS"},120251:{c:"b",f:"SS"},120252:{c:"c",f:"SS"},120253:{c:"d",f:"SS"},120254:{c:"e",f:"SS"},120255:{c:"f",f:"SS"},120256:{c:"g",f:"SS"},120257:{c:"h",f:"SS"},120258:{c:"i",f:"SS"},120259:{c:"j",f:"SS"},120260:{c:"k",f:"SS"},120261:{c:"l",f:"SS"},120262:{c:"m",f:"SS"},120263:{c:"n",f:"SS"},120264:{c:"o",f:"SS"},120265:{c:"p",f:"SS"},120266:{c:"q",f:"SS"},120267:{c:"r",f:"SS"},120268:{c:"s",f:"SS"},120269:{c:"t",f:"SS"},120270:{c:"u",f:"SS"},120271:{c:"v",f:"SS"},120272:{c:"w",f:"SS"},120273:{c:"x",f:"SS"},120274:{c:"y",f:"SS"},120275:{c:"z",f:"SS"},120276:{c:"A",f:"SSB"},120277:{c:"B",f:"SSB"},120278:{c:"C",f:"SSB"},120279:{c:"D",f:"SSB"},120280:{c:"E",f:"SSB"},120281:{c:"F",f:"SSB"},120282:{c:"G",f:"SSB"},120283:{c:"H",f:"SSB"},120284:{c:"I",f:"SSB"},120285:{c:"J",f:"SSB"},120286:{c:"K",f:"SSB"},120287:{c:"L",f:"SSB"},120288:{c:"M",f:"SSB"},120289:{c:"N",f:"SSB"},120290:{c:"O",f:"SSB"},120291:{c:"P",f:"SSB"},120292:{c:"Q",f:"SSB"},120293:{c:"R",f:"SSB"},120294:{c:"S",f:"SSB"},120295:{c:"T",f:"SSB"},120296:{c:"U",f:"SSB"},120297:{c:"V",f:"SSB"},120298:{c:"W",f:"SSB"},120299:{c:"X",f:"SSB"},120300:{c:"Y",f:"SSB"},120301:{c:"Z",f:"SSB"},120302:{c:"a",f:"SSB"},120303:{c:"b",f:"SSB"},120304:{c:"c",f:"SSB"},120305:{c:"d",f:"SSB"},120306:{c:"e",f:"SSB"},120307:{c:"f",f:"SSB"},120308:{c:"g",f:"SSB"},120309:{c:"h",f:"SSB"},120310:{c:"i",f:"SSB"},120311:{c:"j",f:"SSB"},120312:{c:"k",f:"SSB"},120313:{c:"l",f:"SSB"},120314:{c:"m",f:"SSB"},120315:{c:"n",f:"SSB"},120316:{c:"o",f:"SSB"},120317:{c:"p",f:"SSB"},120318:{c:"q",f:"SSB"},120319:{c:"r",f:"SSB"},120320:{c:"s",f:"SSB"},120321:{c:"t",f:"SSB"},120322:{c:"u",f:"SSB"},120323:{c:"v",f:"SSB"},120324:{c:"w",f:"SSB"},120325:{c:"x",f:"SSB"},120326:{c:"y",f:"SSB"},120327:{c:"z",f:"SSB"},120328:{c:"A",f:"SSI"},120329:{c:"B",f:"SSI"},120330:{c:"C",f:"SSI"},120331:{c:"D",f:"SSI"},120332:{c:"E",f:"SSI"},120333:{c:"F",f:"SSI"},120334:{c:"G",f:"SSI"},120335:{c:"H",f:"SSI"},120336:{c:"I",f:"SSI"},120337:{c:"J",f:"SSI"},120338:{c:"K",f:"SSI"},120339:{c:"L",f:"SSI"},120340:{c:"M",f:"SSI"},120341:{c:"N",f:"SSI"},120342:{c:"O",f:"SSI"},120343:{c:"P",f:"SSI"},120344:{c:"Q",f:"SSI"},120345:{c:"R",f:"SSI"},120346:{c:"S",f:"SSI"},120347:{c:"T",f:"SSI"},120348:{c:"U",f:"SSI"},120349:{c:"V",f:"SSI"},120350:{c:"W",f:"SSI"},120351:{c:"X",f:"SSI"},120352:{c:"Y",f:"SSI"},120353:{c:"Z",f:"SSI"},120354:{c:"a",f:"SSI"},120355:{c:"b",f:"SSI"},120356:{c:"c",f:"SSI"},120357:{c:"d",f:"SSI"},120358:{c:"e",f:"SSI"},120359:{c:"f",f:"SSI"},120360:{c:"g",f:"SSI"},120361:{c:"h",f:"SSI"},120362:{c:"i",f:"SSI"},120363:{c:"j",f:"SSI"},120364:{c:"k",f:"SSI"},120365:{c:"l",f:"SSI"},120366:{c:"m",f:"SSI"},120367:{c:"n",f:"SSI"},120368:{c:"o",f:"SSI"},120369:{c:"p",f:"SSI"},120370:{c:"q",f:"SSI"},120371:{c:"r",f:"SSI"},120372:{c:"s",f:"SSI"},120373:{c:"t",f:"SSI"},120374:{c:"u",f:"SSI"},120375:{c:"v",f:"SSI"},120376:{c:"w",f:"SSI"},120377:{c:"x",f:"SSI"},120378:{c:"y",f:"SSI"},120379:{c:"z",f:"SSI"},120432:{c:"A",f:"T"},120433:{c:"B",f:"T"},120434:{c:"C",f:"T"},120435:{c:"D",f:"T"},120436:{c:"E",f:"T"},120437:{c:"F",f:"T"},120438:{c:"G",f:"T"},120439:{c:"H",f:"T"},120440:{c:"I",f:"T"},120441:{c:"J",f:"T"},120442:{c:"K",f:"T"},120443:{c:"L",f:"T"},120444:{c:"M",f:"T"},120445:{c:"N",f:"T"},120446:{c:"O",f:"T"},120447:{c:"P",f:"T"},120448:{c:"Q",f:"T"},120449:{c:"R",f:"T"},120450:{c:"S",f:"T"},120451:{c:"T",f:"T"},120452:{c:"U",f:"T"},120453:{c:"V",f:"T"},120454:{c:"W",f:"T"},120455:{c:"X",f:"T"},120456:{c:"Y",f:"T"},120457:{c:"Z",f:"T"},120458:{c:"a",f:"T"},120459:{c:"b",f:"T"},120460:{c:"c",f:"T"},120461:{c:"d",f:"T"},120462:{c:"e",f:"T"},120463:{c:"f",f:"T"},120464:{c:"g",f:"T"},120465:{c:"h",f:"T"},120466:{c:"i",f:"T"},120467:{c:"j",f:"T"},120468:{c:"k",f:"T"},120469:{c:"l",f:"T"},120470:{c:"m",f:"T"},120471:{c:"n",f:"T"},120472:{c:"o",f:"T"},120473:{c:"p",f:"T"},120474:{c:"q",f:"T"},120475:{c:"r",f:"T"},120476:{c:"s",f:"T"},120477:{c:"t",f:"T"},120478:{c:"u",f:"T"},120479:{c:"v",f:"T"},120480:{c:"w",f:"T"},120481:{c:"x",f:"T"},120482:{c:"y",f:"T"},120483:{c:"z",f:"T"},120488:{c:"A",f:"B"},120489:{c:"B",f:"B"},120490:{c:"\\393",f:"B"},120491:{c:"\\394",f:"B"},120492:{c:"E",f:"B"},120493:{c:"Z",f:"B"},120494:{c:"H",f:"B"},120495:{c:"\\398",f:"B"},120496:{c:"I",f:"B"},120497:{c:"K",f:"B"},120498:{c:"\\39B",f:"B"},120499:{c:"M",f:"B"},120500:{c:"N",f:"B"},120501:{c:"\\39E",f:"B"},120502:{c:"O",f:"B"},120503:{c:"\\3A0",f:"B"},120504:{c:"P",f:"B"},120506:{c:"\\3A3",f:"B"},120507:{c:"T",f:"B"},120508:{c:"\\3A5",f:"B"},120509:{c:"\\3A6",f:"B"},120510:{c:"X",f:"B"},120511:{c:"\\3A8",f:"B"},120512:{c:"\\3A9",f:"B"},120513:{c:"\\2207",f:"B"},120546:{c:"A",f:"I"},120547:{c:"B",f:"I"},120548:{c:"\\393",f:"I"},120549:{c:"\\394",f:"I"},120550:{c:"E",f:"I"},120551:{c:"Z",f:"I"},120552:{c:"H",f:"I"},120553:{c:"\\398",f:"I"},120554:{c:"I",f:"I"},120555:{c:"K",f:"I"},120556:{c:"\\39B",f:"I"},120557:{c:"M",f:"I"},120558:{c:"N",f:"I"},120559:{c:"\\39E",f:"I"},120560:{c:"O",f:"I"},120561:{c:"\\3A0",f:"I"},120562:{c:"P",f:"I"},120564:{c:"\\3A3",f:"I"},120565:{c:"T",f:"I"},120566:{c:"\\3A5",f:"I"},120567:{c:"\\3A6",f:"I"},120568:{c:"X",f:"I"},120569:{c:"\\3A8",f:"I"},120570:{c:"\\3A9",f:"I"},120572:{c:"\\3B1",f:"I"},120573:{c:"\\3B2",f:"I"},120574:{c:"\\3B3",f:"I"},120575:{c:"\\3B4",f:"I"},120576:{c:"\\3B5",f:"I"},120577:{c:"\\3B6",f:"I"},120578:{c:"\\3B7",f:"I"},120579:{c:"\\3B8",f:"I"},120580:{c:"\\3B9",f:"I"},120581:{c:"\\3BA",f:"I"},120582:{c:"\\3BB",f:"I"},120583:{c:"\\3BC",f:"I"},120584:{c:"\\3BD",f:"I"},120585:{c:"\\3BE",f:"I"},120586:{c:"\\3BF",f:"I"},120587:{c:"\\3C0",f:"I"},120588:{c:"\\3C1",f:"I"},120589:{c:"\\3C2",f:"I"},120590:{c:"\\3C3",f:"I"},120591:{c:"\\3C4",f:"I"},120592:{c:"\\3C5",f:"I"},120593:{c:"\\3C6",f:"I"},120594:{c:"\\3C7",f:"I"},120595:{c:"\\3C8",f:"I"},120596:{c:"\\3C9",f:"I"},120597:{c:"\\2202"},120598:{c:"\\3F5",f:"I"},120599:{c:"\\3D1",f:"I"},120600:{c:"\\E009",f:"A"},120601:{c:"\\3D5",f:"I"},120602:{c:"\\3F1",f:"I"},120603:{c:"\\3D6",f:"I"},120604:{c:"A",f:"BI"},120605:{c:"B",f:"BI"},120606:{c:"\\393",f:"BI"},120607:{c:"\\394",f:"BI"},120608:{c:"E",f:"BI"},120609:{c:"Z",f:"BI"},120610:{c:"H",f:"BI"},120611:{c:"\\398",f:"BI"},120612:{c:"I",f:"BI"},120613:{c:"K",f:"BI"},120614:{c:"\\39B",f:"BI"},120615:{c:"M",f:"BI"},120616:{c:"N",f:"BI"},120617:{c:"\\39E",f:"BI"},120618:{c:"O",f:"BI"},120619:{c:"\\3A0",f:"BI"},120620:{c:"P",f:"BI"},120622:{c:"\\3A3",f:"BI"},120623:{c:"T",f:"BI"},120624:{c:"\\3A5",f:"BI"},120625:{c:"\\3A6",f:"BI"},120626:{c:"X",f:"BI"},120627:{c:"\\3A8",f:"BI"},120628:{c:"\\3A9",f:"BI"},120630:{c:"\\3B1",f:"BI"},120631:{c:"\\3B2",f:"BI"},120632:{c:"\\3B3",f:"BI"},120633:{c:"\\3B4",f:"BI"},120634:{c:"\\3B5",f:"BI"},120635:{c:"\\3B6",f:"BI"},120636:{c:"\\3B7",f:"BI"},120637:{c:"\\3B8",f:"BI"},120638:{c:"\\3B9",f:"BI"},120639:{c:"\\3BA",f:"BI"},120640:{c:"\\3BB",f:"BI"},120641:{c:"\\3BC",f:"BI"},120642:{c:"\\3BD",f:"BI"},120643:{c:"\\3BE",f:"BI"},120644:{c:"\\3BF",f:"BI"},120645:{c:"\\3C0",f:"BI"},120646:{c:"\\3C1",f:"BI"},120647:{c:"\\3C2",f:"BI"},120648:{c:"\\3C3",f:"BI"},120649:{c:"\\3C4",f:"BI"},120650:{c:"\\3C5",f:"BI"},120651:{c:"\\3C6",f:"BI"},120652:{c:"\\3C7",f:"BI"},120653:{c:"\\3C8",f:"BI"},120654:{c:"\\3C9",f:"BI"},120655:{c:"\\2202",f:"B"},120656:{c:"\\3F5",f:"BI"},120657:{c:"\\3D1",f:"BI"},120658:{c:"\\E009",f:"A"},120659:{c:"\\3D5",f:"BI"},120660:{c:"\\3F1",f:"BI"},120661:{c:"\\3D6",f:"BI"},120662:{c:"A",f:"SSB"},120663:{c:"B",f:"SSB"},120664:{c:"\\393",f:"SSB"},120665:{c:"\\394",f:"SSB"},120666:{c:"E",f:"SSB"},120667:{c:"Z",f:"SSB"},120668:{c:"H",f:"SSB"},120669:{c:"\\398",f:"SSB"},120670:{c:"I",f:"SSB"},120671:{c:"K",f:"SSB"},120672:{c:"\\39B",f:"SSB"},120673:{c:"M",f:"SSB"},120674:{c:"N",f:"SSB"},120675:{c:"\\39E",f:"SSB"},120676:{c:"O",f:"SSB"},120677:{c:"\\3A0",f:"SSB"},120678:{c:"P",f:"SSB"},120680:{c:"\\3A3",f:"SSB"},120681:{c:"T",f:"SSB"},120682:{c:"\\3A5",f:"SSB"},120683:{c:"\\3A6",f:"SSB"},120684:{c:"X",f:"SSB"},120685:{c:"\\3A8",f:"SSB"},120686:{c:"\\3A9",f:"SSB"},120782:{c:"0",f:"B"},120783:{c:"1",f:"B"},120784:{c:"2",f:"B"},120785:{c:"3",f:"B"},120786:{c:"4",f:"B"},120787:{c:"5",f:"B"},120788:{c:"6",f:"B"},120789:{c:"7",f:"B"},120790:{c:"8",f:"B"},120791:{c:"9",f:"B"},120802:{c:"0",f:"SS"},120803:{c:"1",f:"SS"},120804:{c:"2",f:"SS"},120805:{c:"3",f:"SS"},120806:{c:"4",f:"SS"},120807:{c:"5",f:"SS"},120808:{c:"6",f:"SS"},120809:{c:"7",f:"SS"},120810:{c:"8",f:"SS"},120811:{c:"9",f:"SS"},120812:{c:"0",f:"SSB"},120813:{c:"1",f:"SSB"},120814:{c:"2",f:"SSB"},120815:{c:"3",f:"SSB"},120816:{c:"4",f:"SSB"},120817:{c:"5",f:"SSB"},120818:{c:"6",f:"SSB"},120819:{c:"7",f:"SSB"},120820:{c:"8",f:"SSB"},120821:{c:"9",f:"SSB"},120822:{c:"0",f:"T"},120823:{c:"1",f:"T"},120824:{c:"2",f:"T"},120825:{c:"3",f:"T"},120826:{c:"4",f:"T"},120827:{c:"5",f:"T"},120828:{c:"6",f:"T"},120829:{c:"7",f:"T"},120830:{c:"8",f:"T"},120831:{c:"9",f:"T"}});var Hu={};Object.defineProperty(Hu,"__esModule",{value:!0}),Hu.sansSerifBoldItalic=void 0;var Wu={};Object.defineProperty(Wu,"__esModule",{value:!0}),Wu.sansSerifBoldItalic=void 0,Wu.sansSerifBoldItalic={305:[.458,0,.256],567:[.458,.205,.286]},Hu.sansSerifBoldItalic=uu.AddCSS(Wu.sansSerifBoldItalic,{305:{f:"SSB"},567:{f:"SSB"}});var zu={};Object.defineProperty(zu,"__esModule",{value:!0}),zu.sansSerifBold=void 0;var Vu={};Object.defineProperty(Vu,"__esModule",{value:!0}),Vu.sansSerifBold=void 0,Vu.sansSerifBold={33:[.694,0,.367],34:[.694,-.442,.558],35:[.694,.193,.917],36:[.75,.056,.55],37:[.75,.056,1.029],38:[.716,.022,.831],39:[.694,-.442,.306],40:[.75,.249,.428],41:[.75,.25,.428],42:[.75,-.293,.55],43:[.617,.116,.856],44:[.146,.106,.306],45:[.273,-.186,.367],46:[.146,0,.306],47:[.75,.249,.55],58:[.458,0,.306],59:[.458,.106,.306],61:[.407,-.094,.856],63:[.705,0,.519],64:[.704,.011,.733],91:[.75,.25,.343],93:[.75,.25,.343],94:[.694,-.537,.55],95:[-.023,.11,.55],126:[.344,-.198,.55],305:[.458,0,.256],567:[.458,.205,.286],768:[.694,-.537,0],769:[.694,-.537,0],770:[.694,-.537,0],771:[.694,-.548,0],772:[.66,-.56,0],774:[.694,-.552,0],775:[.695,-.596,0],776:[.695,-.595,0],778:[.694,-.538,0],779:[.694,-.537,0],780:[.657,-.5,0],8211:[.327,-.24,.55],8212:[.327,-.24,1.1],8213:[.327,-.24,1.1],8215:[-.023,.11,.55],8216:[.694,-.443,.306],8217:[.694,-.442,.306],8220:[.694,-.443,.558],8221:[.694,-.442,.558],8260:[.75,.249,.55],8710:[.694,0,.917]},zu.sansSerifBold=uu.AddCSS(Vu.sansSerifBold,{8213:{c:"\\2014"},8215:{c:"_"},8260:{c:"/"},8710:{c:"\\394"}});var Xu={};Object.defineProperty(Xu,"__esModule",{value:!0}),Xu.sansSerifItalic=void 0;var qu={};Object.defineProperty(qu,"__esModule",{value:!0}),qu.sansSerifItalic=void 0,qu.sansSerifItalic={33:[.694,0,.319,{ic:.036}],34:[.694,-.471,.5],35:[.694,.194,.833,{ic:.018}],36:[.75,.056,.5,{ic:.065}],37:[.75,.056,.833],38:[.716,.022,.758],39:[.694,-.471,.278,{ic:.057}],40:[.75,.25,.389,{ic:.102}],41:[.75,.25,.389],42:[.75,-.306,.5,{ic:.068}],43:[.583,.083,.778],44:[.098,.125,.278],45:[.259,-.186,.333],46:[.098,0,.278],47:[.75,.25,.5,{ic:.1}],48:[.678,.022,.5,{ic:.049}],49:[.678,0,.5],50:[.678,0,.5,{ic:.051}],51:[.678,.022,.5,{ic:.044}],52:[.656,0,.5,{ic:.021}],53:[.656,.022,.5,{ic:.055}],54:[.678,.022,.5,{ic:.048}],55:[.656,.011,.5,{ic:.096}],56:[.678,.022,.5,{ic:.054}],57:[.677,.022,.5,{ic:.045}],58:[.444,0,.278],59:[.444,.125,.278],61:[.37,-.13,.778,{ic:.018}],63:[.704,0,.472,{ic:.064}],64:[.705,.01,.667,{ic:.04}],91:[.75,.25,.289,{ic:.136}],93:[.75,.25,.289,{ic:.064}],94:[.694,-.527,.5,{ic:.033}],95:[-.038,.114,.5,{ic:.065}],126:[.327,-.193,.5,{ic:.06}],305:[.444,0,.239,{ic:.019}],567:[.444,.204,.267,{ic:.019}],768:[.694,-.527,0],769:[.694,-.527,0,{ic:.063}],770:[.694,-.527,0,{ic:.033}],771:[.677,-.543,0,{ic:.06}],772:[.631,-.552,0,{ic:.064}],774:[.694,-.508,0,{ic:.073}],775:[.68,-.576,0],776:[.68,-.582,0,{ic:.04}],778:[.693,-.527,0],779:[.694,-.527,0,{ic:.063}],780:[.654,-.487,0,{ic:.06}],913:[.694,0,.667],914:[.694,0,.667,{ic:.029}],915:[.691,0,.542,{ic:.104}],916:[.694,0,.833],917:[.691,0,.597,{ic:.091}],918:[.694,0,.611,{ic:.091}],919:[.694,0,.708,{ic:.06}],920:[.715,.022,.778,{ic:.026}],921:[.694,0,.278,{ic:.06}],922:[.694,0,.694,{ic:.091}],923:[.694,0,.611],924:[.694,0,.875,{ic:.054}],925:[.694,0,.708,{ic:.058}],926:[.688,0,.667,{ic:.098}],927:[.716,.022,.736,{ic:.027}],928:[.691,0,.708,{ic:.06}],929:[.694,0,.639,{ic:.051}],931:[.694,0,.722,{ic:.091}],932:[.688,0,.681,{ic:.109}],933:[.716,0,.778,{ic:.065}],934:[.694,0,.722,{ic:.021}],935:[.694,0,.667,{ic:.091}],936:[.694,0,.778,{ic:.076}],937:[.716,0,.722,{ic:.047}],8211:[.312,-.236,.5,{ic:.065}],8212:[.312,-.236,1,{ic:.065}],8213:[.312,-.236,1,{ic:.065}],8215:[-.038,.114,.5,{ic:.065}],8216:[.694,-.471,.278,{ic:.058}],8217:[.694,-.471,.278,{ic:.057}],8220:[.694,-.471,.5,{ic:.114}],8221:[.694,-.471,.5],8260:[.75,.25,.5,{ic:.1}],8710:[.694,0,.833]},Xu.sansSerifItalic=uu.AddCSS(qu.sansSerifItalic,{913:{c:"A"},914:{c:"B"},917:{c:"E"},918:{c:"Z"},919:{c:"H"},921:{c:"I"},922:{c:"K"},924:{c:"M"},925:{c:"N"},927:{c:"O"},929:{c:"P"},932:{c:"T"},935:{c:"X"},8213:{c:"\\2014"},8215:{c:"_"},8260:{c:"/"},8710:{c:"\\394"}});var Gu={};Object.defineProperty(Gu,"__esModule",{value:!0}),Gu.sansSerif=void 0;var Uu={};Object.defineProperty(Uu,"__esModule",{value:!0}),Uu.sansSerif=void 0,Uu.sansSerif={33:[.694,0,.319],34:[.694,-.471,.5],35:[.694,.194,.833],36:[.75,.056,.5],37:[.75,.056,.833],38:[.716,.022,.758],39:[.694,-.471,.278],40:[.75,.25,.389],41:[.75,.25,.389],42:[.75,-.306,.5],43:[.583,.082,.778],44:[.098,.125,.278],45:[.259,-.186,.333],46:[.098,0,.278],47:[.75,.25,.5],58:[.444,0,.278],59:[.444,.125,.278],61:[.37,-.13,.778],63:[.704,0,.472],64:[.704,.011,.667],91:[.75,.25,.289],93:[.75,.25,.289],94:[.694,-.527,.5],95:[-.038,.114,.5],126:[.327,-.193,.5],305:[.444,0,.239],567:[.444,.205,.267],768:[.694,-.527,0],769:[.694,-.527,0],770:[.694,-.527,0],771:[.677,-.543,0],772:[.631,-.552,0],774:[.694,-.508,0],775:[.68,-.576,0],776:[.68,-.582,0],778:[.694,-.527,0],779:[.694,-.527,0],780:[.654,-.487,0],913:[.694,0,.667],914:[.694,0,.667],915:[.691,0,.542],916:[.694,0,.833],917:[.691,0,.597],918:[.694,0,.611],919:[.694,0,.708],920:[.716,.021,.778],921:[.694,0,.278],922:[.694,0,.694],923:[.694,0,.611],924:[.694,0,.875],925:[.694,0,.708],926:[.688,0,.667],927:[.715,.022,.736],928:[.691,0,.708],929:[.694,0,.639],931:[.694,0,.722],932:[.688,0,.681],933:[.716,0,.778],934:[.694,0,.722],935:[.694,0,.667],936:[.694,0,.778],937:[.716,0,.722],8211:[.312,-.236,.5],8212:[.312,-.236,1],8213:[.312,-.236,1],8215:[-.038,.114,.5],8216:[.694,-.471,.278],8217:[.694,-.471,.278],8220:[.694,-.471,.5],8221:[.694,-.471,.5],8260:[.75,.25,.5],8710:[.694,0,.833]},Gu.sansSerif=uu.AddCSS(Uu.sansSerif,{913:{c:"A"},914:{c:"B"},917:{c:"E"},918:{c:"Z"},919:{c:"H"},921:{c:"I"},922:{c:"K"},924:{c:"M"},925:{c:"N"},927:{c:"O"},929:{c:"P"},932:{c:"T"},935:{c:"X"},8213:{c:"\\2014"},8215:{c:"_"},8260:{c:"/"},8710:{c:"\\394"}});var Ku={};Object.defineProperty(Ku,"__esModule",{value:!0}),Ku.scriptBold=void 0;var Ju={};Object.defineProperty(Ju,"__esModule",{value:!0}),Ju.scriptBold=void 0,Ju.scriptBold={},Object.defineProperty(Ku,"scriptBold",{enumerable:!0,get:function(){return Ju.scriptBold}});var Qu={};Object.defineProperty(Qu,"__esModule",{value:!0}),Qu.script=void 0;var Yu={};Object.defineProperty(Yu,"__esModule",{value:!0}),Yu.script=void 0,Yu.script={},Object.defineProperty(Qu,"script",{enumerable:!0,get:function(){return Yu.script}});var Zu={};Object.defineProperty(Zu,"__esModule",{value:!0}),Zu.smallop=void 0;var th={};Object.defineProperty(th,"__esModule",{value:!0}),th.smallop=void 0,th.smallop={40:[.85,.349,.458],41:[.85,.349,.458],47:[.85,.349,.578],91:[.85,.349,.417],92:[.85,.349,.578],93:[.85,.349,.417],123:[.85,.349,.583],125:[.85,.349,.583],710:[.744,-.551,.556],732:[.722,-.597,.556],770:[.744,-.551,0],771:[.722,-.597,0],8214:[.602,0,.778],8260:[.85,.349,.578],8593:[.6,0,.667],8595:[.6,0,.667],8657:[.599,0,.778],8659:[.6,0,.778],8719:[.75,.25,.944],8720:[.75,.25,.944],8721:[.75,.25,1.056],8730:[.85,.35,1,{ic:.02}],8739:[.627,.015,.333],8741:[.627,.015,.556],8747:[.805,.306,.472,{ic:.138}],8748:[.805,.306,.819,{ic:.138}],8749:[.805,.306,1.166,{ic:.138}],8750:[.805,.306,.472,{ic:.138}],8896:[.75,.249,.833],8897:[.75,.249,.833],8898:[.75,.249,.833],8899:[.75,.249,.833],8968:[.85,.349,.472],8969:[.85,.349,.472],8970:[.85,.349,.472],8971:[.85,.349,.472],9001:[.85,.35,.472],9002:[.85,.35,.472],9168:[.602,0,.667],10072:[.627,.015,.333],10216:[.85,.35,.472],10217:[.85,.35,.472],10752:[.75,.25,1.111],10753:[.75,.25,1.111],10754:[.75,.25,1.111],10756:[.75,.249,.833],10758:[.75,.249,.833],10764:[.805,.306,1.638,{ic:.138}],12296:[.85,.35,.472],12297:[.85,.35,.472]},Zu.smallop=uu.AddCSS(th.smallop,{8260:{c:"/"},9001:{c:"\\27E8"},9002:{c:"\\27E9"},10072:{c:"\\2223"},10764:{c:"\\222C\\222C"},12296:{c:"\\27E8"},12297:{c:"\\27E9"}});var eh={};Object.defineProperty(eh,"__esModule",{value:!0}),eh.texCalligraphicBold=void 0;var rh={};Object.defineProperty(rh,"__esModule",{value:!0}),rh.texCalligraphicBold=void 0,rh.texCalligraphicBold={65:[.751,.049,.921,{ic:.068,sk:.224}],66:[.705,.017,.748,{sk:.16}],67:[.703,.02,.613,{sk:.16}],68:[.686,0,.892,{sk:.0958}],69:[.703,.016,.607,{ic:.02,sk:.128}],70:[.686,.03,.814,{ic:.116,sk:.128}],71:[.703,.113,.682,{sk:.128}],72:[.686,.048,.987,{sk:.128}],73:[.686,0,.642,{ic:.104,sk:.0319}],74:[.686,.114,.779,{ic:.158,sk:.192}],75:[.703,.017,.871,{sk:.0639}],76:[.703,.017,.788,{sk:.16}],77:[.703,.049,1.378,{sk:.16}],78:[.84,.049,.937,{ic:.168,sk:.0958}],79:[.703,.017,.906,{sk:.128}],80:[.686,.067,.81,{ic:.036,sk:.0958}],81:[.703,.146,.939,{sk:.128}],82:[.686,.017,.99,{sk:.0958}],83:[.703,.016,.696,{ic:.025,sk:.16}],84:[.72,.069,.644,{ic:.303,sk:.0319}],85:[.686,.024,.715,{ic:.056,sk:.0958}],86:[.686,.077,.737,{ic:.037,sk:.0319}],87:[.686,.077,1.169,{ic:.037,sk:.0958}],88:[.686,0,.817,{ic:.089,sk:.16}],89:[.686,.164,.759,{ic:.038,sk:.0958}],90:[.686,0,.818,{ic:.035,sk:.16}],305:[.452,.008,.394,{sk:.0319}],567:[.451,.201,.439,{sk:.0958}]},eh.texCalligraphicBold=uu.AddCSS(rh.texCalligraphicBold,{305:{f:"B"},567:{f:"B"}});var nh={};Object.defineProperty(nh,"__esModule",{value:!0}),nh.texCalligraphic=void 0;var ih={};Object.defineProperty(ih,"__esModule",{value:!0}),ih.texCalligraphic=void 0,ih.texCalligraphic={65:[.728,.05,.798,{ic:.021,sk:.194}],66:[.705,.022,.657,{sk:.139}],67:[.705,.025,.527,{sk:.139}],68:[.683,0,.771,{sk:.0833}],69:[.705,.022,.528,{ic:.036,sk:.111}],70:[.683,.032,.719,{ic:.11,sk:.111}],71:[.704,.119,.595,{sk:.111}],72:[.683,.048,.845,{sk:.111}],73:[.683,0,.545,{ic:.097,sk:.0278}],74:[.683,.119,.678,{ic:.161,sk:.167}],75:[.705,.022,.762,{sk:.0556}],76:[.705,.022,.69,{sk:.139}],77:[.705,.05,1.201,{sk:.139}],78:[.789,.05,.82,{ic:.159,sk:.0833}],79:[.705,.022,.796,{sk:.111}],80:[.683,.057,.696,{ic:.037,sk:.0833}],81:[.705,.131,.817,{sk:.111}],82:[.682,.022,.848,{sk:.0833}],83:[.705,.022,.606,{ic:.036,sk:.139}],84:[.717,.068,.545,{ic:.288,sk:.0278}],85:[.683,.028,.626,{ic:.061,sk:.0833}],86:[.683,.052,.613,{ic:.045,sk:.0278}],87:[.683,.053,.988,{ic:.046,sk:.0833}],88:[.683,0,.713,{ic:.094,sk:.139}],89:[.683,.143,.668,{ic:.046,sk:.0833}],90:[.683,0,.725,{ic:.042,sk:.139}]},Object.defineProperty(nh,"texCalligraphic",{enumerable:!0,get:function(){return ih.texCalligraphic}});var oh={};Object.defineProperty(oh,"__esModule",{value:!0}),oh.texMathit=void 0;var sh={};Object.defineProperty(sh,"__esModule",{value:!0}),sh.texMathit=void 0,sh.texMathit={65:[.716,0,.743],66:[.683,0,.704],67:[.705,.021,.716],68:[.683,0,.755],69:[.68,0,.678],70:[.68,0,.653],71:[.705,.022,.774],72:[.683,0,.743],73:[.683,0,.386],74:[.683,.021,.525],75:[.683,0,.769],76:[.683,0,.627],77:[.683,0,.897],78:[.683,0,.743],79:[.704,.022,.767],80:[.683,0,.678],81:[.704,.194,.767],82:[.683,.022,.729],83:[.705,.022,.562],84:[.677,0,.716],85:[.683,.022,.743],86:[.683,.022,.743],87:[.683,.022,.999],88:[.683,0,.743],89:[.683,0,.743],90:[.683,0,.613],97:[.442,.011,.511],98:[.694,.011,.46],99:[.441,.01,.46],100:[.694,.011,.511],101:[.442,.01,.46],102:[.705,.204,.307],103:[.442,.205,.46],104:[.694,.011,.511],105:[.656,.01,.307],106:[.656,.204,.307],107:[.694,.011,.46],108:[.694,.011,.256],109:[.442,.011,.818],110:[.442,.011,.562],111:[.442,.011,.511],112:[.442,.194,.511],113:[.442,.194,.46],114:[.442,.011,.422],115:[.442,.011,.409],116:[.626,.011,.332],117:[.441,.011,.537],118:[.443,.01,.46],119:[.443,.011,.664],120:[.442,.011,.464],121:[.441,.205,.486],122:[.442,.011,.409]},Object.defineProperty(oh,"texMathit",{enumerable:!0,get:function(){return sh.texMathit}});var ah={};Object.defineProperty(ah,"__esModule",{value:!0}),ah.texOldstyleBold=void 0;var lh={};Object.defineProperty(lh,"__esModule",{value:!0}),lh.texOldstyleBold=void 0,lh.texOldstyleBold={48:[.46,.017,.575],49:[.461,0,.575],50:[.46,0,.575],51:[.461,.211,.575],52:[.469,.194,.575],53:[.461,.211,.575],54:[.66,.017,.575],55:[.476,.211,.575],56:[.661,.017,.575],57:[.461,.21,.575],65:[.751,.049,.921,{ic:.068,sk:.224}],66:[.705,.017,.748,{sk:.16}],67:[.703,.02,.613,{sk:.16}],68:[.686,0,.892,{sk:.0958}],69:[.703,.016,.607,{ic:.02,sk:.128}],70:[.686,.03,.814,{ic:.116,sk:.128}],71:[.703,.113,.682,{sk:.128}],72:[.686,.048,.987,{sk:.128}],73:[.686,0,.642,{ic:.104,sk:.0319}],74:[.686,.114,.779,{ic:.158,sk:.192}],75:[.703,.017,.871,{sk:.0639}],76:[.703,.017,.788,{sk:.16}],77:[.703,.049,1.378,{sk:.16}],78:[.84,.049,.937,{ic:.168,sk:.0958}],79:[.703,.017,.906,{sk:.128}],80:[.686,.067,.81,{ic:.036,sk:.0958}],81:[.703,.146,.939,{sk:.128}],82:[.686,.017,.99,{sk:.0958}],83:[.703,.016,.696,{ic:.025,sk:.16}],84:[.72,.069,.644,{ic:.303,sk:.0319}],85:[.686,.024,.715,{ic:.056,sk:.0958}],86:[.686,.077,.737,{ic:.037,sk:.0319}],87:[.686,.077,1.169,{ic:.037,sk:.0958}],88:[.686,0,.817,{ic:.089,sk:.16}],89:[.686,.164,.759,{ic:.038,sk:.0958}],90:[.686,0,.818,{ic:.035,sk:.16}]},Object.defineProperty(ah,"texOldstyleBold",{enumerable:!0,get:function(){return lh.texOldstyleBold}});var ch={};Object.defineProperty(ch,"__esModule",{value:!0}),ch.texOldstyle=void 0;var uh={};Object.defineProperty(uh,"__esModule",{value:!0}),uh.texOldstyle=void 0,uh.texOldstyle={48:[.452,.022,.5],49:[.453,0,.5],50:[.453,0,.5],51:[.452,.216,.5],52:[.464,.194,.5],53:[.453,.216,.5],54:[.665,.022,.5],55:[.463,.216,.5],56:[.666,.021,.5],57:[.453,.216,.5],65:[.728,.05,.798,{ic:.021,sk:.194}],66:[.705,.022,.657,{sk:.139}],67:[.705,.025,.527,{sk:.139}],68:[.683,0,.771,{sk:.0833}],69:[.705,.022,.528,{ic:.036,sk:.111}],70:[.683,.032,.719,{ic:.11,sk:.111}],71:[.704,.119,.595,{sk:.111}],72:[.683,.048,.845,{sk:.111}],73:[.683,0,.545,{ic:.097,sk:.0278}],74:[.683,.119,.678,{ic:.161,sk:.167}],75:[.705,.022,.762,{sk:.0556}],76:[.705,.022,.69,{sk:.139}],77:[.705,.05,1.201,{sk:.139}],78:[.789,.05,.82,{ic:.159,sk:.0833}],79:[.705,.022,.796,{sk:.111}],80:[.683,.057,.696,{ic:.037,sk:.0833}],81:[.705,.131,.817,{sk:.111}],82:[.682,.022,.848,{sk:.0833}],83:[.705,.022,.606,{ic:.036,sk:.139}],84:[.717,.068,.545,{ic:.288,sk:.0278}],85:[.683,.028,.626,{ic:.061,sk:.0833}],86:[.683,.052,.613,{ic:.045,sk:.0278}],87:[.683,.053,.988,{ic:.046,sk:.0833}],88:[.683,0,.713,{ic:.094,sk:.139}],89:[.683,.143,.668,{ic:.046,sk:.0833}],90:[.683,0,.725,{ic:.042,sk:.139}]},Object.defineProperty(ch,"texOldstyle",{enumerable:!0,get:function(){return uh.texOldstyle}});var hh={};Object.defineProperty(hh,"__esModule",{value:!0}),hh.texSize3=void 0;var dh={};Object.defineProperty(dh,"__esModule",{value:!0}),dh.texSize3=void 0,dh.texSize3={40:[1.45,.949,.736],41:[1.45,.949,.736],47:[1.45,.949,1.044],91:[1.45,.949,.528],92:[1.45,.949,1.044],93:[1.45,.949,.528],123:[1.45,.949,.75],125:[1.45,.949,.75],710:[.772,-.564,1.444],732:[.749,-.61,1.444],770:[.772,-.564,0],771:[.749,-.61,0],8260:[1.45,.949,1.044],8730:[1.45,.95,1,{ic:.02}],8968:[1.45,.949,.583],8969:[1.45,.949,.583],8970:[1.45,.949,.583],8971:[1.45,.949,.583],9001:[1.45,.95,.75],9002:[1.45,.949,.75],10216:[1.45,.95,.75],10217:[1.45,.949,.75],12296:[1.45,.95,.75],12297:[1.45,.949,.75]},hh.texSize3=uu.AddCSS(dh.texSize3,{8260:{c:"/"},9001:{c:"\\27E8"},9002:{c:"\\27E9"},12296:{c:"\\27E8"},12297:{c:"\\27E9"}});var fh={};Object.defineProperty(fh,"__esModule",{value:!0}),fh.texSize4=void 0;var ph={};Object.defineProperty(ph,"__esModule",{value:!0}),ph.texSize4=void 0,ph.texSize4={40:[1.75,1.249,.792],41:[1.75,1.249,.792],47:[1.75,1.249,1.278],91:[1.75,1.249,.583],92:[1.75,1.249,1.278],93:[1.75,1.249,.583],123:[1.75,1.249,.806],125:[1.75,1.249,.806],710:[.845,-.561,1.889,{ic:.013}],732:[.823,-.583,1.889],770:[.845,-.561,0,{ic:.013}],771:[.823,-.583,0],8260:[1.75,1.249,1.278],8730:[1.75,1.25,1,{ic:.02}],8968:[1.75,1.249,.639],8969:[1.75,1.249,.639],8970:[1.75,1.249,.639],8971:[1.75,1.249,.639],9001:[1.75,1.248,.806],9002:[1.75,1.248,.806],9115:[1.154,.655,.875],9116:[.61,.01,.875],9117:[1.165,.644,.875],9118:[1.154,.655,.875],9119:[.61,.01,.875],9120:[1.165,.644,.875],9121:[1.154,.645,.667],9122:[.602,0,.667],9123:[1.155,.644,.667],9124:[1.154,.645,.667],9125:[.602,0,.667],9126:[1.155,.644,.667],9127:[.899,.01,.889],9128:[1.16,.66,.889],9129:[.01,.899,.889],9130:[.29,.015,.889],9131:[.899,.01,.889],9132:[1.16,.66,.889],9133:[.01,.899,.889],9143:[.935,.885,1.056],10216:[1.75,1.248,.806],10217:[1.75,1.248,.806],12296:[1.75,1.248,.806],12297:[1.75,1.248,.806],57344:[.625,.014,1.056],57345:[.605,.014,1.056,{ic:.02}],57680:[.12,.213,.45,{ic:.01}],57681:[.12,.213,.45,{ic:.024}],57682:[.333,0,.45,{ic:.01}],57683:[.333,0,.45,{ic:.024}],57684:[.32,.2,.4,{ic:.01}],57685:[.333,0,.9,{ic:.01}],57686:[.12,.213,.9,{ic:.01}]},fh.texSize4=uu.AddCSS(ph.texSize4,{8260:{c:"/"},9001:{c:"\\27E8"},9002:{c:"\\27E9"},12296:{c:"\\27E8"},12297:{c:"\\27E9"},57685:{c:"\\E153\\E152"},57686:{c:"\\E151\\E150"}});var mh={};Object.defineProperty(mh,"__esModule",{value:!0}),mh.texVariant=void 0;var gh={};Object.defineProperty(gh,"__esModule",{value:!0}),gh.texVariant=void 0,gh.texVariant={710:[.845,-.561,2.333,{ic:.013}],732:[.899,-.628,2.333],770:[.845,-.561,0,{ic:.013}],771:[.899,-.628,0],1008:[.434,.006,.667,{ic:.067}],8463:[.695,.013,.54,{ic:.022}],8592:[.437,-.064,.5],8594:[.437,-.064,.5],8652:[.514,.014,1],8708:[.86,.166,.556],8709:[.587,0,.778],8722:[.27,-.23,.5],8726:[.43,.023,.778],8733:[.472,-.028,.778],8739:[.43,.023,.222],8740:[.43,.023,.222,{ic:.018}],8741:[.431,.023,.389],8742:[.431,.024,.389,{ic:.018}],8764:[.365,-.132,.778],8776:[.481,-.05,.778],8808:[.752,.284,.778],8809:[.752,.284,.778],8816:[.919,.421,.778],8817:[.919,.421,.778],8840:[.828,.33,.778],8841:[.828,.33,.778],8842:[.634,.255,.778],8843:[.634,.254,.778],8872:[.694,0,.611],8901:[.189,0,.278],8994:[.378,-.122,.778],8995:[.378,-.143,.778],9651:[.575,.02,.722],9661:[.576,.019,.722],10887:[.801,.303,.778],10888:[.801,.303,.778],10955:[.752,.332,.778],10956:[.752,.333,.778]},mh.texVariant=uu.AddCSS(gh.texVariant,{1008:{c:"\\E009"},8463:{f:""},8740:{c:"\\E006"},8742:{c:"\\E007"},8808:{c:"\\E00C"},8809:{c:"\\E00D"},8816:{c:"\\E011"},8817:{c:"\\E00E"},8840:{c:"\\E016"},8841:{c:"\\E018"},8842:{c:"\\E01A"},8843:{c:"\\E01B"},10887:{c:"\\E010"},10888:{c:"\\E00F"},10955:{c:"\\E017"},10956:{c:"\\E019"}});var yh={};Object.defineProperty(yh,"__esModule",{value:!0}),yh.delimiters=yh.VSIZES=yh.HDW3=yh.HDW2=yh.HDW1=void 0;pi=i("56kfJ");yh.HDW1=[.75,.25,.875],yh.HDW2=[.85,.349,.667],yh.HDW3=[.583,.082,.5],yh.VSIZES=[1,1.2,1.8,2.4,3];var vh={c:47,dir:pi.V,sizes:yh.VSIZES},bh={c:175,dir:pi.H,sizes:[.5],stretch:[0,175],HDW:[.59,-.544,.5]},Ah={c:710,dir:pi.H,sizes:[.5,.556,1,1.444,1.889]},Ch={c:732,dir:pi.H,sizes:[.5,.556,1,1.444,1.889]},wh={c:8211,dir:pi.H,sizes:[.5],stretch:[0,8211],HDW:[.285,-.248,.5]},xh={c:8592,dir:pi.H,sizes:[1],stretch:[8592,8722],HDW:yh.HDW3},Eh={c:8594,dir:pi.H,sizes:[1],stretch:[0,8722,8594],HDW:yh.HDW3},Sh={c:8596,dir:pi.H,sizes:[1],stretch:[8592,8722,8594],HDW:yh.HDW3},Mh={c:8612,dir:pi.H,stretch:[8592,8722,8739],HDW:yh.HDW3,min:1.278},Oh={c:8614,dir:pi.H,sizes:[1],stretch:[8739,8722,8594],HDW:yh.HDW3},_h={c:8656,dir:pi.H,sizes:[1],stretch:[8656,61],HDW:yh.HDW3},Th={c:8658,dir:pi.H,sizes:[1],stretch:[0,61,8658],HDW:yh.HDW3},Fh={c:8660,dir:pi.H,sizes:[1],stretch:[8656,61,8658],HDW:yh.HDW3},Bh={c:8722,dir:pi.H,sizes:[.778],stretch:[0,8722],HDW:yh.HDW3},Lh={c:8739,dir:pi.V,sizes:[1],stretch:[0,8739],HDW:[.627,.015,.333]},kh={c:9180,dir:pi.H,sizes:[.778,1],schar:[8994,8994],variants:[5,0],stretch:[57680,57684,57681],HDW:[.32,.2,.5]},Rh={c:9181,dir:pi.H,sizes:[.778,1],schar:[8995,8995],variants:[5,0],stretch:[57682,57684,57683],HDW:[.32,.2,.5]},Dh={c:9182,dir:pi.H,stretch:[57680,57684,57681,57685],HDW:[.32,.2,.5],min:1.8},Ph={c:9183,dir:pi.H,stretch:[57682,57684,57683,57686],HDW:[.32,.2,.5],min:1.8},Ih={c:10216,dir:pi.V,sizes:yh.VSIZES},Nh={c:10217,dir:pi.V,sizes:yh.VSIZES},$h={c:10502,dir:pi.H,stretch:[8656,61,8739],HDW:yh.HDW3,min:1.278},jh={c:10503,dir:pi.H,stretch:[8872,61,8658],HDW:yh.HDW3,min:1.278};yh.delimiters={40:{dir:pi.V,sizes:yh.VSIZES,stretch:[9115,9116,9117],HDW:[.85,.349,.875]},41:{dir:pi.V,sizes:yh.VSIZES,stretch:[9118,9119,9120],HDW:[.85,.349,.875]},45:Bh,47:vh,61:{dir:pi.H,sizes:[.778],stretch:[0,61],HDW:yh.HDW3},91:{dir:pi.V,sizes:yh.VSIZES,stretch:[9121,9122,9123],HDW:yh.HDW2},92:{dir:pi.V,sizes:yh.VSIZES},93:{dir:pi.V,sizes:yh.VSIZES,stretch:[9124,9125,9126],HDW:yh.HDW2},94:Ah,95:wh,123:{dir:pi.V,sizes:yh.VSIZES,stretch:[9127,9130,9129,9128],HDW:[.85,.349,.889]},124:{dir:pi.V,sizes:[1],stretch:[0,8739],HDW:[.75,.25,.333]},125:{dir:pi.V,sizes:yh.VSIZES,stretch:[9131,9130,9133,9132],HDW:[.85,.349,.889]},126:Ch,175:bh,710:Ah,713:bh,732:Ch,770:Ah,771:Ch,818:wh,8211:wh,8212:wh,8213:wh,8214:{dir:pi.V,sizes:[.602,1],schar:[0,8741],variants:[1,0],stretch:[0,8741],HDW:[.602,0,.556]},8215:wh,8254:bh,8407:Eh,8592:xh,8593:{dir:pi.V,sizes:[.888],stretch:[8593,9168],HDW:[.6,0,.667]},8594:Eh,8595:{dir:pi.V,sizes:[.888],stretch:[0,9168,8595],HDW:[.6,0,.667]},8596:Sh,8597:{dir:pi.V,sizes:[1.044],stretch:[8593,9168,8595],HDW:yh.HDW1},8606:{dir:pi.H,sizes:[1],stretch:[8606,8722],HDW:yh.HDW3},8608:{dir:pi.H,sizes:[1],stretch:[0,8722,8608],HDW:yh.HDW3},8612:Mh,8613:{dir:pi.V,stretch:[8593,9168,8869],HDW:yh.HDW1,min:1.555},8614:Oh,8615:{dir:pi.V,stretch:[8868,9168,8595],HDW:yh.HDW1,min:1.555},8624:{dir:pi.V,sizes:[.722],stretch:[8624,9168],HDW:yh.HDW1},8625:{dir:pi.V,sizes:[.722],stretch:[8625,9168],HDW:yh.HDW1},8636:{dir:pi.H,sizes:[1],stretch:[8636,8722],HDW:yh.HDW3},8637:{dir:pi.H,sizes:[1],stretch:[8637,8722],HDW:yh.HDW3},8638:{dir:pi.V,sizes:[.888],stretch:[8638,9168],HDW:yh.HDW1},8639:{dir:pi.V,sizes:[.888],stretch:[8639,9168],HDW:yh.HDW1},8640:{dir:pi.H,sizes:[1],stretch:[0,8722,8640],HDW:yh.HDW3},8641:{dir:pi.H,sizes:[1],stretch:[0,8722,8641],HDW:yh.HDW3},8642:{dir:pi.V,sizes:[.888],stretch:[0,9168,8642],HDW:yh.HDW1},8643:{dir:pi.V,sizes:[.888],stretch:[0,9168,8643],HDW:yh.HDW1},8656:_h,8657:{dir:pi.V,sizes:[.888],stretch:[8657,8214],HDW:[.599,0,.778]},8658:Th,8659:{dir:pi.V,sizes:[.888],stretch:[0,8214,8659],HDW:[.6,0,.778]},8660:Fh,8661:{dir:pi.V,sizes:[1.044],stretch:[8657,8214,8659],HDW:[.75,.25,.778]},8666:{dir:pi.H,sizes:[1],stretch:[8666,8801],HDW:[.464,-.036,.5]},8667:{dir:pi.H,sizes:[1],stretch:[0,8801,8667],HDW:[.464,-.036,.5]},8722:Bh,8725:vh,8730:{dir:pi.V,sizes:yh.VSIZES,stretch:[57345,57344,9143],fullExt:[.65,2.3],HDW:[.85,.35,1.056]},8739:Lh,8741:{dir:pi.V,sizes:[1],stretch:[0,8741],HDW:[.627,.015,.556]},8968:{dir:pi.V,sizes:yh.VSIZES,stretch:[9121,9122],HDW:yh.HDW2},8969:{dir:pi.V,sizes:yh.VSIZES,stretch:[9124,9125],HDW:yh.HDW2},8970:{dir:pi.V,sizes:yh.VSIZES,stretch:[0,9122,9123],HDW:yh.HDW2},8971:{dir:pi.V,sizes:yh.VSIZES,stretch:[0,9125,9126],HDW:yh.HDW2},8978:kh,8994:kh,8995:Rh,9001:Ih,9002:Nh,9130:{dir:pi.V,sizes:[.32],stretch:[9130,9130,9130],HDW:[.29,.015,.889]},9135:wh,9136:{dir:pi.V,sizes:[.989],stretch:[9127,9130,9133],HDW:[.75,.25,.889]},9137:{dir:pi.V,sizes:[.989],stretch:[9131,9130,9129],HDW:[.75,.25,.889]},9140:{dir:pi.H,stretch:[9484,8722,9488],HDW:yh.HDW3,min:1},9141:{dir:pi.H,stretch:[9492,8722,9496],HDW:yh.HDW3,min:1},9168:{dir:pi.V,sizes:[.602,1],schar:[0,8739],variants:[1,0],stretch:[0,8739],HDW:[.602,0,.333]},9180:kh,9181:Rh,9182:Dh,9183:Ph,9184:{dir:pi.H,stretch:[714,713,715],HDW:[.59,-.544,.5],min:1},9185:{dir:pi.H,stretch:[715,713,714],HDW:[.59,-.544,.5],min:1},9472:wh,10072:Lh,10216:Ih,10217:Nh,10222:{dir:pi.V,sizes:[.989],stretch:[9127,9130,9129],HDW:[.75,.25,.889]},10223:{dir:pi.V,sizes:[.989],stretch:[9131,9130,9133],HDW:[.75,.25,.889]},10229:xh,10230:Eh,10231:Sh,10232:_h,10233:Th,10234:Fh,10235:Mh,10236:Oh,10237:$h,10238:jh,10502:$h,10503:jh,10574:{dir:pi.H,stretch:[8636,8722,8640],HDW:yh.HDW3,min:2},10575:{dir:pi.V,stretch:[8638,9168,8642],HDW:yh.HDW1,min:1.776},10576:{dir:pi.H,stretch:[8637,8722,8641],HDW:yh.HDW3,min:2},10577:{dir:pi.V,stretch:[8639,9168,8643],HDW:yh.HDW1,min:.5},10586:{dir:pi.H,stretch:[8636,8722,8739],HDW:yh.HDW3,min:1.278},10587:{dir:pi.H,stretch:[8739,8722,8640],HDW:yh.HDW3,min:1.278},10588:{dir:pi.V,stretch:[8638,9168,8869],HDW:yh.HDW1,min:1.556},10589:{dir:pi.V,stretch:[8868,9168,8642],HDW:yh.HDW1,min:1.556},10590:{dir:pi.H,stretch:[8637,8722,8739],HDW:yh.HDW3,min:1.278},10591:{dir:pi.H,stretch:[8739,8722,8641],HDW:yh.HDW3,min:1.278},10592:{dir:pi.V,stretch:[8639,9168,8869],HDW:yh.HDW1,min:1.776},10593:{dir:pi.V,stretch:[8868,9168,8643],HDW:yh.HDW1,min:1.776},12296:Ih,12297:Nh,65079:Dh,65080:Ph};var Hh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return lu(e,t),e.defaultCssFamilyPrefix="MJXZERO",e.defaultVariantClasses={normal:"mjx-n",bold:"mjx-b",italic:"mjx-i","bold-italic":"mjx-b mjx-i","double-struck":"mjx-ds mjx-b",fraktur:"mjx-fr","bold-fraktur":"mjx-fr mjx-b",script:"mjx-sc mjx-i","bold-script":"mjx-sc mjx-b mjx-i","sans-serif":"mjx-ss","bold-sans-serif":"mjx-ss mjx-b","sans-serif-italic":"mjx-ss mjx-i","sans-serif-bold-italic":"mjx-ss mjx-b mjx-i",monospace:"mjx-ty","-smallop":"mjx-sop","-largeop":"mjx-lop","-size3":"mjx-s3","-size4":"mjx-s4","-tex-calligraphic":"mjx-cal mjx-i","-tex-bold-calligraphic":"mjx-cal mjx-b","-tex-mathit":"mjx-mit mjx-i","-tex-oldstyle":"mjx-os","-tex-bold-oldstyle":"mjx-os mjx-b","-tex-variant":"mjx-var"},e.defaultVariantLetters={normal:"",bold:"B",italic:"MI","bold-italic":"BI","double-struck":"A",fraktur:"FR","bold-fraktur":"FRB",script:"SC","bold-script":"SCB","sans-serif":"SS","bold-sans-serif":"SSB","sans-serif-italic":"SSI","sans-serif-bold-italic":"SSBI",monospace:"T","-smallop":"S1","-largeop":"S2","-size3":"S3","-size4":"S4","-tex-calligraphic":"C","-tex-bold-calligraphic":"CB","-tex-mathit":"MI","-tex-oldstyle":"C","-tex-bold-oldstyle":"CB","-tex-variant":"A"},e.defaultDelimiters=yh.delimiters,e.defaultChars={normal:$u.normal,bold:Su.bold,italic:ku.italic,"bold-italic":xu.boldItalic,"double-struck":Ou.doubleStruck,fraktur:Bu.fraktur,"bold-fraktur":Tu.frakturBold,script:Qu.script,"bold-script":Ku.scriptBold,"sans-serif":Gu.sansSerif,"bold-sans-serif":zu.sansSerifBold,"sans-serif-italic":Xu.sansSerifItalic,"sans-serif-bold-italic":Hu.sansSerifBoldItalic,monospace:Iu.monospace,"-smallop":Zu.smallop,"-largeop":Du.largeop,"-size3":hh.texSize3,"-size4":fh.texSize4,"-tex-calligraphic":nh.texCalligraphic,"-tex-bold-calligraphic":eh.texCalligraphicBold,"-tex-mathit":oh.texMathit,"-tex-oldstyle":ch.texOldstyle,"-tex-bold-oldstyle":ah.texOldstyleBold,"-tex-variant":mh.texVariant},e.defaultStyles=cu(cu({},uu.CHTMLFontData.defaultStyles),{".MJX-TEX":{"font-family":"MJXZERO, MJXTEX"},".TEX-B":{"font-family":"MJXZERO, MJXTEX-B"},".TEX-I":{"font-family":"MJXZERO, MJXTEX-I"},".TEX-MI":{"font-family":"MJXZERO, MJXTEX-MI"},".TEX-BI":{"font-family":"MJXZERO, MJXTEX-BI"},".TEX-S1":{"font-family":"MJXZERO, MJXTEX-S1"},".TEX-S2":{"font-family":"MJXZERO, MJXTEX-S2"},".TEX-S3":{"font-family":"MJXZERO, MJXTEX-S3"},".TEX-S4":{"font-family":"MJXZERO, MJXTEX-S4"},".TEX-A":{"font-family":"MJXZERO, MJXTEX-A"},".TEX-C":{"font-family":"MJXZERO, MJXTEX-C"},".TEX-CB":{"font-family":"MJXZERO, MJXTEX-CB"},".TEX-FR":{"font-family":"MJXZERO, MJXTEX-FR"},".TEX-FRB":{"font-family":"MJXZERO, MJXTEX-FRB"},".TEX-SS":{"font-family":"MJXZERO, MJXTEX-SS"},".TEX-SSB":{"font-family":"MJXZERO, MJXTEX-SSB"},".TEX-SSI":{"font-family":"MJXZERO, MJXTEX-SSI"},".TEX-SC":{"font-family":"MJXZERO, MJXTEX-SC"},".TEX-T":{"font-family":"MJXZERO, MJXTEX-T"},".TEX-V":{"font-family":"MJXZERO, MJXTEX-V"},".TEX-VB":{"font-family":"MJXZERO, MJXTEX-VB"},"mjx-stretchy-v mjx-c, mjx-stretchy-h mjx-c":{"font-family":"MJXZERO, MJXTEX-S1, MJXTEX-S4, MJXTEX, MJXTEX-A ! important"}}),e.defaultFonts=cu(cu({},uu.CHTMLFontData.defaultFonts),{"@font-face /* 1 */":{"font-family":"MJXTEX",src:'url("%%URL%%/MathJax_Main-Regular.woff") format("woff")'},"@font-face /* 2 */":{"font-family":"MJXTEX-B",src:'url("%%URL%%/MathJax_Main-Bold.woff") format("woff")'},"@font-face /* 3 */":{"font-family":"MJXTEX-I",src:'url("%%URL%%/MathJax_Math-Italic.woff") format("woff")'},"@font-face /* 4 */":{"font-family":"MJXTEX-MI",src:'url("%%URL%%/MathJax_Main-Italic.woff") format("woff")'},"@font-face /* 5 */":{"font-family":"MJXTEX-BI",src:'url("%%URL%%/MathJax_Math-BoldItalic.woff") format("woff")'},"@font-face /* 6 */":{"font-family":"MJXTEX-S1",src:'url("%%URL%%/MathJax_Size1-Regular.woff") format("woff")'},"@font-face /* 7 */":{"font-family":"MJXTEX-S2",src:'url("%%URL%%/MathJax_Size2-Regular.woff") format("woff")'},"@font-face /* 8 */":{"font-family":"MJXTEX-S3",src:'url("%%URL%%/MathJax_Size3-Regular.woff") format("woff")'},"@font-face /* 9 */":{"font-family":"MJXTEX-S4",src:'url("%%URL%%/MathJax_Size4-Regular.woff") format("woff")'},"@font-face /* 10 */":{"font-family":"MJXTEX-A",src:'url("%%URL%%/MathJax_AMS-Regular.woff") format("woff")'},"@font-face /* 11 */":{"font-family":"MJXTEX-C",src:'url("%%URL%%/MathJax_Calligraphic-Regular.woff") format("woff")'},"@font-face /* 12 */":{"font-family":"MJXTEX-CB",src:'url("%%URL%%/MathJax_Calligraphic-Bold.woff") format("woff")'},"@font-face /* 13 */":{"font-family":"MJXTEX-FR",src:'url("%%URL%%/MathJax_Fraktur-Regular.woff") format("woff")'},"@font-face /* 14 */":{"font-family":"MJXTEX-FRB",src:'url("%%URL%%/MathJax_Fraktur-Bold.woff") format("woff")'},"@font-face /* 15 */":{"font-family":"MJXTEX-SS",src:'url("%%URL%%/MathJax_SansSerif-Regular.woff") format("woff")'},"@font-face /* 16 */":{"font-family":"MJXTEX-SSB",src:'url("%%URL%%/MathJax_SansSerif-Bold.woff") format("woff")'},"@font-face /* 17 */":{"font-family":"MJXTEX-SSI",src:'url("%%URL%%/MathJax_SansSerif-Italic.woff") format("woff")'},"@font-face /* 18 */":{"font-family":"MJXTEX-SC",src:'url("%%URL%%/MathJax_Script-Regular.woff") format("woff")'},"@font-face /* 19 */":{"font-family":"MJXTEX-T",src:'url("%%URL%%/MathJax_Typewriter-Regular.woff") format("woff")'},"@font-face /* 20 */":{"font-family":"MJXTEX-V",src:'url("%%URL%%/MathJax_Vector-Regular.woff") format("woff")'},"@font-face /* 21 */":{"font-family":"MJXTEX-VB",src:'url("%%URL%%/MathJax_Vector-Bold.woff") format("woff")'}}),e}(vu.CommonTeXFontMixin(uu.CHTMLFontData));au.TeXFont=Hh;var Wh=function(t){function e(e){void 0===e&&(e=null);var r=t.call(this,e,Wn.CHTMLWrapperFactory,au.TeXFont)||this;return r.chtmlStyles=null,r.font.adaptiveCSS(r.options.adaptiveCSS),r}return cn(e,t),e.prototype.escaped=function(t,e){return this.setDocument(e),this.html("span",{},[this.text(t.math)])},e.prototype.styleSheet=function(r){if(this.chtmlStyles&&!this.options.adaptiveCSS)return this.chtmlStyles;var n=this.chtmlStyles=t.prototype.styleSheet.call(this,r);return this.adaptor.setAttribute(n,"id",e.STYLESHEETID),n},e.prototype.addClassStyles=function(e){var r;this.options.adaptiveCSS&&!e.used||(e.autoStyle&&"unknown"!==e.kind&&this.cssStyles.addStyles(((r={})["mjx-"+e.kind]={display:"inline-block","text-align":"left"},r)),t.prototype.addClassStyles.call(this,e))},e.prototype.processMath=function(t,e){this.factory.wrap(t).toCHTML(e)},e.prototype.clearCache=function(){var t,e;this.cssStyles.clear(),this.font.clearCache();try{for(var r=hn(this.factory.getKinds()),n=r.next();!n.done;n=r.next()){var i=n.value;this.factory.getNodeClass(i).used=!1}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},e.prototype.reset=function(){this.clearCache()},e.prototype.unknownText=function(t,e){var r={},n=100/this.math.metrics.scale;if(100!==n&&(r["font-size"]=this.fixed(n,1)+"%",r.padding=Kr.em(75/n)+" 0 "+Kr.em(20/n)+" 0"),"-explicitFont"!==e){var i=V.unicodeChars(t);(1!==i.length||i[0]<119808||i[0]>120831)&&this.cssFontStyles(this.font.getCssFont(e),r)}return this.html("mjx-utext",{variant:e,style:r},[this.text(t)])},e.prototype.measureTextNode=function(t){var e=this.adaptor;t=e.clone(t);var r=this.html("mjx-measure-text",{style:{position:"absolute","white-space":"nowrap"}},[t]);e.append(e.parent(this.math.start.node),this.container),e.append(this.container,r);var n=e.nodeSize(t,this.math.metrics.em)[0]/this.math.metrics.scale;return e.remove(this.container),e.remove(r),{w:n,h:.75,d:.2}},e.NAME="CHTML",e.OPTIONS=un(un({},dn.CommonOutputJax.OPTIONS),{adaptiveCSS:!0}),e.commonStyles={'mjx-container[jax="CHTML"]':{"line-height":0},'mjx-container [space="1"]':{"margin-left":".111em"},'mjx-container [space="2"]':{"margin-left":".167em"},'mjx-container [space="3"]':{"margin-left":".222em"},'mjx-container [space="4"]':{"margin-left":".278em"},'mjx-container [space="5"]':{"margin-left":".333em"},'mjx-container [rspace="1"]':{"margin-right":".111em"},'mjx-container [rspace="2"]':{"margin-right":".167em"},'mjx-container [rspace="3"]':{"margin-right":".222em"},'mjx-container [rspace="4"]':{"margin-right":".278em"},'mjx-container [rspace="5"]':{"margin-right":".333em"},'mjx-container [size="s"]':{"font-size":"70.7%"},'mjx-container [size="ss"]':{"font-size":"50%"},'mjx-container [size="Tn"]':{"font-size":"60%"},'mjx-container [size="sm"]':{"font-size":"85%"},'mjx-container [size="lg"]':{"font-size":"120%"},'mjx-container [size="Lg"]':{"font-size":"144%"},'mjx-container [size="LG"]':{"font-size":"173%"},'mjx-container [size="hg"]':{"font-size":"207%"},'mjx-container [size="HG"]':{"font-size":"249%"},'mjx-container [width="full"]':{width:"100%"},"mjx-box":{display:"inline-block"},"mjx-block":{display:"block"},"mjx-itable":{display:"inline-table"},"mjx-row":{display:"table-row"},"mjx-row > *":{display:"table-cell"},"mjx-mtext":{display:"inline-block"},"mjx-mstyle":{display:"inline-block"},"mjx-merror":{display:"inline-block",color:"red","background-color":"yellow"},"mjx-mphantom":{visibility:"hidden"}},e.STYLESHEETID="MJX-CHTML-styles",e}(dn.CommonOutputJax);ln.CHTML=Wh;var zh={};Object.defineProperty(zh,"__esModule",{value:!0}),zh.browserAdaptor=void 0;var Vh={},Xh=Vh&&Vh.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),qh=Vh&&Vh.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Vh,"__esModule",{value:!0}),Vh.HTMLAdaptor=void 0;var Gh={},Uh=Gh&&Gh.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Gh,"__esModule",{value:!0}),Gh.AbstractDOMAdaptor=void 0;var Kh=function(){function t(t){void 0===t&&(t=null),this.document=t}return t.prototype.node=function(t,e,r,n){var i,o;void 0===e&&(e={}),void 0===r&&(r=[]);var s=this.create(t,n);this.setAttributes(s,e);try{for(var a=Uh(r),l=a.next();!l.done;l=a.next()){var c=l.value;this.append(s,c)}}catch(t){i={error:t}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}return s},t.prototype.setAttributes=function(t,e){var r,n,i,o,s,a;if(e.style&&"string"!=typeof e.style)try{for(var l=Uh(Object.keys(e.style)),c=l.next();!c.done;c=l.next()){var u=c.value;this.setStyle(t,u.replace(/-([a-z])/g,(function(t,e){return e.toUpperCase()})),e.style[u])}}catch(t){r={error:t}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}if(e.properties)try{for(var h=Uh(Object.keys(e.properties)),d=h.next();!d.done;d=h.next()){t[u=d.value]=e.properties[u]}}catch(t){i={error:t}}finally{try{d&&!d.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}try{for(var f=Uh(Object.keys(e)),p=f.next();!p.done;p=f.next()){"style"===(u=p.value)&&"string"!=typeof e.style||"properties"===u||this.setAttribute(t,u,e[u])}}catch(t){s={error:t}}finally{try{p&&!p.done&&(a=f.return)&&a.call(f)}finally{if(s)throw s.error}}},t.prototype.replace=function(t,e){return this.insert(t,e),this.remove(e),e},t.prototype.childNode=function(t,e){return this.childNodes(t)[e]},t.prototype.allClasses=function(t){var e=this.getAttribute(t,"class");return e?e.replace(/  +/g," ").replace(/^ /,"").replace(/ $/,"").split(/ /):[]},t}();Gh.AbstractDOMAdaptor=Kh;var Jh=function(t){function e(e){var r=t.call(this,e.document)||this;return r.window=e,r.parser=new e.DOMParser,r}return Xh(e,t),e.prototype.parse=function(t,e){return void 0===e&&(e="text/html"),this.parser.parseFromString(t,e)},e.prototype.create=function(t,e){return e?this.document.createElementNS(e,t):this.document.createElement(t)},e.prototype.text=function(t){return this.document.createTextNode(t)},e.prototype.head=function(t){return t.head},e.prototype.body=function(t){return t.body},e.prototype.root=function(t){return t.documentElement},e.prototype.doctype=function(t){return"<!DOCTYPE "+t.doctype.name+">"},e.prototype.tags=function(t,e,r){void 0===r&&(r=null);var n=r?t.getElementsByTagNameNS(r,e):t.getElementsByTagName(e);return Array.from(n)},e.prototype.getElements=function(t,e){var r,n,i=[];try{for(var o=qh(t),s=o.next();!s.done;s=o.next()){var a=s.value;"string"==typeof a?i=i.concat(Array.from(this.document.querySelectorAll(a))):Array.isArray(a)||a instanceof this.window.NodeList||a instanceof this.window.HTMLCollection?i=i.concat(Array.from(a)):i.push(a)}}catch(t){r={error:t}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},e.prototype.contains=function(t,e){return t.contains(e)},e.prototype.parent=function(t){return t.parentNode},e.prototype.append=function(t,e){return t.appendChild(e)},e.prototype.insert=function(t,e){return this.parent(e).insertBefore(t,e)},e.prototype.remove=function(t){return this.parent(t).removeChild(t)},e.prototype.replace=function(t,e){return this.parent(e).replaceChild(t,e)},e.prototype.clone=function(t){return t.cloneNode(!0)},e.prototype.split=function(t,e){return t.splitText(e)},e.prototype.next=function(t){return t.nextSibling},e.prototype.previous=function(t){return t.previousSibling},e.prototype.firstChild=function(t){return t.firstChild},e.prototype.lastChild=function(t){return t.lastChild},e.prototype.childNodes=function(t){return Array.from(t.childNodes)},e.prototype.childNode=function(t,e){return t.childNodes[e]},e.prototype.kind=function(t){var e=t.nodeType;return 1===e||3===e||8===e?t.nodeName.toLowerCase():""},e.prototype.value=function(t){return t.nodeValue||""},e.prototype.textContent=function(t){return t.textContent},e.prototype.innerHTML=function(t){return t.innerHTML},e.prototype.outerHTML=function(t){return t.outerHTML},e.prototype.serializeXML=function(t){return(new this.window.XMLSerializer).serializeToString(t)},e.prototype.setAttribute=function(t,e,r,n){return void 0===n&&(n=null),n?(e=n.replace(/.*\//,"")+":"+e.replace(/^.*:/,""),t.setAttributeNS(n,e,r)):t.setAttribute(e,r)},e.prototype.getAttribute=function(t,e){return t.getAttribute(e)},e.prototype.removeAttribute=function(t,e){return t.removeAttribute(e)},e.prototype.hasAttribute=function(t,e){return t.hasAttribute(e)},e.prototype.allAttributes=function(t){return Array.from(t.attributes).map((function(t){return{name:t.name,value:t.value}}))},e.prototype.addClass=function(t,e){t.classList?t.classList.add(e):t.className=(t.className+" "+e).trim()},e.prototype.removeClass=function(t,e){t.classList?t.classList.remove(e):t.className=t.className.split(/ /).filter((function(t){return t!==e})).join(" ")},e.prototype.hasClass=function(t,e){return t.classList?t.classList.contains(e):t.className.split(/ /).indexOf(e)>=0},e.prototype.setStyle=function(t,e,r){t.style[e]=r},e.prototype.getStyle=function(t,e){return t.style[e]},e.prototype.allStyles=function(t){return t.style.cssText},e.prototype.fontSize=function(t){var e=this.window.getComputedStyle(t);return parseFloat(e.fontSize)},e.prototype.fontFamily=function(t){return this.window.getComputedStyle(t).fontFamily||""},e.prototype.nodeSize=function(t,e,r){if(void 0===e&&(e=1),void 0===r&&(r=!1),r&&t.getBBox){var n=t.getBBox();return[n.width/e,n.height/e]}return[t.offsetWidth/e,t.offsetHeight/e]},e.prototype.nodeBBox=function(t){var e=t.getBoundingClientRect();return{left:e.left,right:e.right,top:e.top,bottom:e.bottom}},e}(Gh.AbstractDOMAdaptor);Vh.HTMLAdaptor=Jh,zh.browserAdaptor=function(){return new Vh.HTMLAdaptor(window)};var Qh={};Object.defineProperty(Qh,"__esModule",{value:!0}),Qh.RegisterHTMLHandler=void 0;var Yh={},Zh=Yh&&Yh.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Yh,"__esModule",{value:!0}),Yh.HTMLHandler=void 0;var td={},ed=td&&td.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(td,"__esModule",{value:!0}),td.AbstractHandler=void 0;var rd={},nd=rd&&rd.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),id=rd&&rd.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},od=rd&&rd.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},sd=rd&&rd.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(rd,"__esModule",{value:!0}),rd.AbstractMathDocument=rd.resetAllOptions=rd.resetOptions=rd.RenderList=void 0;var ad={},ld=ad&&ad.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(ad,"__esModule",{value:!0}),ad.AbstractMathList=void 0;var cd={},ud=cd&&cd.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},hd=cd&&cd.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t},dd=cd&&cd.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(cd,"__esModule",{value:!0}),cd.LinkedList=cd.ListItem=cd.END=void 0,cd.END=Symbol();var fd=function(t){void 0===t&&(t=null),this.next=null,this.prev=null,this.data=t};cd.ListItem=fd;var pd=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.list=new fd(cd.END),this.list.next=this.list.prev=this.list,this.push.apply(this,hd([],ud(t)))}return t.prototype.toArray=function(){return Array.from(this)},t.prototype.isBefore=function(t,e){return t<e},t.prototype.push=function(){for(var t,e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{for(var i=dd(r),o=i.next();!o.done;o=i.next()){var s=o.value,a=new fd(s);a.next=this.list,a.prev=this.list.prev,this.list.prev=a,a.prev.next=a}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return this},t.prototype.pop=function(){var t=this.list.prev;return t.data===cd.END?null:(this.list.prev=t.prev,t.prev.next=this.list,t.next=t.prev=null,t.data)},t.prototype.unshift=function(){for(var t,e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{for(var i=dd(r.slice(0).reverse()),o=i.next();!o.done;o=i.next()){var s=o.value,a=new fd(s);a.next=this.list.next,a.prev=this.list,this.list.next=a,a.next.prev=a}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return this},t.prototype.shift=function(){var t=this.list.next;return t.data===cd.END?null:(this.list.next=t.next,t.next.prev=this.list,t.next=t.prev=null,t.data)},t.prototype.remove=function(){for(var t,e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=new Map;try{for(var o=dd(r),s=o.next();!s.done;s=o.next()){var a=s.value;i.set(a,!0)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}for(var l=this.list.next;l.data!==cd.END;){var c=l.next;i.has(l.data)&&(l.prev.next=l.next,l.next.prev=l.prev,l.next=l.prev=null),l=c}},t.prototype.clear=function(){return this.list.next.prev=this.list.prev.next=null,this.list.next=this.list.prev=this.list,this},t.prototype[Symbol.iterator]=function(){var t=this.list;return{next:function(){return(t=t.next).data===cd.END?{value:null,done:!0}:{value:t.data,done:!1}}}},t.prototype.reversed=function(){var t,e=this.list;return(t={})[Symbol.iterator]=function(){return this},t.next=function(){return(e=e.prev).data===cd.END?{value:null,done:!0}:{value:e.data,done:!1}},t.toArray=function(){return Array.from(this)},t},t.prototype.insert=function(t,e){void 0===e&&(e=null),null===e&&(e=this.isBefore.bind(this));for(var r=new fd(t),n=this.list.next;n.data!==cd.END&&e(n.data,r.data);)n=n.next;return r.prev=n.prev,r.next=n,n.prev.next=n.prev=r,this},t.prototype.sort=function(e){var r,n;void 0===e&&(e=null),null===e&&(e=this.isBefore.bind(this));var i=[];try{for(var o=dd(this),s=o.next();!s.done;s=o.next()){var a=s.value;i.push(new t(a))}}catch(t){r={error:t}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}for(this.list.next=this.list.prev=this.list;i.length>1;){var l=i.shift(),c=i.shift();l.merge(c,e),i.push(l)}return i.length&&(this.list=i[0].list),this},t.prototype.merge=function(t,e){var r,n,i,o,s;void 0===e&&(e=null),null===e&&(e=this.isBefore.bind(this));for(var a=this.list.next,l=t.list.next;a.data!==cd.END&&l.data!==cd.END;)e(l.data,a.data)?(r=ud([a,l],2),l.prev.next=r[0],a.prev.next=r[1],n=ud([a.prev,l.prev],2),l.prev=n[0],a.prev=n[1],i=ud([t.list,this.list],2),this.list.prev.next=i[0],t.list.prev.next=i[1],o=ud([t.list.prev,this.list.prev],2),this.list.prev=o[0],t.list.prev=o[1],a=(s=ud([l.next,a],2))[0],l=s[1]):a=a.next;return l.data!==cd.END&&(this.list.prev.next=t.list.next,t.list.next.prev=this.list.prev,t.list.prev.next=this.list,this.list.prev=t.list.prev,t.list.next=t.list.prev=t.list),this},t}();cd.LinkedList=pd;var md=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ld(e,t),e.prototype.isBefore=function(t,e){return t.start.i<e.start.i||t.start.i===e.start.i&&t.start.n<e.start.n},e}(cd.LinkedList);ad.AbstractMathList=md;var gd={},yd=gd&&gd.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(gd,"__esModule",{value:!0}),gd.MmlFactory=void 0;var vd={},bd=vd&&vd.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(vd,"__esModule",{value:!0}),vd.AbstractNodeFactory=void 0;var Ad=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bd(e,t),e.prototype.create=function(t,e,r){return void 0===e&&(e={}),void 0===r&&(r=[]),this.node[t](e,r)},e}(me.AbstractFactory);vd.AbstractNodeFactory=Ad;var Cd,wd={};Object.defineProperty(wd,"__esModule",{value:!0}),wd.MML=void 0;var xd={},Ed=xd&&xd.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Sd=xd&&xd.__assign||function(){return(Sd=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(xd,"__esModule",{value:!0}),xd.MmlMstyle=void 0;var Md=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ed(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"mstyle"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"notParent",{get:function(){return this.childNodes[0]&&1===this.childNodes[0].childNodes.length},enumerable:!1,configurable:!0}),e.prototype.setChildInheritedAttributes=function(t,e,r,n){var i=this.attributes.getExplicit("scriptlevel");null!=i&&((i=i.toString()).match(/^\s*[-+]/)?r+=parseInt(i):r=parseInt(i));var o=this.attributes.getExplicit("displaystyle");null!=o&&(e=!0===o),t=this.addInheritedAttributes(t,this.attributes.getAllAttributes()),this.childNodes[0].setInheritedAttributes(t,e,r,n)},e.defaults=Sd(Sd({},Y.AbstractMmlLayoutNode.defaults),{scriptlevel:nt.INHERIT,displaystyle:nt.INHERIT,scriptsizemultiplier:1/Math.sqrt(2),scriptminsize:"8px",mathbackground:nt.INHERIT,mathcolor:nt.INHERIT,dir:nt.INHERIT,infixlinebreakstyle:"before"}),e}(Y.AbstractMmlLayoutNode);xd.MmlMstyle=Md;var Od={},_d=Od&&Od.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Td=Od&&Od.__assign||function(){return(Td=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(Od,"__esModule",{value:!0}),Od.MmlMerror=void 0;var Fd=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.texclass=Y.TEXCLASS.ORD,e}return _d(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"merror"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"linebreakContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),e.defaults=Td({},Y.AbstractMmlNode.defaults),e}(Y.AbstractMmlNode);Od.MmlMerror=Fd;var Bd={},Ld=Bd&&Bd.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),kd=Bd&&Bd.__assign||function(){return(kd=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(Bd,"__esModule",{value:!0}),Bd.MmlMphantom=void 0;var Rd=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.texclass=Y.TEXCLASS.ORD,e}return Ld(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"mphantom"},enumerable:!1,configurable:!0}),e.defaults=kd({},Y.AbstractMmlLayoutNode.defaults),e}(Y.AbstractMmlLayoutNode);Bd.MmlMphantom=Rd;var Dd={},Pd=Dd&&Dd.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Id=Dd&&Dd.__assign||function(){return(Id=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(Dd,"__esModule",{value:!0}),Dd.MmlMaligngroup=void 0;var Nd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Pd(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"maligngroup"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSpacelike",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.setChildInheritedAttributes=function(e,r,n,i){e=this.addInheritedAttributes(e,this.attributes.getAllAttributes()),t.prototype.setChildInheritedAttributes.call(this,e,r,n,i)},e.defaults=Id(Id({},Y.AbstractMmlLayoutNode.defaults),{groupalign:nt.INHERIT}),e}(Y.AbstractMmlLayoutNode);Dd.MmlMaligngroup=Nd;var $d={},jd=$d&&$d.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Hd=$d&&$d.__assign||function(){return(Hd=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty($d,"__esModule",{value:!0}),$d.MmlMalignmark=void 0;var Wd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return jd(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"malignmark"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSpacelike",{get:function(){return!0},enumerable:!1,configurable:!0}),e.defaults=Hd(Hd({},Y.AbstractMmlNode.defaults),{edge:"left"}),e}(Y.AbstractMmlNode);$d.MmlMalignmark=Wd;var zd={},Vd=zd&&zd.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xd=zd&&zd.__assign||function(){return(Xd=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(zd,"__esModule",{value:!0}),zd.MathChoice=void 0;var qd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Vd(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"MathChoice"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return 4},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"notParent",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.setInheritedAttributes=function(t,e,r,n){var i=e?0:Math.max(0,Math.min(r,2))+1,o=this.childNodes[i]||this.factory.create("mrow");this.parent.replaceChild(o,this),o.setInheritedAttributes(t,e,r,n)},e.defaults=Xd({},Y.AbstractMmlBaseNode.defaults),e}(Y.AbstractMmlBaseNode);zd.MathChoice=qd,wd.MML=((Cd={})[Ei.MmlMath.prototype.kind]=Ei.MmlMath,Cd[ki.MmlMi.prototype.kind]=ki.MmlMi,Cd[Yi.MmlMn.prototype.kind]=Yi.MmlMn,Cd[Et.MmlMo.prototype.kind]=Et.MmlMo,Cd[bo.MmlMtext.prototype.kind]=bo.MmlMtext,Cd[_o.MmlMspace.prototype.kind]=_o.MmlMspace,Cd[co.MmlMs.prototype.kind]=co.MmlMs,Cd[As.MmlMrow.prototype.kind]=As.MmlMrow,Cd[As.MmlInferredMrow.prototype.kind]=As.MmlInferredMrow,Cd[Us.MmlMfrac.prototype.kind]=Us.MmlMfrac,Cd[aa.MmlMsqrt.prototype.kind]=aa.MmlMsqrt,Cd[ya.MmlMroot.prototype.kind]=ya.MmlMroot,Cd[xd.MmlMstyle.prototype.kind]=xd.MmlMstyle,Cd[Od.MmlMerror.prototype.kind]=Od.MmlMerror,Cd[jo.MmlMpadded.prototype.kind]=jo.MmlMpadded,Cd[Bd.MmlMphantom.prototype.kind]=Bd.MmlMphantom,Cd[Ds.MmlMfenced.prototype.kind]=Ds.MmlMfenced,Cd[os.MmlMenclose.prototype.kind]=os.MmlMenclose,Cd[fc.MmlMaction.prototype.kind]=fc.MmlMaction,Cd[Na.MmlMsub.prototype.kind]=Na.MmlMsub,Cd[Na.MmlMsup.prototype.kind]=Na.MmlMsup,Cd[Na.MmlMsubsup.prototype.kind]=Na.MmlMsubsup,Cd[Za.MmlMunder.prototype.kind]=Za.MmlMunder,Cd[Za.MmlMover.prototype.kind]=Za.MmlMover,Cd[Za.MmlMunderover.prototype.kind]=Za.MmlMunderover,Cd[gl.MmlMmultiscripts.prototype.kind]=gl.MmlMmultiscripts,Cd[gl.MmlMprescripts.prototype.kind]=gl.MmlMprescripts,Cd[gl.MmlNone.prototype.kind]=gl.MmlNone,Cd[kl.MmlMtable.prototype.kind]=kl.MmlMtable,Cd[Vl.MmlMlabeledtr.prototype.kind]=Vl.MmlMlabeledtr,Cd[Vl.MmlMtr.prototype.kind]=Vl.MmlMtr,Cd[rc.MmlMtd.prototype.kind]=rc.MmlMtd,Cd[Dd.MmlMaligngroup.prototype.kind]=Dd.MmlMaligngroup,Cd[$d.MmlMalignmark.prototype.kind]=$d.MmlMalignmark,Cd[Ec.MmlMglyph.prototype.kind]=Ec.MmlMglyph,Cd[kc.MmlSemantics.prototype.kind]=kc.MmlSemantics,Cd[kc.MmlAnnotation.prototype.kind]=kc.MmlAnnotation,Cd[kc.MmlAnnotationXML.prototype.kind]=kc.MmlAnnotationXML,Cd[Gc.TeXAtom.prototype.kind]=Gc.TeXAtom,Cd[zd.MathChoice.prototype.kind]=zd.MathChoice,Cd[Y.TextNode.prototype.kind]=Y.TextNode,Cd[Y.XMLNode.prototype.kind]=Y.XMLNode,Cd);var Gd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return yd(e,t),Object.defineProperty(e.prototype,"MML",{get:function(){return this.node},enumerable:!1,configurable:!0}),e.defaultNodes=wd.MML,e}(vd.AbstractNodeFactory);gd.MmlFactory=Gd;var Ud={},Kd=Ud&&Ud.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Jd=Ud&&Ud.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Qd=Ud&&Ud.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},Yd=Ud&&Ud.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(Ud,"__esModule",{value:!0}),Ud.BitFieldClass=Ud.BitField=void 0;var Zd=function(){function t(){this.bits=0}return t.allocate=function(){for(var e,r,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];try{for(var o=Jd(n),s=o.next();!s.done;s=o.next()){var a=s.value;if(this.has(a))throw new Error("Bit already allocated for "+a);if(this.next===t.MAXBIT)throw new Error("Maximum number of bits already allocated");this.names.set(a,this.next),this.next<<=1}}catch(t){e={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}},t.has=function(t){return this.names.has(t)},t.prototype.set=function(t){this.bits|=this.getBit(t)},t.prototype.clear=function(t){this.bits&=~this.getBit(t)},t.prototype.isSet=function(t){return!!(this.bits&this.getBit(t))},t.prototype.reset=function(){this.bits=0},t.prototype.getBit=function(t){var e=this.constructor.names.get(t);if(!e)throw new Error("Unknown bit-field name: "+t);return e},t.MAXBIT=-2147483648,t.next=1,t.names=new Map,t}();Ud.BitField=Zd,Ud.BitFieldClass=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kd(e,t),e}(Zd);return r.allocate.apply(r,Yd([],Qd(t))),r};var tf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return nd(e,t),e.create=function(t){var e,r,n=new this;try{for(var i=id(Object.keys(t)),o=i.next();!o.done;o=i.next()){var s=o.value,a=od(this.action(s,t[s]),2),l=a[0],c=a[1];c&&n.add(l,c)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return n},e.action=function(t,e){var r,n,i,o,s,a,l=!0,c=e[0];if(1===e.length||"boolean"==typeof e[1])2===e.length&&(l=e[1]),s=(r=od(this.methodActions(t),2))[0],a=r[1];else if("string"==typeof e[1])if("string"==typeof e[2]){4===e.length&&(l=e[3]);var u=od(e.slice(1),2),h=u[0],d=u[1];s=(n=od(this.methodActions(h,d),2))[0],a=n[1]}else 3===e.length&&(l=e[2]),s=(i=od(this.methodActions(e[1]),2))[0],a=i[1];else 4===e.length&&(l=e[3]),s=(o=od(e.slice(1),2))[0],a=o[1];return[{id:t,renderDoc:s,renderMath:a,convert:l},c]},e.methodActions=function(t,e){return void 0===e&&(e=t),[function(e){return t&&e[t](),!1},function(t,r){return e&&t[e](r),!1}]},e.prototype.renderDoc=function(t,e){var r,n;void 0===e&&(e=G.STATE.UNPROCESSED);try{for(var i=id(this.items),o=i.next();!o.done;o=i.next()){var s=o.value;if(s.priority>=e&&s.item.renderDoc(t))return}}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e.prototype.renderMath=function(t,e,r){var n,i;void 0===r&&(r=G.STATE.UNPROCESSED);try{for(var o=id(this.items),s=o.next();!s.done;s=o.next()){var a=s.value;if(a.priority>=r&&a.item.renderMath(t,e))return}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},e.prototype.renderConvert=function(t,e,r){var n,i;void 0===r&&(r=G.STATE.LAST);try{for(var o=id(this.items),s=o.next();!s.done;s=o.next()){var a=s.value;if(a.priority>r)return;if(a.item.convert&&a.item.renderMath(t,e))return}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},e.prototype.findID=function(t){var e,r;try{for(var n=id(this.items),i=n.next();!i.done;i=n.next()){var o=i.value;if(o.item.id===t)return o.item}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return null},e}(u.PrioritizedList);rd.RenderList=tf,rd.resetOptions={all:!1,processed:!1,inputJax:null,outputJax:null},rd.resetAllOptions={all:!0,processed:!0,inputJax:[],outputJax:[]};var ef=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return nd(e,t),e.prototype.compile=function(t){return null},e}(v.AbstractInputJax),rf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return nd(e,t),e.prototype.typeset=function(t,e){return void 0===e&&(e=null),null},e.prototype.escaped=function(t,e){return null},e}(yn.AbstractOutputJax),nf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return nd(e,t),e}(ad.AbstractMathList),of=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return nd(e,t),e}(G.AbstractMathItem),sf=function(){function t(e,r,n){var i=this,o=this.constructor;this.document=e,this.options=A.userOptions(A.defaultOptions({},o.OPTIONS),n),this.math=new(this.options.MathList||nf),this.renderActions=tf.create(this.options.renderActions),this.processed=new t.ProcessBits,this.outputJax=this.options.OutputJax||new rf;var s=this.options.InputJax||[new ef];Array.isArray(s)||(s=[s]),this.inputJax=s,this.adaptor=r,this.outputJax.setAdaptor(r),this.inputJax.map((function(t){return t.setAdaptor(r)})),this.mmlFactory=this.options.MmlFactory||new gd.MmlFactory,this.inputJax.map((function(t){return t.setMmlFactory(i.mmlFactory)})),this.outputJax.initialize(),this.inputJax.map((function(t){return t.initialize()}))}return Object.defineProperty(t.prototype,"kind",{get:function(){return this.constructor.KIND},enumerable:!1,configurable:!0}),t.prototype.addRenderAction=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=od(tf.action(t,e),2),i=n[0],o=n[1];this.renderActions.add(i,o)},t.prototype.removeRenderAction=function(t){var e=this.renderActions.findID(t);e&&this.renderActions.remove(e)},t.prototype.render=function(){return this.renderActions.renderDoc(this),this},t.prototype.rerender=function(t){return void 0===t&&(t=G.STATE.RERENDER),this.state(t-1),this.render(),this},t.prototype.convert=function(t,e){void 0===e&&(e={});var r=A.userOptions({format:this.inputJax[0].name,display:!0,end:G.STATE.LAST,em:16,ex:8,containerWidth:null,lineWidth:1e6,scale:1,family:""},e),n=r.format,i=r.display,o=r.end,s=r.ex,a=r.em,l=r.containerWidth,c=r.lineWidth,u=r.scale,h=r.family;null===l&&(l=80*s);var d=this.inputJax.reduce((function(t,e){return e.name===n?e:t}),null),f=new this.options.MathItem(t,d,i);return f.start.node=this.adaptor.body(this.document),f.setMetrics(a,s,l,c,u),this.outputJax.options.mtextInheritFont&&(f.outputData.mtextFamily=h),this.outputJax.options.merrorInheritFont&&(f.outputData.merrorFamily=h),f.convert(this,o),f.typesetRoot||f.root},t.prototype.findMath=function(t){return void 0===t&&(t=null),this.processed.set("findMath"),this},t.prototype.compile=function(){var t,e,r,n;if(!this.processed.isSet("compile")){var i=[];try{for(var o=id(this.math),s=o.next();!s.done;s=o.next()){var a=s.value;this.compileMath(a),void 0!==a.inputData.recompile&&i.push(a)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}try{for(var l=id(i),c=l.next();!c.done;c=l.next()){var u=(a=c.value).inputData.recompile;a.state(u.state),a.inputData.recompile=u,this.compileMath(a)}}catch(t){r={error:t}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}this.processed.set("compile")}return this},t.prototype.compileMath=function(t){try{t.compile(this)}catch(e){if(e.retry||e.restart)throw e;this.options.compileError(this,t,e),t.inputData.error=e}},t.prototype.compileError=function(t,e){t.root=this.mmlFactory.create("math",null,[this.mmlFactory.create("merror",{"data-mjx-error":e.message,title:e.message},[this.mmlFactory.create("mtext",null,[this.mmlFactory.create("text").setText("Math input error")])])]),t.display&&t.root.attributes.set("display","block"),t.inputData.error=e.message},t.prototype.typeset=function(){var t,e;if(!this.processed.isSet("typeset")){try{for(var r=id(this.math),n=r.next();!n.done;n=r.next()){var i=n.value;try{i.typeset(this)}catch(t){if(t.retry||t.restart)throw t;this.options.typesetError(this,i,t),i.outputData.error=t}}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}this.processed.set("typeset")}return this},t.prototype.typesetError=function(t,e){t.typesetRoot=this.adaptor.node("mjx-container",{class:"MathJax mjx-output-error",jax:this.outputJax.name},[this.adaptor.node("span",{"data-mjx-error":e.message,title:e.message,style:{color:"red","background-color":"yellow","line-height":"normal"}},[this.adaptor.text("Math output error")])]),t.display&&this.adaptor.setAttributes(t.typesetRoot,{style:{display:"block",margin:"1em 0","text-align":"center"}}),t.outputData.error=e.message},t.prototype.getMetrics=function(){return this.processed.isSet("getMetrics")||(this.outputJax.getMetrics(this),this.processed.set("getMetrics")),this},t.prototype.updateDocument=function(){var t,e;if(!this.processed.isSet("updateDocument")){try{for(var r=id(this.math.reversed()),n=r.next();!n.done;n=r.next()){n.value.updateDocument(this)}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}this.processed.set("updateDocument")}return this},t.prototype.removeFromDocument=function(t){return void 0===t&&(t=!1),this},t.prototype.state=function(t,e){var r,n;void 0===e&&(e=!1);try{for(var i=id(this.math),o=i.next();!o.done;o=i.next()){o.value.state(t,e)}}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return t<G.STATE.INSERTED&&this.processed.clear("updateDocument"),t<G.STATE.TYPESET&&(this.processed.clear("typeset"),this.processed.clear("getMetrics")),t<G.STATE.COMPILED&&this.processed.clear("compile"),this},t.prototype.reset=function(t){var e;return void 0===t&&(t={processed:!0}),(t=A.userOptions(Object.assign({},rd.resetOptions),t)).all&&Object.assign(t,rd.resetAllOptions),t.processed&&this.processed.reset(),t.inputJax&&this.inputJax.forEach((function(e){return e.reset.apply(e,sd([],od(t.inputJax)))})),t.outputJax&&(e=this.outputJax).reset.apply(e,sd([],od(t.outputJax))),this},t.prototype.clear=function(){return this.reset(),this.math.clear(),this},t.prototype.concat=function(t){return this.math.merge(t),this},t.prototype.clearMathItemsWithin=function(t){var e;(e=this.math).remove.apply(e,sd([],od(this.getMathItemsWithin(t))))},t.prototype.getMathItemsWithin=function(t){var e,r,n,i;Array.isArray(t)||(t=[t]);var o=this.adaptor,s=[],a=o.getElements(t,this.document);try{t:for(var l=id(this.math),c=l.next();!c.done;c=l.next()){var u=c.value;try{for(var h=(n=void 0,id(a)),d=h.next();!d.done;d=h.next()){var f=d.value;if(u.start.node&&o.contains(f,u.start.node)){s.push(u);continue t}}}catch(t){n={error:t}}finally{try{d&&!d.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}return s},t.KIND="MathDocument",t.OPTIONS={OutputJax:null,InputJax:null,MmlFactory:null,MathList:nf,MathItem:of,compileError:function(t,e,r){t.compileError(e,r)},typesetError:function(t,e,r){t.typesetError(e,r)},renderActions:A.expandable({find:[G.STATE.FINDMATH,"findMath","",!1],compile:[G.STATE.COMPILED],metrics:[G.STATE.METRICS,"getMetrics","",!1],typeset:[G.STATE.TYPESET],update:[G.STATE.INSERTED,"updateDocument",!1]})},t.ProcessBits=Ud.BitFieldClass("findMath","compile","getMetrics","typeset","updateDocument"),t}();rd.AbstractMathDocument=sf;var af=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ed(e,t),e}(rd.AbstractMathDocument),lf=function(){function t(t,e){void 0===e&&(e=5),this.documentClass=af,this.adaptor=t,this.priority=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this.constructor.NAME},enumerable:!1,configurable:!0}),t.prototype.handlesDocument=function(t){return!1},t.prototype.create=function(t,e){return new this.documentClass(t,this.adaptor,e)},t.NAME="generic",t}();td.AbstractHandler=lf;var cf={},uf=cf&&cf.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),hf=cf&&cf.__assign||function(){return(hf=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},df=cf&&cf.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},ff=cf&&cf.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(cf,"__esModule",{value:!0}),cf.HTMLDocument=void 0;var pf={},mf=pf&&pf.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(pf,"__esModule",{value:!0}),pf.HTMLMathItem=void 0;var gf=function(t){function e(e,r,n,i,o){return void 0===n&&(n=!0),void 0===i&&(i={node:null,n:0,delim:""}),void 0===o&&(o={node:null,n:0,delim:""}),t.call(this,e,r,n,i,o)||this}return mf(e,t),Object.defineProperty(e.prototype,"adaptor",{get:function(){return this.inputJax.adaptor},enumerable:!1,configurable:!0}),e.prototype.updateDocument=function(t){if(this.state()<G.STATE.INSERTED){if(this.inputJax.processStrings){var e=this.start.node;if(e===this.end.node)this.end.n&&this.end.n<this.adaptor.value(this.end.node).length&&this.adaptor.split(this.end.node,this.end.n),this.start.n&&(e=this.adaptor.split(this.start.node,this.start.n)),this.adaptor.replace(this.typesetRoot,e);else{for(this.start.n&&(e=this.adaptor.split(e,this.start.n));e!==this.end.node;){var r=this.adaptor.next(e);this.adaptor.remove(e),e=r}this.adaptor.insert(this.typesetRoot,e),this.end.n<this.adaptor.value(e).length&&this.adaptor.split(e,this.end.n),this.adaptor.remove(e)}}else this.adaptor.replace(this.typesetRoot,this.start.node);this.start.node=this.end.node=this.typesetRoot,this.start.n=this.end.n=0,this.state(G.STATE.INSERTED)}},e.prototype.updateStyleSheet=function(t){t.addStyleSheet()},e.prototype.removeFromDocument=function(t){if(void 0===t&&(t=!1),this.state()>=G.STATE.TYPESET){var e=this.adaptor,r=this.start.node,n=e.text("");if(t){var i=this.start.delim+this.math+this.end.delim;if(this.inputJax.processStrings)n=e.text(i);else{var o=e.parse(i,"text/html");n=e.firstChild(e.body(o))}}e.parent(r)&&e.replace(n,r),this.start.node=this.end.node=n,this.start.n=this.end.n=0}},e}(G.AbstractMathItem);pf.HTMLMathItem=gf;var yf={},vf=yf&&yf.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(yf,"__esModule",{value:!0}),yf.HTMLMathList=void 0;var bf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return vf(e,t),e}(ad.AbstractMathList);yf.HTMLMathList=bf;var Af={},Cf=Af&&Af.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s};Object.defineProperty(Af,"__esModule",{value:!0}),Af.HTMLDomStrings=void 0;var wf=function(){function t(t){void 0===t&&(t=null);var e=this.constructor;this.options=A.userOptions(A.defaultOptions({},e.OPTIONS),t),this.init(),this.getPatterns()}return t.prototype.init=function(){this.strings=[],this.string="",this.snodes=[],this.nodes=[],this.stack=[]},t.prototype.getPatterns=function(){var t=A.makeArray(this.options.skipHtmlTags),e=A.makeArray(this.options.ignoreHtmlClass),r=A.makeArray(this.options.processHtmlClass);this.skipHtmlTags=new RegExp("^(?:"+t.join("|")+")$","i"),this.ignoreHtmlClass=new RegExp("(?:^| )(?:"+e.join("|")+")(?: |$)"),this.processHtmlClass=new RegExp("(?:^| )(?:"+r+")(?: |$)")},t.prototype.pushString=function(){this.string.match(/\S/)&&(this.strings.push(this.string),this.nodes.push(this.snodes)),this.string="",this.snodes=[]},t.prototype.extendString=function(t,e){this.snodes.push([t,e.length]),this.string+=e},t.prototype.handleText=function(t,e){return e||this.extendString(t,this.adaptor.value(t)),this.adaptor.next(t)},t.prototype.handleTag=function(t,e){if(!e){var r=this.options.includeHtmlTags[this.adaptor.kind(t)];this.extendString(t,r)}return this.adaptor.next(t)},t.prototype.handleContainer=function(t,e){this.pushString();var r=this.adaptor.getAttribute(t,"class")||"",n=this.adaptor.kind(t)||"",i=this.processHtmlClass.exec(r),o=t;return!this.adaptor.firstChild(t)||this.adaptor.getAttribute(t,"data-MJX")||!i&&this.skipHtmlTags.exec(n)?o=this.adaptor.next(t):(this.adaptor.next(t)&&this.stack.push([this.adaptor.next(t),e]),o=this.adaptor.firstChild(t),e=(e||this.ignoreHtmlClass.exec(r))&&!i),[o,e]},t.prototype.handleOther=function(t,e){return this.pushString(),this.adaptor.next(t)},t.prototype.find=function(t){var e,r;this.init();for(var n=this.adaptor.next(t),i=!1,o=this.options.includeHtmlTags;t&&t!==n;){var s=this.adaptor.kind(t);"#text"===s?t=this.handleText(t,i):o.hasOwnProperty(s)?t=this.handleTag(t,i):s?(t=(e=Cf(this.handleContainer(t,i),2))[0],i=e[1]):t=this.handleOther(t,i),!t&&this.stack.length&&(this.pushString(),t=(r=Cf(this.stack.pop(),2))[0],i=r[1])}this.pushString();var a=[this.strings,this.nodes];return this.init(),a},t.OPTIONS={skipHtmlTags:["script","noscript","style","textarea","pre","code","annotation","annotation-xml"],includeHtmlTags:{br:"\n",wbr:"","#comment":""},ignoreHtmlClass:"mathjax_ignore",processHtmlClass:"mathjax_process"},t}();Af.HTMLDomStrings=wf;var xf=function(t){function e(e,r,n){var i=this,o=df(A.separateOptions(n,Af.HTMLDomStrings.OPTIONS),2),s=o[0],a=o[1];return(i=t.call(this,e,r,s)||this).domStrings=i.options.DomStrings||new Af.HTMLDomStrings(a),i.domStrings.adaptor=r,i.styles=[],i}return uf(e,t),e.prototype.findPosition=function(t,e,r,n){var i,o,s=this.adaptor;try{for(var a=ff(n[t]),l=a.next();!l.done;l=a.next()){var c=l.value,u=df(c,2),h=u[0],d=u[1];if(e<=d&&"#text"===s.kind(h))return{node:h,n:Math.max(e,0),delim:r};e-=d}}catch(t){i={error:t}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}return{node:null,n:0,delim:r}},e.prototype.mathItem=function(t,e,r){var n=t.math,i=this.findPosition(t.n,t.start.n,t.open,r),o=this.findPosition(t.n,t.end.n,t.close,r);return new this.options.MathItem(n,e,t.display,i,o)},e.prototype.findMath=function(t){var e,r,n,i,o,s,a,l,c;if(!this.processed.isSet("findMath")){this.adaptor.document=this.document,t=A.userOptions({elements:this.options.elements||[this.adaptor.body(this.document)]},t);try{for(var u=ff(this.adaptor.getElements(t.elements,this.document)),h=u.next();!h.done;h=u.next()){var d=h.value,f=df([null,null],2),p=f[0],m=f[1];try{for(var g=(n=void 0,ff(this.inputJax)),y=g.next();!y.done;y=g.next()){var v=y.value,b=new this.options.MathList;if(v.processStrings){null===p&&(p=(o=df(this.domStrings.find(d),2))[0],m=o[1]);try{for(var C=(s=void 0,ff(v.findMath(p))),w=C.next();!w.done;w=C.next()){var x=w.value;b.push(this.mathItem(x,v,m))}}catch(t){s={error:t}}finally{try{w&&!w.done&&(a=C.return)&&a.call(C)}finally{if(s)throw s.error}}}else try{for(var E=(l=void 0,ff(v.findMath(d))),S=E.next();!S.done;S=E.next()){x=S.value;var M=new this.options.MathItem(x.math,v,x.display,x.start,x.end);b.push(M)}}catch(t){l={error:t}}finally{try{S&&!S.done&&(c=E.return)&&c.call(E)}finally{if(l)throw l.error}}this.math.merge(b)}}catch(t){n={error:t}}finally{try{y&&!y.done&&(i=g.return)&&i.call(g)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{h&&!h.done&&(r=u.return)&&r.call(u)}finally{if(e)throw e.error}}this.processed.set("findMath")}return this},e.prototype.updateDocument=function(){return this.processed.isSet("updateDocument")||(this.addPageElements(),this.addStyleSheet(),t.prototype.updateDocument.call(this),this.processed.set("updateDocument")),this},e.prototype.addPageElements=function(){var t=this.adaptor.body(this.document),e=this.documentPageElements();e&&this.adaptor.append(t,e)},e.prototype.addStyleSheet=function(){var t=this.documentStyleSheet(),e=this.adaptor;if(t&&!e.parent(t)){var r=e.head(this.document),n=this.findSheet(r,e.getAttribute(t,"id"));n?e.replace(t,n):e.append(r,t)}},e.prototype.findSheet=function(t,e){var r,n;if(e)try{for(var i=ff(this.adaptor.tags(t,"style")),o=i.next();!o.done;o=i.next()){var s=o.value;if(this.adaptor.getAttribute(s,"id")===e)return s}}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return null},e.prototype.removeFromDocument=function(t){var e,r;if(void 0===t&&(t=!1),this.processed.isSet("updateDocument"))try{for(var n=ff(this.math),i=n.next();!i.done;i=n.next()){var o=i.value;o.state()>=G.STATE.INSERTED&&o.state(G.STATE.TYPESET,t)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return this.processed.clear("updateDocument"),this},e.prototype.documentStyleSheet=function(){return this.outputJax.styleSheet(this)},e.prototype.documentPageElements=function(){return this.outputJax.pageElements(this)},e.prototype.addStyles=function(t){this.styles.push(t)},e.prototype.getStyles=function(){return this.styles},e.KIND="HTML",e.OPTIONS=hf(hf({},rd.AbstractMathDocument.OPTIONS),{renderActions:A.expandable(hf(hf({},rd.AbstractMathDocument.OPTIONS.renderActions),{styles:[G.STATE.INSERTED+1,"","updateStyleSheet",!1]})),MathList:yf.HTMLMathList,MathItem:pf.HTMLMathItem,DomStrings:null}),e}(rd.AbstractMathDocument);cf.HTMLDocument=xf;var Ef=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.documentClass=cf.HTMLDocument,e}return Zh(e,t),e.prototype.handlesDocument=function(t){var e=this.adaptor;if("string"==typeof t)try{t=e.parse(t,"text/html")}catch(t){}return t instanceof e.window.Document||t instanceof e.window.HTMLElement||t instanceof e.window.DocumentFragment},e.prototype.create=function(e,r){var n=this.adaptor;if("string"==typeof e)e=n.parse(e,"text/html");else if(e instanceof n.window.HTMLElement||e instanceof n.window.DocumentFragment){var i=e;e=n.parse("","text/html"),n.append(n.body(e),i)}return t.prototype.create.call(this,e,r)},e}(td.AbstractHandler);Yh.HTMLHandler=Ef,Qh.RegisterHTMLHandler=function(t){var e=new Yh.HTMLHandler(t);return o.mathjax.handlers.register(e),e};var Sf={};Object.defineProperty(Sf,"__esModule",{value:!0}),Sf.AllPackages=void 0;var Mf={};Object.defineProperty(Mf,"__esModule",{value:!0}),Mf.ActionConfiguration=Mf.ActionMethods=void 0,Mf.ActionMethods={},Mf.ActionMethods.Macro=qr.default.Macro,Mf.ActionMethods.Toggle=function(t,e){for(var r,n=[];"\\endtoggle"!==(r=t.GetArgument(e));)n.push(new Rt.default(r,t.stack.env,t.configuration).mml());t.Push(t.create("node","maction",n,{actiontype:"toggle"}))},Mf.ActionMethods.Mathtip=function(t,e){var r=t.ParseArg(e),n=t.ParseArg(e);t.Push(t.create("node","maction",[r,n],{actiontype:"tooltip"}))},new er.CommandMap("action-macros",{toggle:"Toggle",mathtip:"Mathtip",texttip:["Macro","\\mathtip{#1}{\\text{#2}}",2]},Mf.ActionMethods),Mf.ActionConfiguration=Ne.Configuration.create("action",{handler:{macro:["action-macros"]}});var Of,_f={},Tf=_f&&_f.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(_f,"__esModule",{value:!0}),_f.AmsConfiguration=_f.AmsTags=void 0;var Ff={},Bf=Ff&&Ff.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Ff,"__esModule",{value:!0}),Ff.MultlineItem=void 0;var Lf=function(t){function e(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=t.call(this,e)||this;return i.factory.configuration.tags.start("multline",!0,r[0]),i}return Bf(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"multline"},enumerable:!1,configurable:!0}),e.prototype.EndEntry=function(){this.table.length&&Nt.default.fixInitialMO(this.factory.configuration,this.nodes);var t=this.getProperty("shove"),e=this.create("node","mtd",this.nodes,t?{columnalign:t}:{});this.setProperty("shove",null),this.row.push(e),this.Clear()},e.prototype.EndRow=function(){if(1!==this.row.length)throw new Ht.default("MultlineRowsOneCol","The rows within the %1 environment must have exactly one column","multline");var t=this.create("node","mtr",this.row);this.table.push(t),this.row=[]},e.prototype.EndTable=function(){if(t.prototype.EndTable.call(this),this.table.length){var e=this.table.length-1,r=-1;At.default.getAttribute(At.default.getChildren(this.table[0])[0],"columnalign")||At.default.setAttribute(At.default.getChildren(this.table[0])[0],"columnalign",Xr.TexConstant.Align.LEFT),At.default.getAttribute(At.default.getChildren(this.table[e])[0],"columnalign")||At.default.setAttribute(At.default.getChildren(this.table[e])[0],"columnalign",Xr.TexConstant.Align.RIGHT);var n=this.factory.configuration.tags.getTag();if(n){r=this.arraydef.side===Xr.TexConstant.Align.LEFT?0:this.table.length-1;var i=this.table[r],o=this.create("node","mlabeledtr",[n].concat(At.default.getChildren(i)));At.default.copyAttributes(i,o),this.table[r]=o}}this.factory.configuration.tags.end()},e}(yr.ArrayItem);Ff.MultlineItem=Lf;var kf={};Object.defineProperty(kf,"__esModule",{value:!0}),kf.NEW_OPS=kf.AmsMethods=void 0,kf.AmsMethods={},kf.AmsMethods.AmsEqnArray=function(t,e,r,n,i,o,s){var a=t.GetBrackets("\\begin{"+e.getName()+"}"),l=qr.default.EqnArray(t,e,r,n,i,o,s);return Nt.default.setArrayAlign(l,a)},kf.AmsMethods.AlignAt=function(t,e,r,n){var i,o,s=e.getName(),a="",l=[];if(n||(o=t.GetBrackets("\\begin{"+s+"}")),(i=t.GetArgument("\\begin{"+s+"}")).match(/[^0-9]/))throw new Ht.default("PositiveIntegerArg","Argument to %1 must me a positive integer","\\begin{"+s+"}");for(var c=parseInt(i,10);c>0;)a+="rl",l.push("0em 0em"),c--;var u=l.join(" ");if(n)return kf.AmsMethods.EqnArray(t,e,r,n,a,u);var h=kf.AmsMethods.EqnArray(t,e,r,n,a,u);return Nt.default.setArrayAlign(h,o)},kf.AmsMethods.Multline=function(t,e,r){t.Push(e),Nt.default.checkEqnEnv(t);var n=t.itemFactory.create("multline",r,t.stack);return n.arraydef={displaystyle:!0,rowspacing:".5em",columnwidth:"100%",width:t.options.multlineWidth,side:t.options.tagSide,minlabelspacing:t.options.tagIndent},n},kf.NEW_OPS="ams-declare-ops",kf.AmsMethods.HandleDeclareOp=function(t,e){var r=t.GetStar()?"":"\\nolimits\\SkipLimits",n=Nt.default.trimSpaces(t.GetArgument(e));"\\"===n.charAt(0)&&(n=n.substr(1));var i=t.GetArgument(e);i.match(/\\text/)||(i=i.replace(/\*/g,"\\text{*}").replace(/-/g,"\\text{-}")),t.configuration.handlers.retrieve(kf.NEW_OPS).add(n,new sr.Macro(n,kf.AmsMethods.Macro,["\\mathop{\\rm "+i+"}"+r]))},kf.AmsMethods.HandleOperatorName=function(t,e){var r=t.GetStar()?"":"\\nolimits\\SkipLimits",n=Nt.default.trimSpaces(t.GetArgument(e));n.match(/\\text/)||(n=n.replace(/\*/g,"\\text{*}").replace(/-/g,"\\text{-}")),t.string="\\mathop{\\rm "+n+"}"+r+" "+t.string.slice(t.i),t.i=0},kf.AmsMethods.SkipLimits=function(t,e){var r=t.GetNext(),n=t.i;"\\"===r&&++t.i&&"limits"!==t.GetCS()&&(t.i=n)},kf.AmsMethods.MultiIntegral=function(t,e,r){var n=t.GetNext();if("\\"===n){var i=t.i;n=t.GetArgument(e),t.i=i,"\\limits"===n&&(r="\\idotsint"===e?"\\!\\!\\mathop{\\,\\,"+r+"}":"\\!\\!\\!\\mathop{\\,\\,\\,"+r+"}")}t.string=r+" "+t.string.slice(t.i),t.i=0},kf.AmsMethods.xArrow=function(t,e,r,n,i){var o={width:"+"+Nt.default.Em((n+i)/18),lspace:Nt.default.Em(n/18)},s=t.GetBrackets(e),a=t.ParseArg(e),l=t.create("node","mspace",[],{depth:".25em"}),c=t.create("token","mo",{stretchy:!0,texClass:Y.TEXCLASS.REL},String.fromCodePoint(r));c=t.create("node","mstyle",[c],{scriptlevel:0});var u=t.create("node","munderover",[c]),h=t.create("node","mpadded",[a,l],o);if(At.default.setAttribute(h,"voffset","-.2em"),At.default.setAttribute(h,"height","-.2em"),At.default.setChild(u,u.over,h),s){var d=new Rt.default(s,t.stack.env,t.configuration).mml(),f=t.create("node","mspace",[],{height:".75em"});h=t.create("node","mpadded",[d,f],o),At.default.setAttribute(h,"voffset",".15em"),At.default.setAttribute(h,"depth","-.15em"),At.default.setChild(u,u.under,h)}At.default.setProperty(u,"subsupOK",!0),t.Push(u)},kf.AmsMethods.HandleShove=function(t,e,r){var n=t.stack.Top();if("multline"!==n.kind)throw new Ht.default("CommandOnlyAllowedInEnv","%1 only allowed in %2 environment",t.currentCS,"multline");if(n.Size())throw new Ht.default("CommandAtTheBeginingOfLine","%1 must come at the beginning of the line",t.currentCS);n.setProperty("shove",r)},kf.AmsMethods.CFrac=function(t,e){var r=Nt.default.trimSpaces(t.GetBrackets(e,"")),n=t.GetArgument(e),i=t.GetArgument(e),o={l:Xr.TexConstant.Align.LEFT,r:Xr.TexConstant.Align.RIGHT,"":""},s=new Rt.default("\\strut\\textstyle{"+n+"}",t.stack.env,t.configuration).mml(),a=new Rt.default("\\strut\\textstyle{"+i+"}",t.stack.env,t.configuration).mml(),l=t.create("node","mfrac",[s,a]);if(null==(r=o[r]))throw new Ht.default("IllegalAlign","Illegal alignment specified in %1",t.currentCS);r&&At.default.setProperties(l,{numalign:r,denomalign:r}),t.Push(l)},kf.AmsMethods.Genfrac=function(t,e,r,n,i,o){null==r&&(r=t.GetDelimiterArg(e)),null==n&&(n=t.GetDelimiterArg(e)),null==i&&(i=t.GetArgument(e)),null==o&&(o=Nt.default.trimSpaces(t.GetArgument(e)));var s=t.ParseArg(e),a=t.ParseArg(e),l=t.create("node","mfrac",[s,a]);if(""!==i&&At.default.setAttribute(l,"linethickness",i),(r||n)&&(At.default.setProperty(l,"withDelims",!0),l=Nt.default.fixedFence(t.configuration,r,l,n)),""!==o){var c=parseInt(o,10),u=["D","T","S","SS"][c];if(null==u)throw new Ht.default("BadMathStyleFor","Bad math style for %1",t.currentCS);l=t.create("node","mstyle",[l]),"D"===u?At.default.setProperties(l,{displaystyle:!0,scriptlevel:0}):At.default.setProperties(l,{displaystyle:!1,scriptlevel:c-1})}t.Push(l)},kf.AmsMethods.HandleTag=function(t,e){if(!t.tags.currentTag.taggable&&t.tags.env)throw new Ht.default("CommandNotAllowedInEnv","%1 not allowed in %2 environment",t.currentCS,t.tags.env);if(t.tags.currentTag.tag)throw new Ht.default("MultipleCommand","Multiple %1",t.currentCS);var r=t.GetStar(),n=Nt.default.trimSpaces(t.GetArgument(e));t.tags.tag(n,r)},kf.AmsMethods.HandleNoTag=qr.default.HandleNoTag,kf.AmsMethods.HandleRef=qr.default.HandleRef,kf.AmsMethods.Macro=qr.default.Macro,kf.AmsMethods.Accent=qr.default.Accent,kf.AmsMethods.Tilde=qr.default.Tilde,kf.AmsMethods.Array=qr.default.Array,kf.AmsMethods.Spacer=qr.default.Spacer,kf.AmsMethods.NamedOp=qr.default.NamedOp,kf.AmsMethods.EqnArray=qr.default.EqnArray;var Rf={};Object.defineProperty(Rf,"__esModule",{value:!0});var Df=function(t){for(var e=[],r=0,n=t.length;r<n;r++)e[r]=Nt.default.Em(t[r]);return e.join(" ")};new er.CharacterMap("AMSmath-mathchar0mo",en.default.mathchar0mo,{iiiint:["⨌",{texClass:Y.TEXCLASS.OP}]}),new er.CommandMap("AMSmath-macros",{mathring:["Accent","02DA"],nobreakspace:"Tilde",negmedspace:["Spacer",Kr.MATHSPACE.negativemediummathspace],negthickspace:["Spacer",Kr.MATHSPACE.negativethickmathspace],idotsint:["MultiIntegral","\\int\\cdots\\int"],dddot:["Accent","20DB"],ddddot:["Accent","20DC"],sideset:["Macro","\\mathop{\\mathop{\\rlap{\\phantom{#3}}}\\nolimits#1\\!\\mathop{#3}\\nolimits#2}",3],boxed:["Macro","\\fbox{$\\displaystyle{#1}$}",1],tag:"HandleTag",notag:"HandleNoTag",eqref:["HandleRef",!0],substack:["Macro","\\begin{subarray}{c}#1\\end{subarray}",1],injlim:["NamedOp","inj&thinsp;lim"],projlim:["NamedOp","proj&thinsp;lim"],varliminf:["Macro","\\mathop{\\underline{\\mmlToken{mi}{lim}}}"],varlimsup:["Macro","\\mathop{\\overline{\\mmlToken{mi}{lim}}}"],varinjlim:["Macro","\\mathop{\\underrightarrow{\\mmlToken{mi}{lim}}}"],varprojlim:["Macro","\\mathop{\\underleftarrow{\\mmlToken{mi}{lim}}}"],DeclareMathOperator:"HandleDeclareOp",operatorname:"HandleOperatorName",SkipLimits:"SkipLimits",genfrac:"Genfrac",frac:["Genfrac","","","",""],tfrac:["Genfrac","","","","1"],dfrac:["Genfrac","","","","0"],binom:["Genfrac","(",")","0",""],tbinom:["Genfrac","(",")","0","1"],dbinom:["Genfrac","(",")","0","0"],cfrac:"CFrac",shoveleft:["HandleShove",Xr.TexConstant.Align.LEFT],shoveright:["HandleShove",Xr.TexConstant.Align.RIGHT],xrightarrow:["xArrow",8594,7,12],xleftarrow:["xArrow",8592,10,5]},kf.AmsMethods),new er.EnvironmentMap("AMSmath-environment",en.default.environment,{"eqnarray*":["EqnArray",null,!1,!0,"rcl","0 "+Kr.em(Kr.MATHSPACE.thickmathspace),".5em"],align:["EqnArray",null,!0,!0,"rlrlrlrlrlrl",Df([0,2,0,2,0,2,0,2,0,2,0])],"align*":["EqnArray",null,!1,!0,"rlrlrlrlrlrl",Df([0,2,0,2,0,2,0,2,0,2,0])],multline:["Multline",null,!0],"multline*":["Multline",null,!1],split:["EqnArray",null,!1,!1,"rl",Df([0])],gather:["EqnArray",null,!0,!0,"c"],"gather*":["EqnArray",null,!1,!0,"c"],alignat:["AlignAt",null,!0,!0],"alignat*":["AlignAt",null,!1,!0],alignedat:["AlignAt",null,!1,!1],aligned:["AmsEqnArray",null,null,null,"rlrlrlrlrlrl",Df([0,2,0,2,0,2,0,2,0,2,0]),".5em","D"],gathered:["AmsEqnArray",null,null,null,"c",null,".5em","D"],subarray:["Array",null,null,null,null,Df([0]),"0.1em","S",1],smallmatrix:["Array",null,null,null,"c",Df([1/3]),".2em","S",1],matrix:["Array",null,null,null,"c"],pmatrix:["Array",null,"(",")","c"],bmatrix:["Array",null,"[","]","c"],Bmatrix:["Array",null,"\\{","\\}","c"],vmatrix:["Array",null,"\\vert","\\vert","c"],Vmatrix:["Array",null,"\\Vert","\\Vert","c"],cases:["Array",null,"\\{",".","ll",null,".2em","T"]},kf.AmsMethods),new er.DelimiterMap("AMSmath-delimiter",en.default.delimiter,{"\\lvert":["|",{texClass:Y.TEXCLASS.OPEN}],"\\rvert":["|",{texClass:Y.TEXCLASS.CLOSE}],"\\lVert":["‖",{texClass:Y.TEXCLASS.OPEN}],"\\rVert":["‖",{texClass:Y.TEXCLASS.CLOSE}]}),new er.CharacterMap("AMSsymbols-mathchar0mi",en.default.mathchar0mi,{digamma:"ϝ",varkappa:"ϰ",varGamma:["Γ",{mathvariant:Xr.TexConstant.Variant.ITALIC}],varDelta:["Δ",{mathvariant:Xr.TexConstant.Variant.ITALIC}],varTheta:["Θ",{mathvariant:Xr.TexConstant.Variant.ITALIC}],varLambda:["Λ",{mathvariant:Xr.TexConstant.Variant.ITALIC}],varXi:["Ξ",{mathvariant:Xr.TexConstant.Variant.ITALIC}],varPi:["Π",{mathvariant:Xr.TexConstant.Variant.ITALIC}],varSigma:["Σ",{mathvariant:Xr.TexConstant.Variant.ITALIC}],varUpsilon:["Υ",{mathvariant:Xr.TexConstant.Variant.ITALIC}],varPhi:["Φ",{mathvariant:Xr.TexConstant.Variant.ITALIC}],varPsi:["Ψ",{mathvariant:Xr.TexConstant.Variant.ITALIC}],varOmega:["Ω",{mathvariant:Xr.TexConstant.Variant.ITALIC}],beth:"ℶ",gimel:"ℷ",daleth:"ℸ",backprime:["‵",{variantForm:!0}],hslash:"ℏ",varnothing:["∅",{variantForm:!0}],blacktriangle:"▴",triangledown:["▽",{variantForm:!0}],blacktriangledown:"▾",square:"◻",Box:"◻",blacksquare:"◼",lozenge:"◊",Diamond:"◊",blacklozenge:"⧫",circledS:["Ⓢ",{mathvariant:Xr.TexConstant.Variant.NORMAL}],bigstar:"★",sphericalangle:"∢",measuredangle:"∡",nexists:"∄",complement:"∁",mho:"℧",eth:["ð",{mathvariant:Xr.TexConstant.Variant.NORMAL}],Finv:"Ⅎ",diagup:"╱",Game:"⅁",diagdown:"╲",Bbbk:["k",{mathvariant:Xr.TexConstant.Variant.DOUBLESTRUCK}],yen:"¥",circledR:"®",checkmark:"✓",maltese:"✠"}),new er.CharacterMap("AMSsymbols-mathchar0mo",en.default.mathchar0mo,{dotplus:"∔",ltimes:"⋉",smallsetminus:["∖",{variantForm:!0}],rtimes:"⋊",Cap:"⋒",doublecap:"⋒",leftthreetimes:"⋋",Cup:"⋓",doublecup:"⋓",rightthreetimes:"⋌",barwedge:"⊼",curlywedge:"⋏",veebar:"⊻",curlyvee:"⋎",doublebarwedge:"⩞",boxminus:"⊟",circleddash:"⊝",boxtimes:"⊠",circledast:"⊛",boxdot:"⊡",circledcirc:"⊚",boxplus:"⊞",centerdot:["⋅",{variantForm:!0}],divideontimes:"⋇",intercal:"⊺",leqq:"≦",geqq:"≧",leqslant:"⩽",geqslant:"⩾",eqslantless:"⪕",eqslantgtr:"⪖",lesssim:"≲",gtrsim:"≳",lessapprox:"⪅",gtrapprox:"⪆",approxeq:"≊",lessdot:"⋖",gtrdot:"⋗",lll:"⋘",llless:"⋘",ggg:"⋙",gggtr:"⋙",lessgtr:"≶",gtrless:"≷",lesseqgtr:"⋚",gtreqless:"⋛",lesseqqgtr:"⪋",gtreqqless:"⪌",doteqdot:"≑",Doteq:"≑",eqcirc:"≖",risingdotseq:"≓",circeq:"≗",fallingdotseq:"≒",triangleq:"≜",backsim:"∽",thicksim:["∼",{variantForm:!0}],backsimeq:"⋍",thickapprox:["≈",{variantForm:!0}],subseteqq:"⫅",supseteqq:"⫆",Subset:"⋐",Supset:"⋑",sqsubset:"⊏",sqsupset:"⊐",preccurlyeq:"≼",succcurlyeq:"≽",curlyeqprec:"⋞",curlyeqsucc:"⋟",precsim:"≾",succsim:"≿",precapprox:"⪷",succapprox:"⪸",vartriangleleft:"⊲",lhd:"⊲",vartriangleright:"⊳",rhd:"⊳",trianglelefteq:"⊴",unlhd:"⊴",trianglerighteq:"⊵",unrhd:"⊵",vDash:["⊨",{variantForm:!0}],Vdash:"⊩",Vvdash:"⊪",smallsmile:["⌣",{variantForm:!0}],shortmid:["∣",{variantForm:!0}],smallfrown:["⌢",{variantForm:!0}],shortparallel:["∥",{variantForm:!0}],bumpeq:"≏",between:"≬",Bumpeq:"≎",pitchfork:"⋔",varpropto:["∝",{variantForm:!0}],backepsilon:"∍",blacktriangleleft:"◂",blacktriangleright:"▸",therefore:"∴",because:"∵",eqsim:"≂",vartriangle:["△",{variantForm:!0}],Join:"⋈",nless:"≮",ngtr:"≯",nleq:"≰",ngeq:"≱",nleqslant:["⪇",{variantForm:!0}],ngeqslant:["⪈",{variantForm:!0}],nleqq:["≰",{variantForm:!0}],ngeqq:["≱",{variantForm:!0}],lneq:"⪇",gneq:"⪈",lneqq:"≨",gneqq:"≩",lvertneqq:["≨",{variantForm:!0}],gvertneqq:["≩",{variantForm:!0}],lnsim:"⋦",gnsim:"⋧",lnapprox:"⪉",gnapprox:"⪊",nprec:"⊀",nsucc:"⊁",npreceq:["⋠",{variantForm:!0}],nsucceq:["⋡",{variantForm:!0}],precneqq:"⪵",succneqq:"⪶",precnsim:"⋨",succnsim:"⋩",precnapprox:"⪹",succnapprox:"⪺",nsim:"≁",ncong:"≇",nshortmid:["∤",{variantForm:!0}],nshortparallel:["∦",{variantForm:!0}],nmid:"∤",nparallel:"∦",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",ntriangleleft:"⋪",ntriangleright:"⋫",ntrianglelefteq:"⋬",ntrianglerighteq:"⋭",nsubseteq:"⊈",nsupseteq:"⊉",nsubseteqq:["⊈",{variantForm:!0}],nsupseteqq:["⊉",{variantForm:!0}],subsetneq:"⊊",supsetneq:"⊋",varsubsetneq:["⊊",{variantForm:!0}],varsupsetneq:["⊋",{variantForm:!0}],subsetneqq:"⫋",supsetneqq:"⫌",varsubsetneqq:["⫋",{variantForm:!0}],varsupsetneqq:["⫌",{variantForm:!0}],leftleftarrows:"⇇",rightrightarrows:"⇉",leftrightarrows:"⇆",rightleftarrows:"⇄",Lleftarrow:"⇚",Rrightarrow:"⇛",twoheadleftarrow:"↞",twoheadrightarrow:"↠",leftarrowtail:"↢",rightarrowtail:"↣",looparrowleft:"↫",looparrowright:"↬",leftrightharpoons:"⇋",rightleftharpoons:["⇌",{variantForm:!0}],curvearrowleft:"↶",curvearrowright:"↷",circlearrowleft:"↺",circlearrowright:"↻",Lsh:"↰",Rsh:"↱",upuparrows:"⇈",downdownarrows:"⇊",upharpoonleft:"↿",upharpoonright:"↾",downharpoonleft:"⇃",restriction:"↾",multimap:"⊸",downharpoonright:"⇂",leftrightsquigarrow:"↭",rightsquigarrow:"⇝",leadsto:"⇝",dashrightarrow:"⇢",dashleftarrow:"⇠",nleftarrow:"↚",nrightarrow:"↛",nLeftarrow:"⇍",nRightarrow:"⇏",nleftrightarrow:"↮",nLeftrightarrow:"⇎"}),new er.DelimiterMap("AMSsymbols-delimiter",en.default.delimiter,{"\\ulcorner":"⌜","\\urcorner":"⌝","\\llcorner":"⌞","\\lrcorner":"⌟"}),new er.CommandMap("AMSsymbols-macros",{implies:["Macro","\\;\\Longrightarrow\\;"],impliedby:["Macro","\\;\\Longleftarrow\\;"]},kf.AmsMethods);var Pf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tf(e,t),e}(Oe.AbstractTags);_f.AmsTags=Pf;_f.AmsConfiguration=Ne.Configuration.create("ams",{handler:{delimiter:["AMSsymbols-delimiter","AMSmath-delimiter"],macro:["AMSsymbols-mathchar0mi","AMSsymbols-mathchar0mo","AMSsymbols-delimiter","AMSsymbols-macros","AMSmath-mathchar0mo","AMSmath-macros","AMSmath-delimiter"],environment:["AMSmath-environment"]},items:(Of={},Of[Ff.MultlineItem.prototype.kind]=Ff.MultlineItem,Of),tags:{ams:Pf},init:function(t){new er.CommandMap(kf.NEW_OPS,{},{}),t.append(Ne.Configuration.local({handler:{macro:[kf.NEW_OPS]},priority:-1}))}});var If={};Object.defineProperty(If,"__esModule",{value:!0}),If.AmsCdConfiguration=void 0;var Nf={};Object.defineProperty(Nf,"__esModule",{value:!0});var $f={};Object.defineProperty($f,"__esModule",{value:!0});var jf={CD:function(t,e){t.Push(e);var r=t.itemFactory.create("array"),n=t.configuration.options.amscd;return r.setProperties({minw:t.stack.env.CD_minw||n.harrowsize,minh:t.stack.env.CD_minh||n.varrowsize}),r.arraydef={columnalign:"center",columnspacing:n.colspace,rowspacing:n.rowspace,displaystyle:!0},r},arrow:function(t,e){var r=t.string.charAt(t.i);if(!r.match(/[><VA.|=]/))return Ze.Other(t,e);t.i++;var n=t.stack.Top();n.isKind("array")&&!n.Size()||(jf.cell(t,e),n=t.stack.Top());for(var i,o=n,s=o.table.length%2==1,a=(o.row.length+(s?0:1))%2;a;)jf.cell(t,e),a--;var l={minsize:o.getProperty("minw"),stretchy:!0},c={minsize:o.getProperty("minh"),stretchy:!0,symmetric:!0,lspace:0,rspace:0};if("."===r);else if("|"===r)i=t.create("token","mo",c,"∥");else if("="===r)i=t.create("token","mo",l,"=");else{var u={">":"→","<":"←",V:"↓",A:"↑"}[r],h=t.GetUpTo(e+r,r),d=t.GetUpTo(e+r,r);if(">"===r||"<"===r){if(i=t.create("token","mo",l,u),h||(h="\\kern "+o.getProperty("minw")),h||d){var f={width:".67em",lspace:".33em"};if(i=t.create("node","munderover",[i]),h){var p=new Rt.default(h,t.stack.env,t.configuration).mml(),m=t.create("node","mpadded",[p],f);At.default.setAttribute(m,"voffset",".1em"),At.default.setChild(i,i.over,m)}if(d){var g=new Rt.default(d,t.stack.env,t.configuration).mml();At.default.setChild(i,i.under,t.create("node","mpadded",[g],f))}t.configuration.options.amscd.hideHorizontalLabels&&(i=t.create("node","mpadded",i,{depth:0,height:".67em"}))}}else{var y=t.create("token","mo",c,u);i=y,(h||d)&&(i=t.create("node","mrow"),h&&At.default.appendChildren(i,[new Rt.default("\\scriptstyle\\llap{"+h+"}",t.stack.env,t.configuration).mml()]),y.texClass=Y.TEXCLASS.ORD,At.default.appendChildren(i,[y]),d&&At.default.appendChildren(i,[new Rt.default("\\scriptstyle\\rlap{"+d+"}",t.stack.env,t.configuration).mml()]))}}i&&t.Push(i),jf.cell(t,e)},cell:function(t,e){var r=t.stack.Top();(r.table||[]).length%2==0&&0===(r.row||[]).length&&t.Push(t.create("node","mpadded",[],{height:"8.5pt",depth:"2pt"})),t.Push(t.itemFactory.create("cell").setProperties({isEntry:!0,name:e}))},minCDarrowwidth:function(t,e){t.stack.env.CD_minw=t.GetDimen(e)},minCDarrowheight:function(t,e){t.stack.env.CD_minh=t.GetDimen(e)}};$f.default=jf,new er.EnvironmentMap("amscd_environment",en.default.environment,{CD:"CD"},$f.default),new er.CommandMap("amscd_macros",{minCDarrowwidth:"minCDarrowwidth",minCDarrowheight:"minCDarrowheight"},$f.default),new er.MacroMap("amscd_special",{"@":"arrow"},$f.default),If.AmsCdConfiguration=Ne.Configuration.create("amscd",{handler:{character:["amscd_special"],macro:["amscd_macros"],environment:["amscd_environment"]},options:{amscd:{colspace:"5pt",rowspace:"5pt",harrowsize:"2.75em",varrowsize:"1.75em",hideHorizontalLabels:!1}}});var Hf={};Object.defineProperty(Hf,"__esModule",{value:!0}),Hf.BboxConfiguration=Hf.BboxMethods=void 0,Hf.BboxMethods={},Hf.BboxMethods.BBox=function(t,e){for(var r,n,i,o=t.GetBrackets(e,""),s=t.ParseArg(e),a=o.split(/,/),l=0,c=a.length;l<c;l++){var u=a[l].trim(),h=u.match(/^(\.\d+|\d+(\.\d*)?)(pt|em|ex|mu|px|in|cm|mm)$/);if(h){if(r)throw new Ht.default("MultipleBBoxProperty","%1 specified twice in %2","Padding",e);var d=zf(h[1]+h[3]);d&&(r={height:"+"+d,depth:"+"+d,lspace:d,width:"+"+2*parseInt(h[1],10)+h[3]})}else if(u.match(/^([a-z0-9]+|\#[0-9a-f]{6}|\#[0-9a-f]{3})$/i)){if(n)throw new Ht.default("MultipleBBoxProperty","%1 specified twice in %2","Background",e);n=u}else if(u.match(/^[-a-z]+:/i)){if(i)throw new Ht.default("MultipleBBoxProperty","%1 specified twice in %2","Style",e);i=Wf(u)}else if(""!==u)throw new Ht.default("InvalidBBoxProperty",'"%1" doesn\'t look like a color, a padding dimension, or a style',u)}r&&(s=t.create("node","mpadded",[s],r)),(n||i)&&(r={},n&&Object.assign(r,{mathbackground:n}),i&&Object.assign(r,{style:i}),s=t.create("node","mstyle",[s],r)),t.Push(s)};var Wf=function(t){return t},zf=function(t){return t};new er.CommandMap("bbox",{bbox:"BBox"},Hf.BboxMethods),Hf.BboxConfiguration=Ne.Configuration.create("bbox",{handler:{macro:["bbox"]}});var Vf={},Xf=Vf&&Vf.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Vf,"__esModule",{value:!0}),Vf.BoldsymbolConfiguration=Vf.rewriteBoldTokens=Vf.createBoldToken=Vf.BoldsymbolMethods=void 0;var qf={};function Gf(t,e,r,n){var i=we.NodeFactory.createToken(t,e,r,n);return"mtext"!==e&&t.configuration.parser.stack.env.boldsymbol&&(At.default.setProperty(i,"fixBold",!0),t.configuration.addNode("fixBold",i)),i}function Uf(t){var e,r;try{for(var n=Xf(t.data.getList("fixBold")),i=n.next();!i.done;i=n.next()){var o=i.value;if(At.default.getProperty(o,"fixBold")){var s=At.default.getAttribute(o,"mathvariant");null==s?At.default.setAttribute(o,"mathvariant",Xr.TexConstant.Variant.BOLD):At.default.setAttribute(o,"mathvariant",qf[s]||s),At.default.removeProperties(o,"fixBold")}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}}qf[Xr.TexConstant.Variant.NORMAL]=Xr.TexConstant.Variant.BOLD,qf[Xr.TexConstant.Variant.ITALIC]=Xr.TexConstant.Variant.BOLDITALIC,qf[Xr.TexConstant.Variant.FRAKTUR]=Xr.TexConstant.Variant.BOLDFRAKTUR,qf[Xr.TexConstant.Variant.SCRIPT]=Xr.TexConstant.Variant.BOLDSCRIPT,qf[Xr.TexConstant.Variant.SANSSERIF]=Xr.TexConstant.Variant.BOLDSANSSERIF,qf["-tex-calligraphic"]="-tex-bold-calligraphic",qf["-tex-oldstyle"]="-tex-bold-oldstyle",qf["-tex-mathit"]=Xr.TexConstant.Variant.BOLDITALIC,Vf.BoldsymbolMethods={},Vf.BoldsymbolMethods.Boldsymbol=function(t,e){var r=t.stack.env.boldsymbol;t.stack.env.boldsymbol=!0;var n=t.ParseArg(e);t.stack.env.boldsymbol=r,t.Push(n)},new er.CommandMap("boldsymbol",{boldsymbol:"Boldsymbol"},Vf.BoldsymbolMethods),Vf.createBoldToken=Gf,Vf.rewriteBoldTokens=Uf,Vf.BoldsymbolConfiguration=Ne.Configuration.create("boldsymbol",{handler:{macro:["boldsymbol"]},nodes:{token:Gf},postprocessors:[Uf]});var Kf,Jf={};Object.defineProperty(Jf,"__esModule",{value:!0}),Jf.BraketConfiguration=void 0;var Qf={},Yf=Qf&&Qf.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Qf,"__esModule",{value:!0}),Qf.BraketItem=void 0;var Zf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Yf(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"braket"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isOpen",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.checkItem=function(e){return e.isKind("close")?[[this.factory.create("mml",this.toMml())],!0]:e.isKind("mml")?(this.Push(e.toMml()),this.getProperty("single")?[[this.toMml()],!0]:le.BaseItem.fail):t.prototype.checkItem.call(this,e)},e.prototype.toMml=function(){var e=t.prototype.toMml.call(this),r=this.getProperty("open"),n=this.getProperty("close");if(this.getProperty("stretchy"))return Nt.default.fenced(this.factory.configuration,r,e,n);var i={fence:!0,stretchy:!1,symmetric:!0,texClass:Y.TEXCLASS.OPEN},o=this.create("token","mo",i,r);i.texClass=Y.TEXCLASS.CLOSE;var s=this.create("token","mo",i,n);return this.create("node","mrow",[o,e,s],{open:r,close:n,texClass:Y.TEXCLASS.INNER})},e}(le.BaseItem);Qf.BraketItem=Zf;var tp={};Object.defineProperty(tp,"__esModule",{value:!0});var ep={};Object.defineProperty(ep,"__esModule",{value:!0});var rp={};rp.Macro=qr.default.Macro,rp.Braket=function(t,e,r,n,i,o){var s=t.GetNext();if(""===s)throw new Ht.default("MissingArgFor","Missing argument for %1",t.currentCS);var a=!0;"{"===s&&(t.i++,a=!1),t.Push(t.itemFactory.create("braket").setProperties({barmax:o,barcount:0,open:r,close:n,stretchy:i,single:a}))},rp.Bar=function(t,e){var r="|"===e?"|":"∥",n=t.stack.Top();if("braket"!==n.kind||n.getProperty("barcount")>=n.getProperty("barmax")){var i=t.create("token","mo",{texClass:Y.TEXCLASS.ORD,stretchy:!1},r);t.Push(i)}else{if("|"===r&&"|"===t.GetNext()&&(t.i++,r="∥"),n.getProperty("stretchy")){var o=t.create("node","TeXAtom",[],{texClass:Y.TEXCLASS.CLOSE});t.Push(o),n.setProperty("barcount",n.getProperty("barcount")+1),o=t.create("token","mo",{stretchy:!0,braketbar:!0},r),t.Push(o),o=t.create("node","TeXAtom",[],{texClass:Y.TEXCLASS.OPEN}),t.Push(o)}else{var s=t.create("token","mo",{stretchy:!1,braketbar:!0},r);t.Push(s)}}},ep.default=rp,new er.CommandMap("Braket-macros",{bra:["Macro","{\\langle {#1} \\vert}",1],ket:["Macro","{\\vert {#1} \\rangle}",1],braket:["Braket","⟨","⟩",!1,1/0],set:["Braket","{","}",!1,1],Bra:["Macro","{\\left\\langle {#1} \\right\\vert}",1],Ket:["Macro","{\\left\\vert {#1} \\right\\rangle}",1],Braket:["Braket","⟨","⟩",!0,1/0],Set:["Braket","{","}",!0,1],ketbra:["Macro","{\\vert {#1} \\rangle\\langle {#2} \\vert}",2],Ketbra:["Macro","{\\left\\vert {#1} \\right\\rangle\\left\\langle {#2} \\right\\vert}",2],"|":"Bar"},ep.default),new er.MacroMap("Braket-characters",{"|":"Bar"},ep.default),Jf.BraketConfiguration=Ne.Configuration.create("braket",{handler:{character:["Braket-characters"],macro:["Braket-macros"]},items:(Kf={},Kf[Qf.BraketItem.prototype.kind]=Qf.BraketItem,Kf)});var np,ip={};Object.defineProperty(ip,"__esModule",{value:!0}),ip.BussproofsConfiguration=void 0;var op={},sp=op&&op.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(op,"__esModule",{value:!0}),op.ProofTreeItem=void 0;var ap,lp={},cp=lp&&lp.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},up=lp&&lp.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(lp,"__esModule",{value:!0}),lp.clearDocument=lp.saveDocument=lp.makeBsprAttributes=lp.removeProperty=lp.getProperty=lp.setProperty=lp.balanceRules=void 0;var hp=null,dp=null,fp=function(t){return dp.root=t,hp.outputJax.getBBox(dp,hp).w},pp=function(t){for(var e=0;t&&!At.default.isType(t,"mtable");){if(At.default.isType(t,"text"))return null;At.default.isType(t,"mrow")?(t=t.childNodes[0],e=0):(t=t.parent.childNodes[e],e++)}return t},mp=function(t,e){return t.childNodes["up"===e?1:0].childNodes[0].childNodes[0].childNodes[0].childNodes[0]},gp=function(t,e){return t.childNodes[e].childNodes[0].childNodes[0]},yp=function(t){return gp(t,0)},vp=function(t){return gp(t,t.childNodes.length-1)},bp=function(t,e){return t.childNodes["up"===e?0:1].childNodes[0].childNodes[0].childNodes[0]},Ap=function(t){for(;t&&!At.default.isType(t,"mtd");)t=t.parent;return t},Cp=function(t){return t.parent.childNodes[t.parent.childNodes.indexOf(t)+1]},wp=function(t){for(;t&&null==lp.getProperty(t,"inference");)t=t.parent;return t},xp=function(t,e,r){void 0===r&&(r=!1);var n=0;if(t===e)return n;if(t!==e.parent){var i=t.childNodes,o=r?i.length-1:0;At.default.isType(i[o],"mspace")&&(n+=fp(i[o])),t=e.parent}if(t===e)return n;var s=t.childNodes,a=r?s.length-1:0;return s[a]!==e&&(n+=fp(s[a])),n},Ep=function(t,e){void 0===e&&(e=!1);var r=pp(t),n=bp(r,lp.getProperty(r,"inferenceRule"));return xp(t,r,e)+(fp(r)-fp(n))/2},Sp=function(t,e,r,n){if(void 0===n&&(n=!1),lp.getProperty(e,"inferenceRule")||lp.getProperty(e,"labelledRule")){var i=t.nodeFactory.create("node","mrow");e.parent.replaceChild(i,e),i.setChildren([e]),Mp(e,i),e=i}var o=n?e.childNodes.length-1:0,s=e.childNodes[o];At.default.isType(s,"mspace")?At.default.setAttribute(s,"width",Nt.default.Em(Nt.default.dimen2em(At.default.getAttribute(s,"width"))+r)):(s=t.nodeFactory.create("node","mspace",[],{width:Nt.default.Em(r)}),n?e.appendChild(s):(s.parent=e,e.childNodes.unshift(s)))},Mp=function(t,e){["inference","proof","maxAdjust","labelledRule"].forEach((function(r){var n=lp.getProperty(t,r);null!=n&&(lp.setProperty(e,r,n),lp.removeProperty(t,r))}))},Op=function(t,e,r,n,i){var o=t.nodeFactory.create("node","mspace",[],{width:Nt.default.Em(i)});if("left"===n){var s=e.childNodes[r].childNodes[0];o.parent=s,s.childNodes.unshift(o)}else e.childNodes[r].appendChild(o);lp.setProperty(e.parent,"sequentAdjust_"+n,i)},_p=function(t,e){for(var r=e.pop();e.length;){var n=e.pop(),i=cp(Tp(r,n),2),o=i[0],s=i[1];lp.getProperty(r.parent,"axiom")&&(Op(t,o<0?r:n,0,"left",Math.abs(o)),Op(t,s<0?r:n,2,"right",Math.abs(s))),r=n}},Tp=function(t,e){var r=fp(t.childNodes[2]),n=fp(e.childNodes[2]);return[fp(t.childNodes[0])-fp(e.childNodes[0]),r-n]};lp.balanceRules=function(t){var e,r;dp=new t.document.options.MathItem("",null,t.math.display);var n=t.data;!function(t){var e=t.nodeLists.sequent;if(e)for(var r=e.length-1,n=void 0;n=e[r];r--)if(lp.getProperty(n,"sequentProcessed"))lp.removeProperty(n,"sequentProcessed");else{var i=[],o=wp(n);if(1===lp.getProperty(o,"inference")){for(i.push(n);1===lp.getProperty(o,"inference");){o=pp(o);var s=yp(mp(o,lp.getProperty(o,"inferenceRule"))),a=lp.getProperty(s,"inferenceRule")?bp(s,lp.getProperty(s,"inferenceRule")):s;lp.getProperty(a,"sequent")&&(n=a.childNodes[0],i.push(n),lp.setProperty(n,"sequentProcessed",!0)),o=s}_p(t,i)}}}(n);var i=n.nodeLists.inference||[];try{for(var o=up(i),s=o.next();!s.done;s=o.next()){var a=s.value,l=lp.getProperty(a,"proof"),c=pp(a),u=mp(c,lp.getProperty(c,"inferenceRule")),h=yp(u);if(lp.getProperty(h,"inference")){var d=Ep(h);if(d){Sp(n,h,-d);var f=xp(a,c,!1);Sp(n,a,d-f)}}var p=vp(u);if(null!=lp.getProperty(p,"inference")){var m=Ep(p,!0);Sp(n,p,-m,!0);var g=xp(a,c,!0),y=lp.getProperty(a,"maxAdjust");null!=y&&(m=Math.max(m,y));var v=void 0;if(!l&&(v=Ap(a))){var b=Cp(v);if(b){var A=n.nodeFactory.create("node","mspace",[],{width:m-g+"em"});b.appendChild(A),a.removeProperty("maxAdjust")}else{var C=wp(v);C&&(m=lp.getProperty(C,"maxAdjust")?Math.max(lp.getProperty(C,"maxAdjust"),m):m,lp.setProperty(C,"maxAdjust",m))}}else Sp(n,lp.getProperty(a,"proof")?a:a.parent,m-g,!0)}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}};var Fp="bspr_",Bp=((ap={}).bspr_maxAdjust=!0,ap);lp.setProperty=function(t,e,r){At.default.setProperty(t,Fp+e,r)};lp.getProperty=function(t,e){return At.default.getProperty(t,Fp+e)};lp.removeProperty=function(t,e){t.removeProperty(Fp+e)};lp.makeBsprAttributes=function(t){t.data.root.walkTree((function(t,e){var r=[];t.getPropertyNames().forEach((function(e){!Bp[e]&&e.match(RegExp("^bspr_"))&&r.push(e+":"+t.getProperty(e))})),r.length&&At.default.setAttribute(t,"semantics",r.join(";"))}))};lp.saveDocument=function(t){if(!("getBBox"in(hp=t.document).outputJax))throw Error("The bussproofs extension requires an output jax with a getBBox() method")};lp.clearDocument=function(t){hp=null};var Lp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.leftLabel=null,e.rigthLabel=null,e.innerStack=new Kt.default(e.factory,{},!0),e}return sp(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"proofTree"},enumerable:!1,configurable:!0}),e.prototype.checkItem=function(t){if(t.isKind("end")&&"prooftree"===t.getName()){var e=this.toMml();return lp.setProperty(e,"proof",!0),[[this.factory.create("mml",e),t],!0]}if(t.isKind("stop"))throw new Ht.default("EnvMissingEnd","Missing \\end{%1}",this.getName());return this.innerStack.Push(t),le.BaseItem.fail},e.prototype.toMml=function(){var e=t.prototype.toMml.call(this),r=this.innerStack.Top();if(r.isKind("start")&&!r.Size())return e;this.innerStack.Push(this.factory.create("stop"));var n=this.innerStack.Top().toMml();return this.create("node","mrow",[n,e],{})},e}(le.BaseItem);op.ProofTreeItem=Lp;var kp={};Object.defineProperty(kp,"__esModule",{value:!0});var Rp={},Dp=Rp&&Rp.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},Pp=Rp&&Rp.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(Rp,"__esModule",{value:!0});var Ip={Prooftree:function(t,e){return t.Push(e),t.itemFactory.create("proofTree").setProperties({name:e.getName(),line:"solid",currentLine:"solid",rootAtTop:!1})},Axiom:function(t,e){var r=t.stack.Top();if("proofTree"!==r.kind)throw new Ht.default("IllegalProofCommand","Proof commands only allowed in prooftree environment.");var n=Np(t,t.GetArgument(e));lp.setProperty(n,"axiom",!0),r.Push(n)}},Np=function(t,e){var r=Nt.default.internalMath(t,Nt.default.trimSpaces(e),0);if(!r[0].childNodes[0].childNodes.length)return t.create("node","mrow",[]);var n=t.create("node","mspace",[],{width:".5ex"}),i=t.create("node","mspace",[],{width:".5ex"});return t.create("node","mrow",Pp(Pp([n],Dp(r)),[i]))};function $p(t,e,r,n,i,o,s){var a,l,c,u,h=t.create("node","mtr",[t.create("node","mtd",[e],{})],{}),d=t.create("node","mtr",[t.create("node","mtd",r,{})],{}),f=t.create("node","mtable",s?[d,h]:[h,d],{align:"top 2",rowlines:o,framespacing:"0 0"});if(lp.setProperty(f,"inferenceRule",s?"up":"down"),n&&(a=t.create("node","mpadded",[n],{height:"+.5em",width:"+.5em",voffset:"-.15em"}),lp.setProperty(a,"prooflabel","left")),i&&(l=t.create("node","mpadded",[i],{height:"+.5em",width:"+.5em",voffset:"-.15em"}),lp.setProperty(l,"prooflabel","right")),n&&i)c=[a,f,l],u="both";else if(n)c=[a,f],u="left";else{if(!i)return f;c=[f,l],u="right"}return f=t.create("node","mrow",c),lp.setProperty(f,"labelledRule",u),f}function jp(t,e){if("$"!==t.GetNext())throw new Ht.default("IllegalUseOfCommand","Use of %1 does not match it's definition.",e);t.i++;var r=t.GetUpTo(e,"$");if(-1===r.indexOf("\\fCenter"))throw new Ht.default("IllegalUseOfCommand","Missing \\fCenter in %1.",e);var n=Dp(r.split("\\fCenter"),2),i=n[0],o=n[1],s=new Rt.default(i,t.stack.env,t.configuration).mml(),a=new Rt.default(o,t.stack.env,t.configuration).mml(),l=new Rt.default("\\fCenter",t.stack.env,t.configuration).mml(),c=t.create("node","mtd",[s],{}),u=t.create("node","mtd",[l],{}),h=t.create("node","mtd",[a],{}),d=t.create("node","mtr",[c,u,h],{}),f=t.create("node","mtable",[d],{columnspacing:".5ex",columnalign:"center 2"});return lp.setProperty(f,"sequent",!0),t.configuration.addNode("sequent",d),f}Ip.Inference=function(t,e,r){var n=t.stack.Top();if("proofTree"!==n.kind)throw new Ht.default("IllegalProofCommand","Proof commands only allowed in prooftree environment.");if(n.Size()<r)throw new Ht.default("BadProofTree","Proof tree badly specified.");var i=n.getProperty("rootAtTop"),o=1!==r||n.Peek()[0].childNodes.length?r:0,s=[];do{s.length&&s.unshift(t.create("node","mtd",[],{})),s.unshift(t.create("node","mtd",[n.Pop()],{rowalign:i?"top":"bottom"})),r--}while(r>0);var a=t.create("node","mtr",s,{}),l=t.create("node","mtable",[a],{framespacing:"0 0"}),c=Np(t,t.GetArgument(e)),u=n.getProperty("currentLine");u!==n.getProperty("line")&&n.setProperty("currentLine",n.getProperty("line"));var h=$p(t,l,[c],n.getProperty("left"),n.getProperty("right"),u,i);n.setProperty("left",null),n.setProperty("right",null),lp.setProperty(h,"inference",o),t.configuration.addNode("inference",h),n.Push(h)},Ip.Label=function(t,e,r){var n=t.stack.Top();if("proofTree"!==n.kind)throw new Ht.default("IllegalProofCommand","Proof commands only allowed in prooftree environment.");var i=Nt.default.internalMath(t,t.GetArgument(e),0),o=i.length>1?t.create("node","mrow",i,{}):i[0];n.setProperty(r,o)},Ip.SetLine=function(t,e,r,n){var i=t.stack.Top();if("proofTree"!==i.kind)throw new Ht.default("IllegalProofCommand","Proof commands only allowed in prooftree environment.");i.setProperty("currentLine",r),n&&i.setProperty("line",r)},Ip.RootAtTop=function(t,e,r){var n=t.stack.Top();if("proofTree"!==n.kind)throw new Ht.default("IllegalProofCommand","Proof commands only allowed in prooftree environment.");n.setProperty("rootAtTop",r)},Ip.AxiomF=function(t,e){var r=t.stack.Top();if("proofTree"!==r.kind)throw new Ht.default("IllegalProofCommand","Proof commands only allowed in prooftree environment.");var n=jp(t,e);lp.setProperty(n,"axiom",!0),r.Push(n)},Ip.FCenter=function(t,e){},Ip.InferenceF=function(t,e,r){var n=t.stack.Top();if("proofTree"!==n.kind)throw new Ht.default("IllegalProofCommand","Proof commands only allowed in prooftree environment.");if(n.Size()<r)throw new Ht.default("BadProofTree","Proof tree badly specified.");var i=n.getProperty("rootAtTop"),o=1!==r||n.Peek()[0].childNodes.length?r:0,s=[];do{s.length&&s.unshift(t.create("node","mtd",[],{})),s.unshift(t.create("node","mtd",[n.Pop()],{rowalign:i?"top":"bottom"})),r--}while(r>0);var a=t.create("node","mtr",s,{}),l=t.create("node","mtable",[a],{framespacing:"0 0"}),c=jp(t,e),u=n.getProperty("currentLine");u!==n.getProperty("line")&&n.setProperty("currentLine",n.getProperty("line"));var h=$p(t,l,[c],n.getProperty("left"),n.getProperty("right"),u,i);n.setProperty("left",null),n.setProperty("right",null),lp.setProperty(h,"inference",o),t.configuration.addNode("inference",h),n.Push(h)},Rp.default=Ip,new er.CommandMap("Bussproofs-macros",{AxiomC:"Axiom",UnaryInfC:["Inference",1],BinaryInfC:["Inference",2],TrinaryInfC:["Inference",3],QuaternaryInfC:["Inference",4],QuinaryInfC:["Inference",5],RightLabel:["Label","right"],LeftLabel:["Label","left"],AXC:"Axiom",UIC:["Inference",1],BIC:["Inference",2],TIC:["Inference",3],RL:["Label","right"],LL:["Label","left"],noLine:["SetLine","none",!1],singleLine:["SetLine","solid",!1],solidLine:["SetLine","solid",!1],dashedLine:["SetLine","dashed",!1],alwaysNoLine:["SetLine","none",!0],alwaysSingleLine:["SetLine","solid",!0],alwaysSolidLine:["SetLine","solid",!0],alwaysDashedLine:["SetLine","dashed",!0],rootAtTop:["RootAtTop",!0],alwaysRootAtTop:["RootAtTop",!0],rootAtBottom:["RootAtTop",!1],alwaysRootAtBottom:["RootAtTop",!1],fCenter:"FCenter",Axiom:"AxiomF",UnaryInf:["InferenceF",1],BinaryInf:["InferenceF",2],TrinaryInf:["InferenceF",3],QuaternaryInf:["InferenceF",4],QuinaryInf:["InferenceF",5]},Rp.default),new er.EnvironmentMap("Bussproofs-environments",en.default.environment,{prooftree:["Prooftree",null,!1]},Rp.default),ip.BussproofsConfiguration=Ne.Configuration.create("bussproofs",{handler:{macro:["Bussproofs-macros"],environment:["Bussproofs-environments"]},items:(np={},np[op.ProofTreeItem.prototype.kind]=op.ProofTreeItem,np),preprocessors:[[lp.saveDocument,1]],postprocessors:[[lp.clearDocument,3],[lp.makeBsprAttributes,2],[lp.balanceRules,1]]});var Hp={};Object.defineProperty(Hp,"__esModule",{value:!0}),Hp.CancelConfiguration=Hp.CancelMethods=void 0;var Wp={};Object.defineProperty(Wp,"__esModule",{value:!0}),Wp.EncloseConfiguration=Wp.EncloseMethods=Wp.ENCLOSE_OPTIONS=void 0,Wp.ENCLOSE_OPTIONS={"data-arrowhead":1,color:1,mathcolor:1,background:1,mathbackground:1,"data-padding":1,"data-thickness":1},Wp.EncloseMethods={},Wp.EncloseMethods.Enclose=function(t,e){var r=t.GetArgument(e).replace(/,/g," "),n=t.GetBrackets(e,""),i=t.ParseArg(e),o=Nt.default.keyvalOptions(n,Wp.ENCLOSE_OPTIONS);o.notation=r,t.Push(t.create("node","menclose",[i],o))},new er.CommandMap("enclose",{enclose:"Enclose"},Wp.EncloseMethods),Wp.EncloseConfiguration=Ne.Configuration.create("enclose",{handler:{macro:["enclose"]}}),Hp.CancelMethods={},Hp.CancelMethods.Cancel=function(t,e,r){var n=t.GetBrackets(e,""),i=t.ParseArg(e),o=Nt.default.keyvalOptions(n,Wp.ENCLOSE_OPTIONS);o.notation=r,t.Push(t.create("node","menclose",[i],o))},Hp.CancelMethods.CancelTo=function(t,e){var r=t.GetBrackets(e,""),n=t.ParseArg(e),i=t.ParseArg(e),o=Nt.default.keyvalOptions(r,Wp.ENCLOSE_OPTIONS);o.notation=[Xr.TexConstant.Notation.UPDIAGONALSTRIKE,Xr.TexConstant.Notation.UPDIAGONALARROW,Xr.TexConstant.Notation.NORTHEASTARROW].join(" "),n=t.create("node","mpadded",[n],{depth:"-.1em",height:"+.1em",voffset:".1em"}),t.Push(t.create("node","msup",[t.create("node","menclose",[i],o),n]))},new er.CommandMap("cancel",{cancel:["Cancel",Xr.TexConstant.Notation.UPDIAGONALSTRIKE],bcancel:["Cancel",Xr.TexConstant.Notation.DOWNDIAGONALSTRIKE],xcancel:["Cancel",Xr.TexConstant.Notation.UPDIAGONALSTRIKE+" "+Xr.TexConstant.Notation.DOWNDIAGONALSTRIKE],cancelto:"CancelTo"},Hp.CancelMethods),Hp.CancelConfiguration=Ne.Configuration.create("cancel",{handler:{macro:["cancel"]}});var zp={};Object.defineProperty(zp,"__esModule",{value:!0}),zp.ColorConfiguration=void 0;var Vp={};function Xp(t){var e="+"+t,r=t.replace(/^.*?([a-z]*)$/,"$1");return{width:"+"+2*parseFloat(e)+r,height:e,depth:e,lspace:t}}Object.defineProperty(Vp,"__esModule",{value:!0}),Vp.ColorMethods=void 0,Vp.ColorMethods={},Vp.ColorMethods.Color=function(t,e){var r=t.GetBrackets(e,""),n=t.GetArgument(e),i=t.configuration.packageData.get("color").model.getColor(r,n),o=t.itemFactory.create("style").setProperties({styles:{mathcolor:i}});t.stack.env.color=i,t.Push(o)},Vp.ColorMethods.TextColor=function(t,e){var r=t.GetBrackets(e,""),n=t.GetArgument(e),i=t.configuration.packageData.get("color").model.getColor(r,n),o=t.stack.env.color;t.stack.env.color=i;var s=t.ParseArg(e);o?t.stack.env.color=o:delete t.stack.env.color;var a=t.create("node","mstyle",[s],{mathcolor:i});t.Push(a)},Vp.ColorMethods.DefineColor=function(t,e){var r=t.GetArgument(e),n=t.GetArgument(e),i=t.GetArgument(e);t.configuration.packageData.get("color").model.defineColor(n,r,i)},Vp.ColorMethods.ColorBox=function(t,e){var r=t.GetArgument(e),n=Nt.default.internalMath(t,t.GetArgument(e)),i=t.configuration.packageData.get("color").model,o=t.create("node","mpadded",n,{mathbackground:i.getColor("named",r)});At.default.setProperties(o,Xp(t.options.color.padding)),t.Push(o)},Vp.ColorMethods.FColorBox=function(t,e){var r=t.GetArgument(e),n=t.GetArgument(e),i=Nt.default.internalMath(t,t.GetArgument(e)),o=t.options.color,s=t.configuration.packageData.get("color").model,a=t.create("node","mpadded",i,{mathbackground:s.getColor("named",n),style:"border: "+o.borderWidth+" solid "+s.getColor("named",r)});At.default.setProperties(a,Xp(o.padding)),t.Push(a)};var qp={},Gp=qp&&qp.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(qp,"__esModule",{value:!0}),qp.ColorModel=void 0;var Up={};Object.defineProperty(Up,"__esModule",{value:!0}),Up.COLORS=void 0,Up.COLORS=new Map([["Apricot","#FBB982"],["Aquamarine","#00B5BE"],["Bittersweet","#C04F17"],["Black","#221E1F"],["Blue","#2D2F92"],["BlueGreen","#00B3B8"],["BlueViolet","#473992"],["BrickRed","#B6321C"],["Brown","#792500"],["BurntOrange","#F7921D"],["CadetBlue","#74729A"],["CarnationPink","#F282B4"],["Cerulean","#00A2E3"],["CornflowerBlue","#41B0E4"],["Cyan","#00AEEF"],["Dandelion","#FDBC42"],["DarkOrchid","#A4538A"],["Emerald","#00A99D"],["ForestGreen","#009B55"],["Fuchsia","#8C368C"],["Goldenrod","#FFDF42"],["Gray","#949698"],["Green","#00A64F"],["GreenYellow","#DFE674"],["JungleGreen","#00A99A"],["Lavender","#F49EC4"],["LimeGreen","#8DC73E"],["Magenta","#EC008C"],["Mahogany","#A9341F"],["Maroon","#AF3235"],["Melon","#F89E7B"],["MidnightBlue","#006795"],["Mulberry","#A93C93"],["NavyBlue","#006EB8"],["OliveGreen","#3C8031"],["Orange","#F58137"],["OrangeRed","#ED135A"],["Orchid","#AF72B0"],["Peach","#F7965A"],["Periwinkle","#7977B8"],["PineGreen","#008B72"],["Plum","#92268F"],["ProcessBlue","#00B0F0"],["Purple","#99479B"],["RawSienna","#974006"],["Red","#ED1B23"],["RedOrange","#F26035"],["RedViolet","#A1246B"],["Rhodamine","#EF559F"],["RoyalBlue","#0071BC"],["RoyalPurple","#613F99"],["RubineRed","#ED017D"],["Salmon","#F69289"],["SeaGreen","#3FBC9D"],["Sepia","#671800"],["SkyBlue","#46C5DD"],["SpringGreen","#C6DC67"],["Tan","#DA9D76"],["TealBlue","#00AEB3"],["Thistle","#D883B7"],["Turquoise","#00B4CE"],["Violet","#58429B"],["VioletRed","#EF58A0"],["White","#FFFFFF"],["WildStrawberry","#EE2967"],["Yellow","#FFF200"],["YellowGreen","#98CC70"],["YellowOrange","#FAA21A"]]);var Kp=new Map,Jp=function(){function t(){this.userColors=new Map}return t.prototype.normalizeColor=function(t,e){if(!t||"named"===t)return e;if(Kp.has(t))return Kp.get(t)(e);throw new Ht.default("UndefinedColorModel","Color model '%1' not defined",t)},t.prototype.getColor=function(t,e){return t&&"named"!==t?this.normalizeColor(t,e):this.getColorByName(e)},t.prototype.getColorByName=function(t){return this.userColors.has(t)?this.userColors.get(t):Up.COLORS.has(t)?Up.COLORS.get(t):t},t.prototype.defineColor=function(t,e,r){var n=this.normalizeColor(t,r);this.userColors.set(e,n)},t}();qp.ColorModel=Jp,Kp.set("rgb",(function(t){var e,r,n=t.trim().split(/\s*,\s*/),i="#";if(3!==n.length)throw new Ht.default("ModelArg1","Color values for the %1 model require 3 numbers","rgb");try{for(var o=Gp(n),s=o.next();!s.done;s=o.next()){var a=s.value;if(!a.match(/^(\d+(\.\d*)?|\.\d+)$/))throw new Ht.default("InvalidDecimalNumber","Invalid decimal number");var l=parseFloat(a);if(l<0||l>1)throw new Ht.default("ModelArg2","Color values for the %1 model must be between %2 and %3","rgb","0","1");var c=Math.floor(255*l).toString(16);c.length<2&&(c="0"+c),i+=c}}catch(t){e={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return i})),Kp.set("RGB",(function(t){var e,r,n=t.trim().split(/\s*,\s*/),i="#";if(3!==n.length)throw new Ht.default("ModelArg1","Color values for the %1 model require 3 numbers","RGB");try{for(var o=Gp(n),s=o.next();!s.done;s=o.next()){var a=s.value;if(!a.match(/^\d+$/))throw new Ht.default("InvalidNumber","Invalid number");var l=parseInt(a);if(l>255)throw new Ht.default("ModelArg2","Color values for the %1 model must be between %2 and %3","RGB","0","255");var c=l.toString(16);c.length<2&&(c="0"+c),i+=c}}catch(t){e={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return i})),Kp.set("gray",(function(t){if(!t.match(/^\s*(\d+(\.\d*)?|\.\d+)\s*$/))throw new Ht.default("InvalidDecimalNumber","Invalid decimal number");var e=parseFloat(t);if(e<0||e>1)throw new Ht.default("ModelArg2","Color values for the %1 model must be between %2 and %3","gray","0","1");var r=Math.floor(255*e).toString(16);return r.length<2&&(r="0"+r),"#"+r+r+r})),new er.CommandMap("color",{color:"Color",textcolor:"TextColor",definecolor:"DefineColor",colorbox:"ColorBox",fcolorbox:"FColorBox"},Vp.ColorMethods);zp.ColorConfiguration=Ne.Configuration.create("color",{handler:{macro:["color"]},options:{color:{padding:"5px",borderWidth:"2px"}},config:function(t,e){e.parseOptions.packageData.set("color",{model:new qp.ColorModel})}});var Qp={};Object.defineProperty(Qp,"__esModule",{value:!0}),Qp.ColorConfiguration=Qp.ColorV2Methods=void 0,Qp.ColorV2Methods={Color:function(t,e){var r=t.GetArgument(e),n=t.stack.env.color;t.stack.env.color=r;var i=t.ParseArg(e);n?t.stack.env.color=n:delete t.stack.env.color;var o=t.create("node","mstyle",[i],{mathcolor:r});t.Push(o)}},new er.CommandMap("colorv2",{color:"Color"},Qp.ColorV2Methods),Qp.ColorConfiguration=Ne.Configuration.create("colorv2",{handler:{macro:["colorv2"]}});var Yp,Zp={},tm=Zp&&Zp.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Zp,"__esModule",{value:!0}),Zp.ConfigMacrosConfiguration=void 0;var em={};Object.defineProperty(em,"__esModule",{value:!0});var rm,nm={};Object.defineProperty(nm,"__esModule",{value:!0}),function(t){function e(t,e){return t.string.substr(t.i,e.length)!==e||e.match(/\\[a-z]+$/i)&&t.string.charAt(t.i+e.length).match(/[a-z]/i)?0:(t.i+=e.length,1)}t.disassembleSymbol=function(t,e){var r=[t,e.char];if(e.attributes)for(var n in e.attributes)r.push(n),r.push(e.attributes[n]);return r},t.assembleSymbol=function(t){for(var e=t[0],r=t[1],n={},i=2;i<t.length;i+=2)n[t[i]]=t[i+1];return new sr.Symbol(e,r,n)},t.GetCSname=function(t,e){if("\\"!==t.GetNext())throw new Ht.default("MissingCS","%1 must be followed by a control sequence",e);return Nt.default.trimSpaces(t.GetArgument(e)).substr(1)},t.GetTemplate=function(t,e,r){for(var n=t.GetNext(),i=[],o=0,s=t.i;t.i<t.string.length;){if("#"===(n=t.GetNext())){if(s!==t.i&&(i[o]=t.string.substr(s,t.i-s)),!(n=t.string.charAt(++t.i)).match(/^[1-9]$/))throw new Ht.default("CantUseHash2","Illegal use of # in template for %1",r);if(parseInt(n)!==++o)throw new Ht.default("SequentialParam","Parameters for %1 must be numbered sequentially",r);s=t.i+1}else if("{"===n)return s!==t.i&&(i[o]=t.string.substr(s,t.i-s)),i.length>0?[o.toString()].concat(i):o;t.i++}throw new Ht.default("MissingReplacementString","Missing replacement string for definition of %1",e)},t.GetParameter=function(t,r,n){if(null==n)return t.GetArgument(r);for(var i=t.i,o=0,s=0;t.i<t.string.length;){var a=t.string.charAt(t.i);if("{"===a)t.i===i&&(s=1),t.GetArgument(r),o=t.i-i;else{if(e(t,n))return s&&(i++,o-=2),t.string.substr(i,o);if("\\"===a){t.i++,o++,s=0;var l=t.string.substr(t.i).match(/[a-z]+|./i);l&&(t.i+=l[0].length,o=t.i-i)}else t.i++,o++,s=0}}throw new Ht.default("RunawayArgument","Runaway argument for %1?",r)},t.MatchParam=e,t.addDelimiter=function(e,r,n,i){e.configuration.handlers.retrieve(t.NEW_DELIMITER).add(r,new sr.Symbol(r,n,i))},t.addMacro=function(e,r,n,i,o){void 0===o&&(o=""),e.configuration.handlers.retrieve(t.NEW_COMMAND).add(r,new sr.Macro(o||r,n,i))},t.addEnvironment=function(e,r,n,i){e.configuration.handlers.retrieve(t.NEW_ENVIRONMENT).add(r,new sr.Macro(r,n,i))},t.NEW_DELIMITER="new-Delimiter",t.NEW_COMMAND="new-Command",t.NEW_ENVIRONMENT="new-Environment"}(rm||(rm={})),nm.default=rm;var im={NewCommand:function(t,e){var r=Nt.default.trimSpaces(t.GetArgument(e)),n=t.GetBrackets(e),i=t.GetBrackets(e),o=t.GetArgument(e);if("\\"===r.charAt(0)&&(r=r.substr(1)),!r.match(/^(.|[a-z]+)$/i))throw new Ht.default("IllegalControlSequenceName","Illegal control sequence name for %1",e);if(n&&!(n=Nt.default.trimSpaces(n)).match(/^[0-9]+$/))throw new Ht.default("IllegalParamNumber","Illegal number of parameters specified in %1",e);nm.default.addMacro(t,r,im.Macro,[o,n,i])},NewEnvironment:function(t,e){var r=Nt.default.trimSpaces(t.GetArgument(e)),n=t.GetBrackets(e),i=t.GetBrackets(e),o=t.GetArgument(e),s=t.GetArgument(e);if(n&&!(n=Nt.default.trimSpaces(n)).match(/^[0-9]+$/))throw new Ht.default("IllegalParamNumber","Illegal number of parameters specified in %1",e);nm.default.addEnvironment(t,r,im.BeginEnv,[!0,o,s,n,i])},MacroDef:function(t,e){var r=nm.default.GetCSname(t,e),n=nm.default.GetTemplate(t,e,"\\"+r),i=t.GetArgument(e);n instanceof Array?nm.default.addMacro(t,r,im.MacroWithTemplate,[i].concat(n)):nm.default.addMacro(t,r,im.Macro,[i,n])},Let:function(t,e){var r=nm.default.GetCSname(t,e),n=t.GetNext();"="===n&&(t.i++,n=t.GetNext());var i=t.configuration.handlers;if("\\"!==n){t.i++;var o=i.get("delimiter").lookup(n);o?nm.default.addDelimiter(t,"\\"+r,o.char,o.attributes):nm.default.addMacro(t,r,im.Macro,[n])}else{e=nm.default.GetCSname(t,e);var s=i.get("delimiter").lookup("\\"+e);if(s)return void nm.default.addDelimiter(t,"\\"+r,s.char,s.attributes);var a=i.get("macro").applicable(e);if(!a)return;if(a instanceof er.MacroMap){var l=a.lookup(e);return void nm.default.addMacro(t,r,l.func,l.args,l.symbol)}s=a.lookup(e);var c=nm.default.disassembleSymbol(r,s);nm.default.addMacro(t,r,(function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=nm.default.assembleSymbol(r);return a.parser(t,i)}),c)}},MacroWithTemplate:function(t,e,r,n){for(var i=[],o=4;o<arguments.length;o++)i[o-4]=arguments[o];var s=parseInt(n,10);if(s){var a=[];if(t.GetNext(),i[0]&&!nm.default.MatchParam(t,i[0]))throw new Ht.default("MismatchUseDef","Use of %1 doesn't match its definition",e);for(var l=0;l<s;l++)a.push(nm.default.GetParameter(t,e,i[l+1]));r=Nt.default.substituteArgs(t,a,r)}if(t.string=Nt.default.addArgs(t,r,t.string.slice(t.i)),t.i=0,++t.macroCount>t.configuration.options.maxMacros)throw new Ht.default("MaxMacroSub1","MathJax maximum macro substitution count exceeded; is here a recursive macro call?")},BeginEnv:function(t,e,r,n,i,o){if(e.getProperty("end")&&t.stack.env.closing===e.getName()){delete t.stack.env.closing;var s=t.string.slice(t.i);return t.string=n,t.i=0,t.Parse(),t.string=s,t.i=0,t.itemFactory.create("end").setProperty("name",e.getName())}if(i){var a=[];if(null!=o){var l=t.GetBrackets("\\begin{"+e.getName()+"}");a.push(null==l?o:l)}for(var c=a.length;c<i;c++)a.push(t.GetArgument("\\begin{"+e.getName()+"}"));r=Nt.default.substituteArgs(t,a,r),n=Nt.default.substituteArgs(t,[],n)}return t.string=Nt.default.addArgs(t,r,t.string.slice(t.i)),t.i=0,t.itemFactory.create("beginEnv").setProperty("name",e.getName())}};im.Macro=qr.default.Macro,em.default=im;var om={},sm=om&&om.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(om,"__esModule",{value:!0}),om.BeginEnvItem=void 0;var am=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return sm(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"beginEnv"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isOpen",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.checkItem=function(e){if(e.isKind("end")){if(e.getName()!==this.getName())throw new Ht.default("EnvBadEnd","\\begin{%1} ended with \\end{%2}",this.getName(),e.getName());return[[this.factory.create("mml",this.toMml())],!0]}if(e.isKind("stop"))throw new Ht.default("EnvMissingEnd","Missing \\end{%1}",this.getName());return t.prototype.checkItem.call(this,e)},e}(le.BaseItem);om.BeginEnvItem=am;var lm="configmacros-map",cm="configmacros-env-map";Zp.ConfigMacrosConfiguration=Ne.Configuration.create("configmacros",{init:function(t){new er.CommandMap(lm,{},{}),new er.EnvironmentMap(cm,en.default.environment,{},{}),t.append(Ne.Configuration.local({handler:{macro:[lm],environment:[cm]},priority:3}))},config:function(t,e){!function(t){var e,r,n=t.parseOptions.handlers.retrieve(lm),i=t.parseOptions.options.macros;try{for(var o=tm(Object.keys(i)),s=o.next();!s.done;s=o.next()){var a=s.value,l="string"==typeof i[a]?[i[a]]:i[a],c=Array.isArray(l[2])?new sr.Macro(a,em.default.MacroWithTemplate,l.slice(0,2).concat(l[2])):new sr.Macro(a,em.default.Macro,l);n.add(a,c)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}}(e),function(t){var e,r,n=t.parseOptions.handlers.retrieve(cm),i=t.parseOptions.options.environments;try{for(var o=tm(Object.keys(i)),s=o.next();!s.done;s=o.next()){var a=s.value;n.add(a,new sr.Macro(a,em.default.BeginEnv,[!0].concat(i[a])))}}catch(t){e={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}}(e)},items:(Yp={},Yp[om.BeginEnvItem.prototype.kind]=om.BeginEnvItem,Yp),options:{macros:A.expandable({}),environments:A.expandable({})}});var um={};Object.defineProperty(um,"__esModule",{value:!0}),um.ExtpfeilConfiguration=um.ExtpfeilMethods=void 0;var hm,dm={};Object.defineProperty(dm,"__esModule",{value:!0}),dm.NewcommandConfiguration=void 0;var fm={};Object.defineProperty(fm,"__esModule",{value:!0}),new er.CommandMap("Newcommand-macros",{newcommand:"NewCommand",renewcommand:"NewCommand",newenvironment:"NewEnvironment",renewenvironment:"NewEnvironment",def:"MacroDef",let:"Let"},em.default);dm.NewcommandConfiguration=Ne.Configuration.create("newcommand",{handler:{macro:["Newcommand-macros"]},items:(hm={},hm[om.BeginEnvItem.prototype.kind]=om.BeginEnvItem,hm),options:{maxMacros:1e3},init:function(t){new er.DelimiterMap(nm.default.NEW_DELIMITER,en.default.delimiter,{}),new er.CommandMap(nm.default.NEW_COMMAND,{},{}),new er.EnvironmentMap(nm.default.NEW_ENVIRONMENT,en.default.environment,{},{}),t.append(Ne.Configuration.local({handler:{character:[],delimiter:[nm.default.NEW_DELIMITER],macro:[nm.default.NEW_DELIMITER,nm.default.NEW_COMMAND],environment:[nm.default.NEW_ENVIRONMENT]},priority:-1}))}}),um.ExtpfeilMethods={},um.ExtpfeilMethods.xArrow=kf.AmsMethods.xArrow,um.ExtpfeilMethods.NewExtArrow=function(t,e){var r=t.GetArgument(e),n=t.GetArgument(e),i=t.GetArgument(e);if(!r.match(/^\\([a-z]+|.)$/i))throw new Ht.default("NewextarrowArg1","First argument to %1 must be a control sequence name",e);if(!n.match(/^(\d+),(\d+)$/))throw new Ht.default("NewextarrowArg2","Second argument to %1 must be two integers separated by a comma",e);if(!i.match(/^(\d+|0x[0-9A-F]+)$/i))throw new Ht.default("NewextarrowArg3","Third argument to %1 must be a unicode character number",e);r=r.substr(1);var o=n.split(",");nm.default.addMacro(t,r,um.ExtpfeilMethods.xArrow,[parseInt(i),parseInt(o[0]),parseInt(o[1])])},new er.CommandMap("extpfeil",{xtwoheadrightarrow:["xArrow",8608,12,16],xtwoheadleftarrow:["xArrow",8606,17,13],xmapsto:["xArrow",8614,6,7],xlongequal:["xArrow",61,7,7],xtofrom:["xArrow",8644,12,12],Newextarrow:"NewExtArrow"},um.ExtpfeilMethods);um.ExtpfeilConfiguration=Ne.Configuration.create("extpfeil",{handler:{macro:["extpfeil"]},init:function(t){dm.NewcommandConfiguration.init(t)}});var pm={};Object.defineProperty(pm,"__esModule",{value:!0}),pm.HtmlConfiguration=void 0;var mm={};Object.defineProperty(mm,"__esModule",{value:!0});var gm={Href:function(t,e){var r=t.GetArgument(e),n=ym(t,e);At.default.setAttribute(n,"href",r),t.Push(n)},Class:function(t,e){var r=t.GetArgument(e),n=ym(t,e),i=At.default.getAttribute(n,"class");i&&(r=i+" "+r),At.default.setAttribute(n,"class",r),t.Push(n)},Style:function(t,e){var r=t.GetArgument(e),n=ym(t,e),i=At.default.getAttribute(n,"style");i&&(";"!==r.charAt(r.length-1)&&(r+=";"),r=i+" "+r),At.default.setAttribute(n,"style",r),t.Push(n)},Id:function(t,e){var r=t.GetArgument(e),n=ym(t,e);At.default.setAttribute(n,"id",r),t.Push(n)}},ym=function(t,e){var r=t.ParseArg(e);if(!At.default.isInferred(r))return r;var n=At.default.getChildren(r);if(1===n.length)return n[0];var i=t.create("node","mrow");return At.default.copyChildren(r,i),At.default.copyAttributes(r,i),i};mm.default=gm,new er.CommandMap("html_macros",{href:"Href",class:"Class",style:"Style",cssId:"Id"},mm.default),pm.HtmlConfiguration=Ne.Configuration.create("html",{handler:{macro:["html_macros"]}});var vm={};Object.defineProperty(vm,"__esModule",{value:!0}),vm.MhchemConfiguration=void 0;var bm={};
/*!
 *************************************************************************
 *
 *  mhchemParser.ts
 *  4.0.0
 *
 *  Parser for the \ce command and \pu command for MathJax and Co.
 *
 *  mhchem's \ce is a tool for writing beautiful chemical equations easily.
 *  mhchem's \pu is a tool for writing physical units easily.
 *
 *  ----------------------------------------------------------------------
 *
 *  Copyright (c) 2015-2021 Martin Hensel
 *
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 *
 *  ----------------------------------------------------------------------
 *
 *  https://github.com/mhchem/mhchemParser
 *
 */
Object.defineProperty(bm,"__esModule",{value:!0}),bm.mhchemParser=void 0;var Am=function(){function t(){}return t.toTex=function(t,e){return xm.go(wm.go(t,e),"tex"!==e)},t}();function Cm(t){var e,r,n={};for(e in t)for(r in t[e]){var i=r.split("|");t[e][r].stateArray=i;for(var o=0;o<i.length;o++)n[i[o]]=[]}for(e in t)for(r in t[e])for(i=t[e][r].stateArray||[],o=0;o<i.length;o++){var s=t[e][r];s.action_=[].concat(s.action_);for(var a=0;a<s.action_.length;a++)"string"==typeof s.action_[a]&&(s.action_[a]={type_:s.action_[a]});for(var l=e.split("|"),c=0;c<l.length;c++)if("*"===i[o]){var u=void 0;for(u in n)n[u].push({pattern:l[c],task:s})}else n[i[o]].push({pattern:l[c],task:s})}return n}bm.mhchemParser=Am;var wm={go:function(t,e){if(!t)return[];void 0===e&&(e="ce");var r,n="0",i={};i.parenthesisLevel=0,t=(t=(t=t.replace(/\n/g," ")).replace(/[\u2212\u2013\u2014\u2010]/g,"-")).replace(/[\u2026]/g,"...");for(var o=10,s=[];;){r!==t?(o=10,r=t):o--;var a=wm.stateMachines[e],l=a.transitions[n]||a.transitions["*"];t:for(var c=0;c<l.length;c++){var u=wm.patterns.match_(l[c].pattern,t);if(u){for(var h=l[c].task,d=0;d<h.action_.length;d++){var f=void 0;if(a.actions[h.action_[d].type_])f=a.actions[h.action_[d].type_](i,u.match_,h.action_[d].option);else{if(!wm.actions[h.action_[d].type_])throw["MhchemBugA","mhchem bug A. Please report. ("+h.action_[d].type_+")"];f=wm.actions[h.action_[d].type_](i,u.match_,h.action_[d].option)}wm.concatArray(s,f)}if(n=h.nextState||n,!(t.length>0))return s;if(h.revisit||(t=u.remainder),!h.toContinue)break t}}if(o<=0)throw["MhchemBugU","mhchem bug U. Please report."]}},concatArray:function(t,e){if(e)if(Array.isArray(e))for(var r=0;r<e.length;r++)t.push(e[r]);else t.push(e)},patterns:{patterns:{empty:/^$/,else:/^./,else2:/^./,space:/^\s/,"space A":/^\s(?=[A-Z\\$])/,space$:/^\s$/,"a-z":/^[a-z]/,x:/^x/,x$:/^x$/,i$:/^i$/,letters:/^(?:[a-zA-Z\u03B1-\u03C9\u0391-\u03A9?@]|(?:\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))))+/,"\\greek":/^\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))/,"one lowercase latin letter $":/^(?:([a-z])(?:$|[^a-zA-Z]))$/,"$one lowercase latin letter$ $":/^\$(?:([a-z])(?:$|[^a-zA-Z]))\$$/,"one lowercase greek letter $":/^(?:\$?[\u03B1-\u03C9]\$?|\$?\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega)\s*\$?)(?:\s+|\{\}|(?![a-zA-Z]))$/,digits:/^[0-9]+/,"-9.,9":/^[+\-]?(?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))/,"-9.,9 no missing 0":/^[+\-]?[0-9]+(?:[.,][0-9]+)?/,"(-)(9.,9)(e)(99)":function(t){var e=t.match(/^(\+\-|\+\/\-|\+|\-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))?(\((?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))\))?(?:(?:([eE])|\s*(\*|x|\\times|\u00D7)\s*10\^)([+\-]?[0-9]+|\{[+\-]?[0-9]+\}))?/);return e&&e[0]?{match_:e.slice(1),remainder:t.substr(e[0].length)}:null},"(-)(9)^(-9)":/^(\+\-|\+\/\-|\+|\-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+)?)\^([+\-]?[0-9]+|\{[+\-]?[0-9]+\})/,"state of aggregation $":function(t){var e=wm.patterns.findObserveGroups(t,"",/^\([a-z]{1,3}(?=[\),])/,")","");if(e&&e.remainder.match(/^($|[\s,;\)\]\}])/))return e;var r=t.match(/^(?:\((?:\\ca\s?)?\$[amothc]\$\))/);return r?{match_:r[0],remainder:t.substr(r[0].length)}:null},"_{(state of aggregation)}$":/^_\{(\([a-z]{1,3}\))\}/,"{[(":/^(?:\\\{|\[|\()/,")]}":/^(?:\)|\]|\\\})/,", ":/^[,;]\s*/,",":/^[,;]/,".":/^[.]/,". __* ":/^([.\u22C5\u00B7\u2022]|[*])\s*/,"...":/^\.\.\.(?=$|[^.])/,"^{(...)}":function(t){return wm.patterns.findObserveGroups(t,"^{","","","}")},"^($...$)":function(t){return wm.patterns.findObserveGroups(t,"^","$","$","")},"^a":/^\^([0-9]+|[^\\_])/,"^\\x{}{}":function(t){return wm.patterns.findObserveGroups(t,"^",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"^\\x{}":function(t){return wm.patterns.findObserveGroups(t,"^",/^\\[a-zA-Z]+\{/,"}","")},"^\\x":/^\^(\\[a-zA-Z]+)\s*/,"^(-1)":/^\^(-?\d+)/,"'":/^'/,"_{(...)}":function(t){return wm.patterns.findObserveGroups(t,"_{","","","}")},"_($...$)":function(t){return wm.patterns.findObserveGroups(t,"_","$","$","")},_9:/^_([+\-]?[0-9]+|[^\\])/,"_\\x{}{}":function(t){return wm.patterns.findObserveGroups(t,"_",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"_\\x{}":function(t){return wm.patterns.findObserveGroups(t,"_",/^\\[a-zA-Z]+\{/,"}","")},"_\\x":/^_(\\[a-zA-Z]+)\s*/,"^_":/^(?:\^(?=_)|\_(?=\^)|[\^_]$)/,"{}":/^\{\}/,"{...}":function(t){return wm.patterns.findObserveGroups(t,"","{","}","")},"{(...)}":function(t){return wm.patterns.findObserveGroups(t,"{","","","}")},"$...$":function(t){return wm.patterns.findObserveGroups(t,"","$","$","")},"${(...)}$__$(...)$":function(t){return wm.patterns.findObserveGroups(t,"${","","","}$")||wm.patterns.findObserveGroups(t,"$","","","$")},"=<>":/^[=<>]/,"#":/^[#\u2261]/,"+":/^\+/,"-$":/^-(?=[\s_},;\]/]|$|\([a-z]+\))/,"-9":/^-(?=[0-9])/,"- orbital overlap":/^-(?=(?:[spd]|sp)(?:$|[\s,;\)\]\}]))/,"-":/^-/,"pm-operator":/^(?:\\pm|\$\\pm\$|\+-|\+\/-)/,operator:/^(?:\+|(?:[\-=<>]|<<|>>|\\approx|\$\\approx\$)(?=\s|$|-?[0-9]))/,arrowUpDown:/^(?:v|\(v\)|\^|\(\^\))(?=$|[\s,;\)\]\}])/,"\\bond{(...)}":function(t){return wm.patterns.findObserveGroups(t,"\\bond{","","","}")},"->":/^(?:<->|<-->|->|<-|<=>>|<<=>|<=>|[\u2192\u27F6\u21CC])/,CMT:/^[CMT](?=\[)/,"[(...)]":function(t){return wm.patterns.findObserveGroups(t,"[","","","]")},"1st-level escape":/^(&|\\\\|\\hline)\s*/,"\\,":/^(?:\\[,\ ;:])/,"\\x{}{}":function(t){return wm.patterns.findObserveGroups(t,"",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"\\x{}":function(t){return wm.patterns.findObserveGroups(t,"",/^\\[a-zA-Z]+\{/,"}","")},"\\ca":/^\\ca(?:\s+|(?![a-zA-Z]))/,"\\x":/^(?:\\[a-zA-Z]+\s*|\\[_&{}%])/,orbital:/^(?:[0-9]{1,2}[spdfgh]|[0-9]{0,2}sp)(?=$|[^a-zA-Z])/,others:/^[\/~|]/,"\\frac{(...)}":function(t){return wm.patterns.findObserveGroups(t,"\\frac{","","","}","{","","","}")},"\\overset{(...)}":function(t){return wm.patterns.findObserveGroups(t,"\\overset{","","","}","{","","","}")},"\\underset{(...)}":function(t){return wm.patterns.findObserveGroups(t,"\\underset{","","","}","{","","","}")},"\\underbrace{(...)}":function(t){return wm.patterns.findObserveGroups(t,"\\underbrace{","","","}_","{","","","}")},"\\color{(...)}":function(t){return wm.patterns.findObserveGroups(t,"\\color{","","","}")},"\\color{(...)}{(...)}":function(t){return wm.patterns.findObserveGroups(t,"\\color{","","","}","{","","","}")||wm.patterns.findObserveGroups(t,"\\color","\\","",/^(?=\{)/,"{","","","}")},"\\ce{(...)}":function(t){return wm.patterns.findObserveGroups(t,"\\ce{","","","}")},"\\pu{(...)}":function(t){return wm.patterns.findObserveGroups(t,"\\pu{","","","}")},oxidation$:/^(?:[+-][IVX]+|\\pm\s*0|\$\\pm\$\s*0)$/,"d-oxidation$":/^(?:[+-]?\s?[IVX]+|\\pm\s*0|\$\\pm\$\s*0)$/,"roman numeral":/^[IVX]+/,"1/2$":/^[+\-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+(?:\$[a-z]\$|[a-z])?$/,amount:function(t){var e;if(e=t.match(/^(?:(?:(?:\([+\-]?[0-9]+\/[0-9]+\)|[+\-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+|[+\-]?[0-9]+[.,][0-9]+|[+\-]?\.[0-9]+|[+\-]?[0-9]+)(?:[a-z](?=\s*[A-Z]))?)|[+\-]?[a-z](?=\s*[A-Z])|\+(?!\s))/))return{match_:e[0],remainder:t.substr(e[0].length)};var r=wm.patterns.findObserveGroups(t,"","$","$","");return r&&(e=r.match_.match(/^\$(?:\(?[+\-]?(?:[0-9]*[a-z]?[+\-])?[0-9]*[a-z](?:[+\-][0-9]*[a-z]?)?\)?|\+|-)\$$/))?{match_:e[0],remainder:t.substr(e[0].length)}:null},amount2:function(t){return this.amount(t)},"(KV letters),":/^(?:[A-Z][a-z]{0,2}|i)(?=,)/,formula$:function(t){if(t.match(/^\([a-z]+\)$/))return null;var e=t.match(/^(?:[a-z]|(?:[0-9\ \+\-\,\.\(\)]+[a-z])+[0-9\ \+\-\,\.\(\)]*|(?:[a-z][0-9\ \+\-\,\.\(\)]+)+[a-z]?)$/);return e?{match_:e[0],remainder:t.substr(e[0].length)}:null},uprightEntities:/^(?:pH|pOH|pC|pK|iPr|iBu)(?=$|[^a-zA-Z])/,"/":/^\s*(\/)\s*/,"//":/^\s*(\/\/)\s*/,"*":/^\s*[*.]\s*/},findObserveGroups:function(t,e,r,n,i,o,s,a,l,c){var u=function(t,e){if("string"==typeof e)return 0!==t.indexOf(e)?null:e;var r=t.match(e);return r?r[0]:null},h=u(t,e);if(null===h)return null;if(t=t.substr(h.length),null===(h=u(t,r)))return null;var d=function(t,e,r){for(var n=0;e<t.length;){var i=t.charAt(e),o=u(t.substr(e),r);if(null!==o&&0===n)return{endMatchBegin:e,endMatchEnd:e+o.length};if("{"===i)n++;else if("}"===i){if(0===n)throw["ExtraCloseMissingOpen","Extra close brace or missing open brace"];n--}e++}return null}(t,h.length,n||i);if(null===d)return null;var f=t.substring(0,n?d.endMatchEnd:d.endMatchBegin);if(o||s){var p=this.findObserveGroups(t.substr(d.endMatchEnd),o,s,a,l);if(null===p)return null;var m=[f,p.match_];return{match_:c?m.join(""):m,remainder:p.remainder}}return{match_:f,remainder:t.substr(d.endMatchEnd)}},match_:function(t,e){var r=wm.patterns.patterns[t];if(void 0===r)throw["MhchemBugP","mhchem bug P. Please report. ("+t+")"];if("function"==typeof r)return wm.patterns.patterns[t](e);var n=e.match(r);return n?n.length>2?{match_:n.slice(1),remainder:e.substr(n[0].length)}:{match_:n[1]||n[0],remainder:e.substr(n[0].length)}:null}},actions:{"a=":function(t,e){t.a=(t.a||"")+e},"b=":function(t,e){t.b=(t.b||"")+e},"p=":function(t,e){t.p=(t.p||"")+e},"o=":function(t,e){t.o=(t.o||"")+e},"q=":function(t,e){t.q=(t.q||"")+e},"d=":function(t,e){t.d=(t.d||"")+e},"rm=":function(t,e){t.rm=(t.rm||"")+e},"text=":function(t,e){t.text_=(t.text_||"")+e},insert:function(t,e,r){return{type_:r}},"insert+p1":function(t,e,r){return{type_:r,p1:e}},"insert+p1+p2":function(t,e,r){return{type_:r,p1:e[0],p2:e[1]}},copy:function(t,e){return e},write:function(t,e,r){return r},rm:function(t,e){return{type_:"rm",p1:e}},text:function(t,e){return wm.go(e,"text")},"tex-math":function(t,e){return wm.go(e,"tex-math")},"tex-math tight":function(t,e){return wm.go(e,"tex-math tight")},bond:function(t,e,r){return{type_:"bond",kind_:r||e}},"color0-output":function(t,e){return{type_:"color0",color:e}},ce:function(t,e){return wm.go(e,"ce")},pu:function(t,e){return wm.go(e,"pu")},"1/2":function(t,e){var r=[];e.match(/^[+\-]/)&&(r.push(e.substr(0,1)),e=e.substr(1));var n=e.match(/^([0-9]+|\$[a-z]\$|[a-z])\/([0-9]+)(\$[a-z]\$|[a-z])?$/);return n[1]=n[1].replace(/\$/g,""),r.push({type_:"frac",p1:n[1],p2:n[2]}),n[3]&&(n[3]=n[3].replace(/\$/g,""),r.push({type_:"tex-math",p1:n[3]})),r},"9,9":function(t,e){return wm.go(e,"9,9")}},stateMachines:{tex:{transitions:Cm({empty:{0:{action_:"copy"}},"\\ce{(...)}":{0:{action_:[{type_:"write",option:"{"},"ce",{type_:"write",option:"}"}]}},"\\pu{(...)}":{0:{action_:[{type_:"write",option:"{"},"pu",{type_:"write",option:"}"}]}},else:{0:{action_:"copy"}}}),actions:{}},ce:{transitions:Cm({empty:{"*":{action_:"output"}},else:{"0|1|2":{action_:"beginsWithBond=false",revisit:!0,toContinue:!0}},oxidation$:{0:{action_:"oxidation-output"}},CMT:{r:{action_:"rdt=",nextState:"rt"},rd:{action_:"rqt=",nextState:"rdt"}},arrowUpDown:{"0|1|2|as":{action_:["sb=false","output","operator"],nextState:"1"}},uprightEntities:{"0|1|2":{action_:["o=","output"],nextState:"1"}},orbital:{"0|1|2|3":{action_:"o=",nextState:"o"}},"->":{"0|1|2|3":{action_:"r=",nextState:"r"},"a|as":{action_:["output","r="],nextState:"r"},"*":{action_:["output","r="],nextState:"r"}},"+":{o:{action_:"d= kv",nextState:"d"},"d|D":{action_:"d=",nextState:"d"},q:{action_:"d=",nextState:"qd"},"qd|qD":{action_:"d=",nextState:"qd"},dq:{action_:["output","d="],nextState:"d"},3:{action_:["sb=false","output","operator"],nextState:"0"}},amount:{"0|2":{action_:"a=",nextState:"a"}},"pm-operator":{"0|1|2|a|as":{action_:["sb=false","output",{type_:"operator",option:"\\pm"}],nextState:"0"}},operator:{"0|1|2|a|as":{action_:["sb=false","output","operator"],nextState:"0"}},"-$":{"o|q":{action_:["charge or bond","output"],nextState:"qd"},d:{action_:"d=",nextState:"d"},D:{action_:["output",{type_:"bond",option:"-"}],nextState:"3"},q:{action_:"d=",nextState:"qd"},qd:{action_:"d=",nextState:"qd"},"qD|dq":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},"-9":{"3|o":{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"3"}},"- orbital overlap":{o:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},d:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"}},"-":{"0|1|2":{action_:[{type_:"output",option:1},"beginsWithBond=true",{type_:"bond",option:"-"}],nextState:"3"},3:{action_:{type_:"bond",option:"-"}},a:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},as:{action_:[{type_:"output",option:2},{type_:"bond",option:"-"}],nextState:"3"},b:{action_:"b="},o:{action_:{type_:"- after o/d",option:!1},nextState:"2"},q:{action_:{type_:"- after o/d",option:!1},nextState:"2"},"d|qd|dq":{action_:{type_:"- after o/d",option:!0},nextState:"2"},"D|qD|p":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},amount2:{"1|3":{action_:"a=",nextState:"a"}},letters:{"0|1|2|3|a|as|b|p|bp|o":{action_:"o=",nextState:"o"},"q|dq":{action_:["output","o="],nextState:"o"},"d|D|qd|qD":{action_:"o after d",nextState:"o"}},digits:{o:{action_:"q=",nextState:"q"},"d|D":{action_:"q=",nextState:"dq"},q:{action_:["output","o="],nextState:"o"},a:{action_:"o=",nextState:"o"}},"space A":{"b|p|bp":{action_:[]}},space:{a:{action_:[],nextState:"as"},0:{action_:"sb=false"},"1|2":{action_:"sb=true"},"r|rt|rd|rdt|rdq":{action_:"output",nextState:"0"},"*":{action_:["output","sb=true"],nextState:"1"}},"1st-level escape":{"1|2":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}]},"*":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}],nextState:"0"}},"[(...)]":{"r|rt":{action_:"rd=",nextState:"rd"},"rd|rdt":{action_:"rq=",nextState:"rdq"}},"...":{"o|d|D|dq|qd|qD":{action_:["output",{type_:"bond",option:"..."}],nextState:"3"},"*":{action_:[{type_:"output",option:1},{type_:"insert",option:"ellipsis"}],nextState:"1"}},". __* ":{"*":{action_:["output",{type_:"insert",option:"addition compound"}],nextState:"1"}},"state of aggregation $":{"*":{action_:["output","state of aggregation"],nextState:"1"}},"{[(":{"a|as|o":{action_:["o=","output","parenthesisLevel++"],nextState:"2"},"0|1|2|3":{action_:["o=","output","parenthesisLevel++"],nextState:"2"},"*":{action_:["output","o=","output","parenthesisLevel++"],nextState:"2"}},")]}":{"0|1|2|3|b|p|bp|o":{action_:["o=","parenthesisLevel--"],nextState:"o"},"a|as|d|D|q|qd|qD|dq":{action_:["output","o=","parenthesisLevel--"],nextState:"o"}},", ":{"*":{action_:["output","comma"],nextState:"0"}},"^_":{"*":{action_:[]}},"^{(...)}|^($...$)":{"0|1|2|as":{action_:"b=",nextState:"b"},p:{action_:"b=",nextState:"bp"},"3|o":{action_:"d= kv",nextState:"D"},q:{action_:"d=",nextState:"qD"},"d|D|qd|qD|dq":{action_:["output","d="],nextState:"D"}},"^a|^\\x{}{}|^\\x{}|^\\x|'":{"0|1|2|as":{action_:"b=",nextState:"b"},p:{action_:"b=",nextState:"bp"},"3|o":{action_:"d= kv",nextState:"d"},q:{action_:"d=",nextState:"qd"},"d|qd|D|qD":{action_:"d="},dq:{action_:["output","d="],nextState:"d"}},"_{(state of aggregation)}$":{"d|D|q|qd|qD|dq":{action_:["output","q="],nextState:"q"}},"_{(...)}|_($...$)|_9|_\\x{}{}|_\\x{}|_\\x":{"0|1|2|as":{action_:"p=",nextState:"p"},b:{action_:"p=",nextState:"bp"},"3|o":{action_:"q=",nextState:"q"},"d|D":{action_:"q=",nextState:"dq"},"q|qd|qD|dq":{action_:["output","q="],nextState:"q"}},"=<>":{"0|1|2|3|a|as|o|q|d|D|qd|qD|dq":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"#":{"0|1|2|3|a|as|o":{action_:[{type_:"output",option:2},{type_:"bond",option:"#"}],nextState:"3"}},"{}":{"*":{action_:{type_:"output",option:1},nextState:"1"}},"{...}":{"0|1|2|3|a|as|b|p|bp":{action_:"o=",nextState:"o"},"o|d|D|q|qd|qD|dq":{action_:["output","o="],nextState:"o"}},"$...$":{a:{action_:"a="},"0|1|2|3|as|b|p|bp|o":{action_:"o=",nextState:"o"},"as|o":{action_:"o="},"q|d|D|qd|qD|dq":{action_:["output","o="],nextState:"o"}},"\\bond{(...)}":{"*":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"\\frac{(...)}":{"*":{action_:[{type_:"output",option:1},"frac-output"],nextState:"3"}},"\\overset{(...)}":{"*":{action_:[{type_:"output",option:2},"overset-output"],nextState:"3"}},"\\underset{(...)}":{"*":{action_:[{type_:"output",option:2},"underset-output"],nextState:"3"}},"\\underbrace{(...)}":{"*":{action_:[{type_:"output",option:2},"underbrace-output"],nextState:"3"}},"\\color{(...)}{(...)}":{"*":{action_:[{type_:"output",option:2},"color-output"],nextState:"3"}},"\\color{(...)}":{"*":{action_:[{type_:"output",option:2},"color0-output"]}},"\\ce{(...)}":{"*":{action_:[{type_:"output",option:2},"ce"],nextState:"3"}},"\\,":{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"1"}},"\\pu{(...)}":{"*":{action_:["output",{type_:"write",option:"{"},"pu",{type_:"write",option:"}"}],nextState:"3"}},"\\x{}{}|\\x{}|\\x":{"0|1|2|3|a|as|b|p|bp|o|c0":{action_:["o=","output"],nextState:"3"},"*":{action_:["output","o=","output"],nextState:"3"}},others:{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"3"}},else2:{a:{action_:"a to o",nextState:"o",revisit:!0},as:{action_:["output","sb=true"],nextState:"1",revisit:!0},"r|rt|rd|rdt|rdq":{action_:["output"],nextState:"0",revisit:!0},"*":{action_:["output","copy"],nextState:"3"}}}),actions:{"o after d":function(t,e){var r;if((t.d||"").match(/^[0-9]+$/)){var n=t.d;t.d=void 0,r=this.output(t),t.b=n}else r=this.output(t);return wm.actions["o="](t,e),r},"d= kv":function(t,e){t.d=e,t.dType="kv"},"charge or bond":function(t,e){if(t.beginsWithBond){var r=[];return wm.concatArray(r,this.output(t)),wm.concatArray(r,wm.actions.bond(t,e,"-")),r}t.d=e},"- after o/d":function(t,e,r){var n=wm.patterns.match_("orbital",t.o||""),i=wm.patterns.match_("one lowercase greek letter $",t.o||""),o=wm.patterns.match_("one lowercase latin letter $",t.o||""),s=wm.patterns.match_("$one lowercase latin letter$ $",t.o||""),a="-"===e&&(n&&""===n.remainder||i||o||s);!a||t.a||t.b||t.p||t.d||t.q||n||!o||(t.o="$"+t.o+"$");var l=[];return a?(wm.concatArray(l,this.output(t)),l.push({type_:"hyphen"})):(n=wm.patterns.match_("digits",t.d||""),r&&n&&""===n.remainder?(wm.concatArray(l,wm.actions["d="](t,e)),wm.concatArray(l,this.output(t))):(wm.concatArray(l,this.output(t)),wm.concatArray(l,wm.actions.bond(t,e,"-")))),l},"a to o":function(t){t.o=t.a,t.a=void 0},"sb=true":function(t){t.sb=!0},"sb=false":function(t){t.sb=!1},"beginsWithBond=true":function(t){t.beginsWithBond=!0},"beginsWithBond=false":function(t){t.beginsWithBond=!1},"parenthesisLevel++":function(t){t.parenthesisLevel++},"parenthesisLevel--":function(t){t.parenthesisLevel--},"state of aggregation":function(t,e){return{type_:"state of aggregation",p1:wm.go(e,"o")}},comma:function(t,e){var r=e.replace(/\s*$/,"");return r!==e&&0===t.parenthesisLevel?{type_:"comma enumeration L",p1:r}:{type_:"comma enumeration M",p1:r}},output:function(t,e,r){var n;if(t.r){var i=void 0;i="M"===t.rdt?wm.go(t.rd,"tex-math"):"T"===t.rdt?[{type_:"text",p1:t.rd||""}]:wm.go(t.rd,"ce");var o=void 0;o="M"===t.rqt?wm.go(t.rq,"tex-math"):"T"===t.rqt?[{type_:"text",p1:t.rq||""}]:wm.go(t.rq,"ce"),n={type_:"arrow",r:t.r,rd:i,rq:o}}else n=[],(t.a||t.b||t.p||t.o||t.q||t.d||r)&&(t.sb&&n.push({type_:"entitySkip"}),t.o||t.q||t.d||t.b||t.p||2===r?t.o||t.q||t.d||!t.b&&!t.p?t.o&&"kv"===t.dType&&wm.patterns.match_("d-oxidation$",t.d||"")?t.dType="oxidation":t.o&&"kv"===t.dType&&!t.q&&(t.dType=void 0):(t.o=t.a,t.d=t.b,t.q=t.p,t.a=t.b=t.p=void 0):(t.o=t.a,t.a=void 0),n.push({type_:"chemfive",a:wm.go(t.a,"a"),b:wm.go(t.b,"bd"),p:wm.go(t.p,"pq"),o:wm.go(t.o,"o"),q:wm.go(t.q,"pq"),d:wm.go(t.d,"oxidation"===t.dType?"oxidation":"bd"),dType:t.dType}));for(var s in t)"parenthesisLevel"!==s&&"beginsWithBond"!==s&&delete t[s];return n},"oxidation-output":function(t,e){var r=["{"];return wm.concatArray(r,wm.go(e,"oxidation")),r.push("}"),r},"frac-output":function(t,e){return{type_:"frac-ce",p1:wm.go(e[0],"ce"),p2:wm.go(e[1],"ce")}},"overset-output":function(t,e){return{type_:"overset",p1:wm.go(e[0],"ce"),p2:wm.go(e[1],"ce")}},"underset-output":function(t,e){return{type_:"underset",p1:wm.go(e[0],"ce"),p2:wm.go(e[1],"ce")}},"underbrace-output":function(t,e){return{type_:"underbrace",p1:wm.go(e[0],"ce"),p2:wm.go(e[1],"ce")}},"color-output":function(t,e){return{type_:"color",color1:e[0],color2:wm.go(e[1],"ce")}},"r=":function(t,e){t.r=e},"rdt=":function(t,e){t.rdt=e},"rd=":function(t,e){t.rd=e},"rqt=":function(t,e){t.rqt=e},"rq=":function(t,e){t.rq=e},operator:function(t,e,r){return{type_:"operator",kind_:r||e}}}},a:{transitions:Cm({empty:{"*":{action_:[]}},"1/2$":{0:{action_:"1/2"}},else:{0:{action_:[],nextState:"1",revisit:!0}},"${(...)}$__$(...)$":{"*":{action_:"tex-math tight",nextState:"1"}},",":{"*":{action_:{type_:"insert",option:"commaDecimal"}}},else2:{"*":{action_:"copy"}}}),actions:{}},o:{transitions:Cm({empty:{"*":{action_:[]}},"1/2$":{0:{action_:"1/2"}},else:{0:{action_:[],nextState:"1",revisit:!0}},letters:{"*":{action_:"rm"}},"\\ca":{"*":{action_:{type_:"insert",option:"circa"}}},"\\pu{(...)}":{"*":{action_:[{type_:"write",option:"{"},"pu",{type_:"write",option:"}"}]}},"\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},"${(...)}$__$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:[{type_:"write",option:"{"},"text",{type_:"write",option:"}"}]}},else2:{"*":{action_:"copy"}}}),actions:{}},text:{transitions:Cm({empty:{"*":{action_:"output"}},"{...}":{"*":{action_:"text="}},"${(...)}$__$(...)$":{"*":{action_:"tex-math"}},"\\greek":{"*":{action_:["output","rm"]}},"\\pu{(...)}":{"*":{action_:["output",{type_:"write",option:"{"},"pu",{type_:"write",option:"}"}]}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:["output","copy"]}},else:{"*":{action_:"text="}}}),actions:{output:function(t){if(t.text_){var e={type_:"text",p1:t.text_};for(var r in t)delete t[r];return e}}}},pq:{transitions:Cm({empty:{"*":{action_:[]}},"state of aggregation $":{"*":{action_:"state of aggregation"}},i$:{0:{action_:[],nextState:"!f",revisit:!0}},"(KV letters),":{0:{action_:"rm",nextState:"0"}},formula$:{0:{action_:[],nextState:"f",revisit:!0}},"1/2$":{0:{action_:"1/2"}},else:{0:{action_:[],nextState:"!f",revisit:!0}},"${(...)}$__$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"a-z":{f:{action_:"tex-math"}},letters:{"*":{action_:"rm"}},"-9.,9":{"*":{action_:"9,9"}},",":{"*":{action_:{type_:"insert+p1",option:"comma enumeration S"}}},"\\color{(...)}{(...)}":{"*":{action_:"color-output"}},"\\color{(...)}":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\pu{(...)}":{"*":{action_:[{type_:"write",option:"{"},"pu",{type_:"write",option:"}"}]}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"state of aggregation":function(t,e){return{type_:"state of aggregation subscript",p1:wm.go(e,"o")}},"color-output":function(t,e){return{type_:"color",color1:e[0],color2:wm.go(e[1],"pq")}}}},bd:{transitions:Cm({empty:{"*":{action_:[]}},x$:{0:{action_:[],nextState:"!f",revisit:!0}},formula$:{0:{action_:[],nextState:"f",revisit:!0}},else:{0:{action_:[],nextState:"!f",revisit:!0}},"-9.,9 no missing 0":{"*":{action_:"9,9"}},".":{"*":{action_:{type_:"insert",option:"electron dot"}}},"a-z":{f:{action_:"tex-math"}},x:{"*":{action_:{type_:"insert",option:"KV x"}}},letters:{"*":{action_:"rm"}},"'":{"*":{action_:{type_:"insert",option:"prime"}}},"${(...)}$__$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"\\color{(...)}{(...)}":{"*":{action_:"color-output"}},"\\color{(...)}":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\pu{(...)}":{"*":{action_:[{type_:"write",option:"{"},"pu",{type_:"write",option:"}"}]}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"color-output":function(t,e){return{type_:"color",color1:e[0],color2:wm.go(e[1],"bd")}}}},oxidation:{transitions:Cm({empty:{"*":{action_:[]}},"roman numeral":{"*":{action_:"roman-numeral"}},"${(...)}$__$(...)$":{"*":{action_:"tex-math"}},else:{"*":{action_:"copy"}}}),actions:{"roman-numeral":function(t,e){return{type_:"roman numeral",p1:e}}}},"tex-math":{transitions:Cm({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"\\pu{(...)}":{"*":{action_:["output",{type_:"write",option:"{"},"pu",{type_:"write",option:"}"}]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o="}},else:{"*":{action_:"o="}}}),actions:{output:function(t){if(t.o){var e={type_:"tex-math",p1:t.o};for(var r in t)delete t[r];return e}}}},"tex-math tight":{transitions:Cm({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"\\pu{(...)}":{"*":{action_:["output",{type_:"write",option:"{"},"pu",{type_:"write",option:"}"}]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o="}},"-|+":{"*":{action_:"tight operator"}},else:{"*":{action_:"o="}}}),actions:{"tight operator":function(t,e){t.o=(t.o||"")+"{"+e+"}"},output:function(t){if(t.o){var e={type_:"tex-math",p1:t.o};for(var r in t)delete t[r];return e}}}},"9,9":{transitions:Cm({empty:{"*":{action_:[]}},",":{"*":{action_:"comma"}},else:{"*":{action_:"copy"}}}),actions:{comma:function(){return{type_:"commaDecimal"}}}},pu:{transitions:Cm({empty:{"*":{action_:"output"}},space$:{"*":{action_:["output","space"]}},"{[(|)]}":{"0|a":{action_:"copy"}},"(-)(9)^(-9)":{0:{action_:"number^",nextState:"a"}},"(-)(9.,9)(e)(99)":{0:{action_:"enumber",nextState:"a"}},space:{"0|a":{action_:[]}},"pm-operator":{"0|a":{action_:{type_:"operator",option:"\\pm"},nextState:"0"}},operator:{"0|a":{action_:"copy",nextState:"0"}},"//":{d:{action_:"o=",nextState:"/"}},"/":{d:{action_:"o=",nextState:"/"}},"{...}|else":{"0|d":{action_:"d=",nextState:"d"},a:{action_:["space","d="],nextState:"d"},"/|q":{action_:"q=",nextState:"q"}}}),actions:{enumber:function(t,e){var r=[];return"+-"===e[0]||"+/-"===e[0]?r.push("\\pm "):e[0]&&r.push(e[0]),e[1]&&(wm.concatArray(r,wm.go(e[1],"pu-9,9")),e[2]&&(e[2].match(/[,.]/)?wm.concatArray(r,wm.go(e[2],"pu-9,9")):r.push(e[2])),(e[3]||e[4])&&("e"===e[3]||"*"===e[4]?r.push({type_:"cdot"}):r.push({type_:"times"}))),e[5]&&r.push("10^{"+e[5]+"}"),r},"number^":function(t,e){var r=[];return"+-"===e[0]||"+/-"===e[0]?r.push("\\pm "):e[0]&&r.push(e[0]),wm.concatArray(r,wm.go(e[1],"pu-9,9")),r.push("^{"+e[2]+"}"),r},operator:function(t,e,r){return{type_:"operator",kind_:r||e}},space:function(){return{type_:"pu-space-1"}},output:function(t){var e,r=wm.patterns.match_("{(...)}",t.d||"");r&&""===r.remainder&&(t.d=r.match_);var n=wm.patterns.match_("{(...)}",t.q||"");if(n&&""===n.remainder&&(t.q=n.match_),t.d&&(t.d=t.d.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),t.d=t.d.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F")),t.q){t.q=t.q.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),t.q=t.q.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F");var i={d:wm.go(t.d,"pu"),q:wm.go(t.q,"pu")};"//"===t.o?e={type_:"pu-frac",p1:i.d,p2:i.q}:(e=i.d,i.d.length>1||i.q.length>1?e.push({type_:" / "}):e.push({type_:"/"}),wm.concatArray(e,i.q))}else e=wm.go(t.d,"pu-2");for(var o in t)delete t[o];return e}}},"pu-2":{transitions:Cm({empty:{"*":{action_:"output"}},"*":{"*":{action_:["output","cdot"],nextState:"0"}},"\\x":{"*":{action_:"rm="}},space:{"*":{action_:["output","space"],nextState:"0"}},"^{(...)}|^(-1)":{1:{action_:"^(-1)"}},"-9.,9":{0:{action_:"rm=",nextState:"0"},1:{action_:"^(-1)",nextState:"0"}},"{...}|else":{"*":{action_:"rm=",nextState:"1"}}}),actions:{cdot:function(){return{type_:"tight cdot"}},"^(-1)":function(t,e){t.rm+="^{"+e+"}"},space:function(){return{type_:"pu-space-2"}},output:function(t){var e=[];if(t.rm){var r=wm.patterns.match_("{(...)}",t.rm||"");e=r&&""===r.remainder?wm.go(r.match_,"pu"):{type_:"rm",p1:t.rm}}for(var n in t)delete t[n];return e}}},"pu-9,9":{transitions:Cm({empty:{0:{action_:"output-0"},o:{action_:"output-o"}},",":{0:{action_:["output-0","comma"],nextState:"o"}},".":{0:{action_:["output-0","copy"],nextState:"o"}},else:{"*":{action_:"text="}}}),actions:{comma:function(){return{type_:"commaDecimal"}},"output-0":function(t){var e=[];if(t.text_=t.text_||"",t.text_.length>4){var r=t.text_.length%3;0===r&&(r=3);for(var n=t.text_.length-3;n>0;n-=3)e.push(t.text_.substr(n,3)),e.push({type_:"1000 separator"});e.push(t.text_.substr(0,r)),e.reverse()}else e.push(t.text_);for(var i in t)delete t[i];return e},"output-o":function(t){var e=[];if(t.text_=t.text_||"",t.text_.length>4){var r=t.text_.length-3,n=void 0;for(n=0;n<r;n+=3)e.push(t.text_.substr(n,3)),e.push({type_:"1000 separator"});e.push(t.text_.substr(n))}else e.push(t.text_);for(var i in t)delete t[i];return e}}}}},xm={go:function(t,e){if(!t)return"";for(var r="",n=!1,i=0;i<t.length;i++){var o=t[i];"string"==typeof o?r+=o:(r+=xm._go2(o),"1st-level escape"===o.type_&&(n=!0))}return e&&!n&&r&&(r="{"+r+"}"),r},_goInner:function(t){return xm.go(t,!1)},_go2:function(t){var e;switch(t.type_){case"chemfive":e="";var r={a:xm._goInner(t.a),b:xm._goInner(t.b),p:xm._goInner(t.p),o:xm._goInner(t.o),q:xm._goInner(t.q),d:xm._goInner(t.d)};r.a&&(r.a.match(/^[+\-]/)&&(r.a="{"+r.a+"}"),e+=r.a+"\\,"),(r.b||r.p)&&(e+="{\\vphantom{X}}",e+="^{\\hphantom{"+(r.b||"")+"}}_{\\hphantom{"+(r.p||"")+"}}",e+="{\\vphantom{X}}",e+="^{\\smash[t]{\\vphantom{2}}\\llap{"+(r.b||"")+"}}",e+="_{\\vphantom{2}\\llap{\\smash[t]{"+(r.p||"")+"}}}"),r.o&&(r.o.match(/^[+\-]/)&&(r.o="{"+r.o+"}"),e+=r.o),"kv"===t.dType?((r.d||r.q)&&(e+="{\\vphantom{X}}"),r.d&&(e+="^{"+r.d+"}"),r.q&&(e+="_{\\smash[t]{"+r.q+"}}")):"oxidation"===t.dType?(r.d&&(e+="{\\vphantom{X}}",e+="^{"+r.d+"}"),r.q&&(e+="{\\vphantom{X}}",e+="_{\\smash[t]{"+r.q+"}}")):(r.q&&(e+="{\\vphantom{X}}",e+="_{\\smash[t]{"+r.q+"}}"),r.d&&(e+="{\\vphantom{X}}",e+="^{"+r.d+"}"));break;case"rm":e="\\mathrm{"+t.p1+"}";break;case"text":t.p1.match(/[\^_]/)?(t.p1=t.p1.replace(" ","~").replace("-","\\text{-}"),e="\\mathrm{"+t.p1+"}"):e="\\text{"+t.p1+"}";break;case"roman numeral":e="\\mathrm{"+t.p1+"}";break;case"state of aggregation":e="\\mskip2mu "+xm._goInner(t.p1);break;case"state of aggregation subscript":e="\\mskip1mu "+xm._goInner(t.p1);break;case"bond":if(!(e=xm._getBond(t.kind_)))throw["MhchemErrorBond","mhchem Error. Unknown bond type ("+t.kind_+")"];break;case"frac":var n="\\frac{"+t.p1+"}{"+t.p2+"}";e="\\mathchoice{\\textstyle"+n+"}{"+n+"}{"+n+"}{"+n+"}";break;case"pu-frac":var i="\\frac{"+xm._goInner(t.p1)+"}{"+xm._goInner(t.p2)+"}";e="\\mathchoice{\\textstyle"+i+"}{"+i+"}{"+i+"}{"+i+"}";break;case"tex-math":e=t.p1+" ";break;case"frac-ce":e="\\frac{"+xm._goInner(t.p1)+"}{"+xm._goInner(t.p2)+"}";break;case"overset":e="\\overset{"+xm._goInner(t.p1)+"}{"+xm._goInner(t.p2)+"}";break;case"underset":e="\\underset{"+xm._goInner(t.p1)+"}{"+xm._goInner(t.p2)+"}";break;case"underbrace":e="\\underbrace{"+xm._goInner(t.p1)+"}_{"+xm._goInner(t.p2)+"}";break;case"color":e="{\\color{"+t.color1+"}{"+xm._goInner(t.color2)+"}}";break;case"color0":e="\\color{"+t.color+"}";break;case"arrow":var o={rd:xm._goInner(t.rd),rq:xm._goInner(t.rq)},s=xm._getArrow(t.r);o.rd||o.rq?"<=>"===t.r||"<=>>"===t.r||"<<=>"===t.r||"<--\x3e"===t.r?(s="\\long"+s,o.rd&&(s="\\overset{"+o.rd+"}{"+s+"}"),o.rq&&(s="<--\x3e"===t.r?"\\underset{\\lower2mu{"+o.rq+"}}{"+s+"}":"\\underset{\\lower6mu{"+o.rq+"}}{"+s+"}"),s=" {}\\mathrel{"+s+"}{} "):(o.rq&&(s+="[{"+o.rq+"}]"),s=" {}\\mathrel{\\x"+(s+="{"+o.rd+"}")+"}{} "):s=" {}\\mathrel{\\long"+s+"}{} ",e=s;break;case"operator":e=xm._getOperator(t.kind_);break;case"1st-level escape":e=t.p1+" ";break;case"space":e=" ";break;case"entitySkip":case"pu-space-1":e="~";break;case"pu-space-2":e="\\mkern3mu ";break;case"1000 separator":e="\\mkern2mu ";break;case"commaDecimal":e="{,}";break;case"comma enumeration L":e="{"+t.p1+"}\\mkern6mu ";break;case"comma enumeration M":e="{"+t.p1+"}\\mkern3mu ";break;case"comma enumeration S":e="{"+t.p1+"}\\mkern1mu ";break;case"hyphen":e="\\text{-}";break;case"addition compound":e="\\,{\\cdot}\\,";break;case"electron dot":e="\\mkern1mu \\bullet\\mkern1mu ";break;case"KV x":e="{\\times}";break;case"prime":e="\\prime ";break;case"cdot":e="\\cdot ";break;case"tight cdot":e="\\mkern1mu{\\cdot}\\mkern1mu ";break;case"times":e="\\times ";break;case"circa":e="{\\sim}";break;case"^":e="uparrow";break;case"v":e="downarrow";break;case"ellipsis":e="\\ldots ";break;case"/":e="/";break;case" / ":e="\\,/\\,";break;default:throw["MhchemBugT","mhchem bug T. Please report."]}return e},_getArrow:function(t){switch(t){case"->":case"→":case"⟶":return"rightarrow";case"<-":return"leftarrow";case"<->":return"leftrightarrow";case"<--\x3e":return"leftrightarrows";case"<=>":case"⇌":return"rightleftharpoons";case"<=>>":return"Rightleftharpoons";case"<<=>":return"Leftrightharpoons";default:throw["MhchemBugT","mhchem bug T. Please report."]}},_getBond:function(t){switch(t){case"-":case"1":return"{-}";case"=":case"2":return"{=}";case"#":case"3":return"{\\equiv}";case"~":return"{\\tripledash}";case"~-":return"{\\rlap{\\lower.1em{-}}\\raise.1em{\\tripledash}}";case"~=":case"~--":return"{\\rlap{\\lower.2em{-}}\\rlap{\\raise.2em{\\tripledash}}-}";case"-~-":return"{\\rlap{\\lower.2em{-}}\\rlap{\\raise.2em{-}}\\tripledash}";case"...":return"{{\\cdot}{\\cdot}{\\cdot}}";case"....":return"{{\\cdot}{\\cdot}{\\cdot}{\\cdot}}";case"->":return"{\\rightarrow}";case"<-":return"{\\leftarrow}";case"<":return"{<}";case">":return"{>}";default:throw["MhchemBugT","mhchem bug T. Please report."]}},_getOperator:function(t){switch(t){case"+":return" {}+{} ";case"-":return" {}-{} ";case"=":return" {}={} ";case"<":return" {}<{} ";case">":return" {}>{} ";case"<<":return" {}\\ll{} ";case">>":return" {}\\gg{} ";case"\\pm":return" {}\\pm{} ";case"\\approx":case"$\\approx$":return" {}\\approx{} ";case"v":case"(v)":return" \\downarrow{} ";case"^":case"(^)":return" \\uparrow{} ";default:throw["MhchemBugT","mhchem bug T. Please report."]}}};var Em={};Em.Macro=qr.default.Macro,Em.xArrow=kf.AmsMethods.xArrow,Em.Machine=function(t,e,r){try{var n=t.GetArgument(e),i=bm.mhchemParser.toTex(n,r);t.string=i+t.string.substr(t.i),t.i=0}catch(t){throw new Ht.default(t[0],t[1],t.slice(2))}},new er.CommandMap("mhchem",{ce:["Machine","ce"],pu:["Machine","pu"],longrightleftharpoons:["Macro","\\stackrel{\\textstyle{-}\\!\\!{\\rightharpoonup}}{\\smash{{\\leftharpoondown}\\!\\!{-}}}"],longRightleftharpoons:["Macro","\\stackrel{\\textstyle{-}\\!\\!{\\rightharpoonup}}{\\smash{\\leftharpoondown}}"],longLeftrightharpoons:["Macro","\\stackrel{\\textstyle\\vphantom{{-}}{\\rightharpoonup}}{\\smash{{\\leftharpoondown}\\!\\!{-}}}"],longleftrightarrows:["Macro","\\stackrel{\\longrightarrow}{\\smash{\\longleftarrow}\\Rule{0px}{.25em}{0px}}"],tripledash:["Macro","\\vphantom{-}\\raise2mu{\\kern2mu\\tiny\\text{-}\\kern1mu\\text{-}\\kern1mu\\text{-}\\kern2mu}"],xrightarrow:["xArrow",8594,5,6],xleftarrow:["xArrow",8592,7,3],xleftrightarrow:["xArrow",8596,6,6],xrightleftharpoons:["xArrow",8652,5,7],xRightleftharpoons:["xArrow",8652,5,7],xLeftrightharpoons:["xArrow",8652,5,7]},Em),vm.MhchemConfiguration=Ne.Configuration.create("mhchem",{handler:{macro:["mhchem"]}});var Sm={};Object.defineProperty(Sm,"__esModule",{value:!0}),Sm.NoErrorsConfiguration=void 0,Sm.NoErrorsConfiguration=Ne.Configuration.create("noerrors",{nodes:{error:function(t,e,r,n){var i=t.create("token","mtext",{},n.replace(/\n/g," "));return t.create("node","merror",[i],{"data-mjx-error":e,title:e})}}});var Mm={},Om=Mm&&Mm.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Mm,"__esModule",{value:!0}),Mm.NoUndefinedConfiguration=void 0,Mm.NoUndefinedConfiguration=Ne.Configuration.create("noundefined",{fallback:{macro:function(t,e){var r,n,i=t.create("text","\\"+e),o=t.options.noundefined||{},s={};try{for(var a=Om(["color","background","size"]),l=a.next();!l.done;l=a.next()){var c=l.value;o[c]&&(s["math"+c]=o[c])}}catch(t){r={error:t}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}t.Push(t.create("node","mtext",[],s,i))}},options:{noundefined:{color:"red",background:"",size:""}},priority:3});var _m,Tm={};Object.defineProperty(Tm,"__esModule",{value:!0}),Tm.PhysicsConfiguration=void 0;var Fm={},Bm=Fm&&Fm.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Fm,"__esModule",{value:!0}),Fm.AutoOpen=void 0;var Lm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Bm(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"auto open"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isOpen",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.toMml=function(){var e=this.factory.configuration.parser,r=this.getProperty("right");if(this.getProperty("smash")){var n=t.prototype.toMml.call(this),i=e.create("node","mpadded",[n],{height:0,depth:0});this.Clear(),this.Push(e.create("node","TeXAtom",[i]))}r&&this.Push(new Rt.default(r,e.stack.env,e.configuration).mml());var o=t.prototype.toMml.call(this);return Nt.default.fenced(this.factory.configuration,this.getProperty("open"),o,this.getProperty("close"),this.getProperty("big"))},e.prototype.checkItem=function(e){var r=e.getProperty("autoclose");return r&&r===this.getProperty("close")?this.getProperty("ignore")?(this.Clear(),[[],!0]):[[this.toMml()],!0]:t.prototype.checkItem.call(this,e)},e}(le.BaseItem);Fm.AutoOpen=Lm;var km={};Object.defineProperty(km,"__esModule",{value:!0});var Rm={},Dm=Rm&&Rm.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s};Object.defineProperty(Rm,"__esModule",{value:!0});var Pm={},Im={"(":")","[":"]","{":"}","|":"|"},Nm=/^(b|B)i(g{1,2})$/;Pm.Quantity=function(t,e,r,n,i,o,s){void 0===r&&(r="("),void 0===n&&(n=")"),void 0===i&&(i=!1),void 0===o&&(o=""),void 0===s&&(s="");var a=!!i&&t.GetStar(),l=t.GetNext(),c=t.i,u=null;if("\\"===l){if(t.i++,!(u=t.GetCS()).match(Nm)){var h=t.create("node","mrow");return t.Push(Nt.default.fenced(t.configuration,r,h,n)),void(t.i=c)}l=t.GetNext()}var d=Im[l];if(i&&"{"!==l)throw new Ht.default("MissingArgFor","Missing argument for %1",t.currentCS);if(!d){h=t.create("node","mrow");return t.Push(Nt.default.fenced(t.configuration,r,h,n)),void(t.i=c)}if(o){var f=t.create("token","mi",{texClass:Y.TEXCLASS.OP},o);s&&At.default.setAttribute(f,"mathvariant",s),t.Push(t.itemFactory.create("fn",f))}if("{"===l){var p=t.GetArgument(e);return l=i?r:"\\{",d=i?n:"\\}",p=a?l+" "+p+" "+d:u?"\\"+u+"l"+l+" "+p+" \\"+u+"r"+d:"\\left"+l+" "+p+" \\right"+d,void t.Push(new Rt.default(p,t.stack.env,t.configuration).mml())}i&&(l=r,d=n),t.i++,t.Push(t.itemFactory.create("auto open").setProperties({open:l,close:d,big:u}))},Pm.Eval=function(t,e){var r=t.GetStar(),n=t.GetNext();if("{"!==n){if("("===n||"["===n)return t.i++,void t.Push(t.itemFactory.create("auto open").setProperties({open:n,close:"|",smash:r,right:"\\vphantom{\\int}"}));throw new Ht.default("MissingArgFor","Missing argument for %1",t.currentCS)}var i=t.GetArgument(e),o="\\left. "+(r?"\\smash{"+i+"}":i)+" \\vphantom{\\int}\\right|";t.string=t.string.slice(0,t.i)+o+t.string.slice(t.i)},Pm.Commutator=function(t,e,r,n){void 0===r&&(r="["),void 0===n&&(n="]");var i=t.GetStar(),o=t.GetNext(),s=null;if("\\"===o){if(t.i++,!(s=t.GetCS()).match(Nm))throw new Ht.default("MissingArgFor","Missing argument for %1",t.currentCS);o=t.GetNext()}if("{"!==o)throw new Ht.default("MissingArgFor","Missing argument for %1",t.currentCS);var a=t.GetArgument(e)+","+t.GetArgument(e);a=i?r+" "+a+" "+n:s?"\\"+s+"l"+r+" "+a+" \\"+s+"r"+n:"\\left"+r+" "+a+" \\right"+n,t.Push(new Rt.default(a,t.stack.env,t.configuration).mml())};var $m=[65,90],jm=[97,122],Hm=[913,937],Wm=[945,969],zm=[48,57];function Vm(t,e){return t>=e[0]&&t<=e[1]}function Xm(t,e,r,n){var i=t.configuration.parser,o=we.NodeFactory.createToken(t,e,r,n),s=n.codePointAt(0);return 1===n.length&&!i.stack.env.font&&i.stack.env.vectorFont&&(Vm(s,$m)||Vm(s,jm)||Vm(s,Hm)||Vm(s,zm)||Vm(s,Wm)&&i.stack.env.vectorStar||At.default.getAttribute(o,"accent"))&&At.default.setAttribute(o,"mathvariant",i.stack.env.vectorFont),o}Pm.VectorBold=function(t,e){var r=t.GetStar(),n=t.GetArgument(e),i=t.configuration.nodeFactory.get("token"),o=t.stack.env.font;delete t.stack.env.font,t.configuration.nodeFactory.set("token",Xm),t.stack.env.vectorFont=r?"bold-italic":"bold",t.stack.env.vectorStar=r;var s=new Rt.default(n,t.stack.env,t.configuration).mml();o&&(t.stack.env.font=o),delete t.stack.env.vectorFont,delete t.stack.env.vectorStar,t.configuration.nodeFactory.set("token",i),t.Push(s)},Pm.StarMacro=function(t,e,r){for(var n=[],i=3;i<arguments.length;i++)n[i-3]=arguments[i];var o=t.GetStar(),s=[];if(r)for(var a=s.length;a<r;a++)s.push(t.GetArgument(e));var l=n.join(o?"*":"");if(l=Nt.default.substituteArgs(t,s,l),t.string=Nt.default.addArgs(t,l,t.string.slice(t.i)),t.i=0,++t.macroCount>t.configuration.options.maxMacros)throw new Ht.default("MaxMacroSub1","MathJax maximum macro substitution count exceeded; is there a recursive macro call?")};var qm=function(t,e,r,n,i){var o=new Rt.default(n,t.stack.env,t.configuration).mml();t.Push(t.itemFactory.create(e,o));var s=t.GetNext(),a=Im[s];if(a){var l=-1!==i.indexOf(s);if("{"===s){var c=(l?"\\left\\{":"")+" "+t.GetArgument(r)+" "+(l?"\\right\\}":"");return t.string=c+t.string.slice(t.i),void(t.i=0)}l&&(t.i++,t.Push(t.itemFactory.create("auto open").setProperties({open:s,close:a})))}};function Gm(t,e,r){var n=Dm(t,3),i=n[0],o=n[1],s=n[2];return e&&r?"\\left\\langle{"+i+"}\\middle\\vert{"+o+"}\\middle\\vert{"+s+"}\\right\\rangle":e?"\\langle{"+i+"}\\vert{"+o+"}\\vert{"+s+"}\\rangle":"\\left\\langle{"+i+"}\\right\\vert{"+o+"}\\left\\vert{"+s+"}\\right\\rangle"}Pm.OperatorApplication=function(t,e,r){for(var n=[],i=3;i<arguments.length;i++)n[i-3]=arguments[i];qm(t,"fn",e,r,n)},Pm.VectorOperator=function(t,e,r){for(var n=[],i=3;i<arguments.length;i++)n[i-3]=arguments[i];qm(t,"mml",e,r,n)},Pm.Expression=function(t,e,r,n){void 0===r&&(r=!0),void 0===n&&(n=""),n=n||e.slice(1);var i=r?t.GetBrackets(e):null,o=t.create("token","mi",{texClass:Y.TEXCLASS.OP},n);if(i){var s=new Rt.default(i,t.stack.env,t.configuration).mml();o=t.create("node","msup",[o,s])}t.Push(t.itemFactory.create("fn",o)),"("===t.GetNext()&&(t.i++,t.Push(t.itemFactory.create("auto open").setProperties({open:"(",close:")"})))},Pm.Qqtext=function(t,e,r){var n=(t.GetStar()?"":"\\quad")+"\\text{"+(r||t.GetArgument(e))+"}\\quad ";t.string=t.string.slice(0,t.i)+n+t.string.slice(t.i)},Pm.Differential=function(t,e,r){var n=t.GetBrackets(e),i=null!=n?"^{"+n+"}":" ",o="("===t.GetNext(),s="{"===t.GetNext(),a=r+i;if(o||s)if(s){a+=t.GetArgument(e);l=new Rt.default(a,t.stack.env,t.configuration).mml();t.Push(t.create("node","TeXAtom",[l],{texClass:Y.TEXCLASS.OP}))}else t.Push(new Rt.default(a,t.stack.env,t.configuration).mml()),t.i++,t.Push(t.itemFactory.create("auto open").setProperties({open:"(",close:")"}));else{a+=t.GetArgument(e,!0)||"";var l=new Rt.default(a,t.stack.env,t.configuration).mml();t.Push(l)}},Pm.Derivative=function(t,e,r,n){var i=t.GetStar(),o=t.GetBrackets(e),s=1,a=[];for(a.push(t.GetArgument(e));"{"===t.GetNext()&&s<r;)a.push(t.GetArgument(e)),s++;var l=!1,c=" ",u=" ";r>2&&a.length>2?(c="^{"+(a.length-1)+"}",l=!0):null!=o&&(r>2&&a.length>1&&(l=!0),u=c="^{"+o+"}");for(var h=i?"\\flatfrac":"\\frac",d=a.length>1?a[0]:"",f=a.length>1?a[1]:a[0],p="",m=2,g=void 0;g=a[m];m++)p+=n+" "+g;var y=h+"{"+n+c+d+"}{"+n+" "+f+u+" "+p+"}";t.Push(new Rt.default(y,t.stack.env,t.configuration).mml()),"("===t.GetNext()&&(t.i++,t.Push(t.itemFactory.create("auto open").setProperties({open:"(",close:")",ignore:l})))},Pm.Bra=function(t,e){var r=t.GetStar(),n=t.GetArgument(e),i="",o=!1,s=!1;if("\\"===t.GetNext()){var a=t.i;t.i++;var l=t.GetCS(),c=t.lookup("macro",l);c&&"ket"===c.symbol?(o=!0,a=t.i,s=t.GetStar(),"{"===t.GetNext()?i=t.GetArgument(l,!0):(t.i=a,s=!1)):t.i=a}var u="";u=o?r||s?"\\langle{"+n+"}\\vert{"+i+"}\\rangle":"\\left\\langle{"+n+"}\\middle\\vert{"+i+"}\\right\\rangle":r||s?"\\langle{"+n+"}\\vert":"\\left\\langle{"+n+"}\\right\\vert{"+i+"}",t.Push(new Rt.default(u,t.stack.env,t.configuration).mml())},Pm.Ket=function(t,e){var r=t.GetStar(),n=t.GetArgument(e),i=r?"\\vert{"+n+"}\\rangle":"\\left\\vert{"+n+"}\\right\\rangle";t.Push(new Rt.default(i,t.stack.env,t.configuration).mml())},Pm.BraKet=function(t,e){var r=t.GetStar(),n=t.GetArgument(e),i=null;"{"===t.GetNext()&&(i=t.GetArgument(e,!0));var o="";o=null==i?r?"\\langle{"+n+"}\\vert{"+n+"}\\rangle":"\\left\\langle{"+n+"}\\middle\\vert{"+n+"}\\right\\rangle":r?"\\langle{"+n+"}\\vert{"+i+"}\\rangle":"\\left\\langle{"+n+"}\\middle\\vert{"+i+"}\\right\\rangle",t.Push(new Rt.default(o,t.stack.env,t.configuration).mml())},Pm.KetBra=function(t,e){var r=t.GetStar(),n=t.GetArgument(e),i=null;"{"===t.GetNext()&&(i=t.GetArgument(e,!0));var o="";o=null==i?r?"\\vert{"+n+"}\\rangle\\!\\langle{"+n+"}\\vert":"\\left\\vert{"+n+"}\\middle\\rangle\\!\\middle\\langle{"+n+"}\\right\\vert":r?"\\vert{"+n+"}\\rangle\\!\\langle{"+i+"}\\vert":"\\left\\vert{"+n+"}\\middle\\rangle\\!\\middle\\langle{"+i+"}\\right\\vert",t.Push(new Rt.default(o,t.stack.env,t.configuration).mml())},Pm.Expectation=function(t,e){var r=t.GetStar(),n=r&&t.GetStar(),i=t.GetArgument(e),o=null;"{"===t.GetNext()&&(o=t.GetArgument(e,!0));var s=i&&o?Gm([o,i,o],r,n):r?"\\langle {"+i+"} \\rangle":"\\left\\langle {"+i+"} \\right\\rangle";t.Push(new Rt.default(s,t.stack.env,t.configuration).mml())},Pm.MatrixElement=function(t,e){var r=t.GetStar(),n=r&&t.GetStar(),i=Gm([t.GetArgument(e),t.GetArgument(e),t.GetArgument(e)],r,n);t.Push(new Rt.default(i,t.stack.env,t.configuration).mml())},Pm.MatrixQuantity=function(t,e,r){var n=t.GetStar(),i=r?"smallmatrix":"array",o="",s="",a="";switch(t.GetNext()){case"{":o=t.GetArgument(e);break;case"(":t.i++,s=n?"\\lgroup":"(",a=n?"\\rgroup":")",o=t.GetUpTo(e,")");break;case"[":t.i++,s="[",a="]",o=t.GetUpTo(e,"]");break;case"|":t.i++,s="|",a="|",o=t.GetUpTo(e,"|");break;default:s="(",a=")"}var l=(s?"\\left":"")+s+"\\begin{"+i+"}{} "+o+"\\end{"+i+"}"+(s?"\\right":"")+a;t.Push(new Rt.default(l,t.stack.env,t.configuration).mml())},Pm.IdentityMatrix=function(t,e){var r=t.GetArgument(e),n=parseInt(r,10);if(isNaN(n))throw new Ht.default("InvalidNumber","Invalid number");if(n<=1)return t.string="1"+t.string.slice(t.i),void(t.i=0);for(var i=Array(n).fill("0"),o=[],s=0;s<n;s++){var a=i.slice();a[s]="1",o.push(a.join(" & "))}t.string=o.join("\\\\ ")+t.string.slice(t.i),t.i=0},Pm.XMatrix=function(t,e){var r=t.GetStar(),n=t.GetArgument(e),i=t.GetArgument(e),o=t.GetArgument(e),s=parseInt(i,10),a=parseInt(o,10);if(isNaN(s)||isNaN(a)||a.toString()!==o||s.toString()!==i)throw new Ht.default("InvalidNumber","Invalid number");if(s=s<1?1:s,a=a<1?1:a,!r){var l=Array(a).fill(n).join(" & "),c=Array(s).fill(l).join("\\\\ ");return t.string=c+t.string.slice(t.i),void(t.i=0)}var u="";if(1===s&&1===a)u=n;else if(1===s){l=[];for(var h=1;h<=a;h++)l.push(n+"_{"+h+"}");u=l.join(" & ")}else if(1===a){for(l=[],h=1;h<=s;h++)l.push(n+"_{"+h+"}");u=l.join("\\\\ ")}else{var d=[];for(h=1;h<=s;h++){l=[];for(var f=1;f<=a;f++)l.push(n+"_{{"+h+"}{"+f+"}}");d.push(l.join(" & "))}u=d.join("\\\\ ")}t.string=u+t.string.slice(t.i),t.i=0},Pm.PauliMatrix=function(t,e){var r=t.GetArgument(e),n=r.slice(1);switch(r[0]){case"0":n+=" 1 & 0\\\\ 0 & 1";break;case"1":case"x":n+=" 0 & 1\\\\ 1 & 0";break;case"2":case"y":n+=" 0 & -i\\\\ i & 0";break;case"3":case"z":n+=" 1 & 0\\\\ 0 & -1"}t.string=n+t.string.slice(t.i),t.i=0},Pm.DiagonalMatrix=function(t,e,r){if("{"===t.GetNext()){var n=t.i;t.GetArgument(e);var i=t.i;t.i=n+1;for(var o=[],s="",a=t.i;a<i;){try{s=t.GetUpTo(e,",")}catch(e){t.i=i,o.push(t.string.slice(a,i-1));break}if(t.i>=i){o.push(t.string.slice(a,i));break}a=t.i,o.push(s)}t.string=function(t,e){for(var r=t.length,n=[],i=0;i<r;i++)n.push(Array(e?r-i:i+1).join("&")+"\\mqty{"+t[i]+"}");return n.join("\\\\ ")}(o,r)+t.string.slice(i),t.i=0}},Pm.AutoClose=function(t,e,r){var n=t.create("token","mo",{stretchy:!1},e),i=t.itemFactory.create("mml",n).setProperties({autoclose:e});t.Push(i)},Pm.Macro=qr.default.Macro,Pm.NamedFn=qr.default.NamedFn,Pm.Array=qr.default.Array,Rm.default=Pm,new er.CommandMap("Physics-automatic-bracing-macros",{quantity:"Quantity",qty:"Quantity",pqty:["Quantity","(",")",!0],bqty:["Quantity","[","]",!0],vqty:["Quantity","|","|",!0],Bqty:["Quantity","{","}",!0],absolutevalue:["Quantity","|","|",!0],abs:["Quantity","|","|",!0],norm:["Quantity","\\|","\\|",!0],evaluated:"Eval",eval:"Eval",order:["Quantity","(",")",!0,"O",Xr.TexConstant.Variant.CALLIGRAPHIC],commutator:"Commutator",comm:"Commutator",anticommutator:["Commutator","\\{","\\}"],acomm:["Commutator","\\{","\\}"],poissonbracket:["Commutator","\\{","\\}"],pb:["Commutator","\\{","\\}"]},Rm.default),new er.CharacterMap("Physics-vector-chars",en.default.mathchar0mi,{dotproduct:["⋅",{mathvariant:Xr.TexConstant.Variant.BOLD}],vdot:["⋅",{mathvariant:Xr.TexConstant.Variant.BOLD}],crossproduct:"×",cross:"×",cp:"×",gradientnabla:["∇",{mathvariant:Xr.TexConstant.Variant.BOLD}],real:["ℜ",{mathvariant:Xr.TexConstant.Variant.NORMAL}],imaginary:["ℑ",{mathvariant:Xr.TexConstant.Variant.NORMAL}]}),new er.CommandMap("Physics-vector-macros",{vectorbold:"VectorBold",vb:"VectorBold",vectorarrow:["StarMacro",1,"\\vec{\\vb","{#1}}"],va:["StarMacro",1,"\\vec{\\vb","{#1}}"],vectorunit:["StarMacro",1,"\\hat{\\vb","{#1}}"],vu:["StarMacro",1,"\\hat{\\vb","{#1}}"],gradient:["OperatorApplication","\\gradientnabla","(","["],grad:["OperatorApplication","\\gradientnabla","(","["],divergence:["VectorOperator","\\gradientnabla\\vdot","(","["],div:["VectorOperator","\\gradientnabla\\vdot","(","["],curl:["VectorOperator","\\gradientnabla\\crossproduct","(","["],laplacian:["OperatorApplication","\\nabla^2","(","["]},Rm.default),new er.CommandMap("Physics-expressions-macros",{sin:"Expression",sinh:"Expression",arcsin:"Expression",asin:"Expression",cos:"Expression",cosh:"Expression",arccos:"Expression",acos:"Expression",tan:"Expression",tanh:"Expression",arctan:"Expression",atan:"Expression",csc:"Expression",csch:"Expression",arccsc:"Expression",acsc:"Expression",sec:"Expression",sech:"Expression",arcsec:"Expression",asec:"Expression",cot:"Expression",coth:"Expression",arccot:"Expression",acot:"Expression",exp:["Expression",!1],log:"Expression",ln:"Expression",det:["Expression",!1],Pr:["Expression",!1],tr:["Expression",!1],trace:["Expression",!1,"tr"],Tr:["Expression",!1],Trace:["Expression",!1,"Tr"],rank:"NamedFn",erf:["Expression",!1],Res:["OperatorApplication","{\\rm Res}","(","[","{"],principalvalue:["OperatorApplication","{\\cal P}"],pv:["OperatorApplication","{\\cal P}"],PV:["OperatorApplication","{\\rm P.V.}"],Re:["OperatorApplication","{\\rm Re}","{"],Im:["OperatorApplication","{\\rm Im}","{"],sine:["NamedFn","sin"],hypsine:["NamedFn","sinh"],arcsine:["NamedFn","arcsin"],asine:["NamedFn","asin"],cosine:["NamedFn","cos"],hypcosine:["NamedFn","cosh"],arccosine:["NamedFn","arccos"],acosine:["NamedFn","acos"],tangent:["NamedFn","tan"],hyptangent:["NamedFn","tanh"],arctangent:["NamedFn","arctan"],atangent:["NamedFn","atan"],cosecant:["NamedFn","csc"],hypcosecant:["NamedFn","csch"],arccosecant:["NamedFn","arccsc"],acosecant:["NamedFn","acsc"],secant:["NamedFn","sec"],hypsecant:["NamedFn","sech"],arcsecant:["NamedFn","arcsec"],asecant:["NamedFn","asec"],cotangent:["NamedFn","cot"],hypcotangent:["NamedFn","coth"],arccotangent:["NamedFn","arccot"],acotangent:["NamedFn","acot"],exponential:["NamedFn","exp"],logarithm:["NamedFn","log"],naturallogarithm:["NamedFn","ln"],determinant:["NamedFn","det"],Probability:["NamedFn","Pr"]},Rm.default),new er.CommandMap("Physics-quick-quad-macros",{qqtext:"Qqtext",qq:"Qqtext",qcomma:["Macro","\\qqtext*{,}"],qc:["Macro","\\qqtext*{,}"],qcc:["Qqtext","c.c."],qif:["Qqtext","if"],qthen:["Qqtext","then"],qelse:["Qqtext","else"],qotherwise:["Qqtext","otherwise"],qunless:["Qqtext","unless"],qgiven:["Qqtext","given"],qusing:["Qqtext","using"],qassume:["Qqtext","assume"],"qsince,":["Qqtext","since,"],qlet:["Qqtext","let"],qfor:["Qqtext","for"],qall:["Qqtext","all"],qeven:["Qqtext","even"],qodd:["Qqtext","odd"],qinteger:["Qqtext","integer"],qand:["Qqtext","and"],qor:["Qqtext","or"],qas:["Qqtext","as"],qin:["Qqtext","in"]},Rm.default),new er.CommandMap("Physics-derivative-macros",{flatfrac:["Macro","\\left.#1\\middle/#2\\right.",2],differential:["Differential","{\\rm d}"],dd:["Differential","{\\rm d}"],variation:["Differential","\\delta"],var:["Differential","\\delta"],derivative:["Derivative",2,"{\\rm d}"],dv:["Derivative",2,"{\\rm d}"],partialderivative:["Derivative",3,"\\partial"],pderivative:["Derivative",3,"\\partial"],pdv:["Derivative",3,"\\partial"],functionalderivative:["Derivative",2,"\\delta"],fderivative:["Derivative",2,"\\delta"],fdv:["Derivative",2,"\\delta"]},Rm.default),new er.CommandMap("Physics-bra-ket-macros",{bra:"Bra",ket:"Ket",innerproduct:"BraKet",braket:"BraKet",outerproduct:"KetBra",dyad:"KetBra",ketbra:"KetBra",op:"KetBra",expectationvalue:"Expectation",expval:"Expectation",ev:"Expectation",matrixelement:"MatrixElement",matrixel:"MatrixElement",mel:"MatrixElement"},Rm.default),new er.CommandMap("Physics-matrix-macros",{matrixquantity:"MatrixQuantity",mqty:"MatrixQuantity",pmqty:["Macro","\\mqty(#1)",1],Pmqty:["Macro","\\mqty*(#1)",1],bmqty:["Macro","\\mqty[#1]",1],vmqty:["Macro","\\mqty|#1|",1],smallmatrixquantity:["MatrixQuantity",!0],smqty:["MatrixQuantity",!0],spmqty:["Macro","\\smqty(#1)",1],sPmqty:["Macro","\\smqty*(#1)",1],sbmqty:["Macro","\\smqty[#1]",1],svmqty:["Macro","\\smqty|#1|",1],matrixdeterminant:["Macro","\\vmqty{#1}",1],mdet:["Macro","\\vmqty{#1}",1],smdet:["Macro","\\svmqty{#1}",1],identitymatrix:"IdentityMatrix",imat:"IdentityMatrix",xmatrix:"XMatrix",xmat:"XMatrix",zeromatrix:["Macro","\\xmat{0}{#1}{#2}",2],zmat:["Macro","\\xmat{0}{#1}{#2}",2],paulimatrix:"PauliMatrix",pmat:"PauliMatrix",diagonalmatrix:"DiagonalMatrix",dmat:"DiagonalMatrix",antidiagonalmatrix:["DiagonalMatrix",!0],admat:["DiagonalMatrix",!0]},Rm.default),new er.EnvironmentMap("Physics-aux-envs",en.default.environment,{smallmatrix:["Array",null,null,null,"c","0.333em",".2em","S",1]},Rm.default),new er.MacroMap("Physics-characters",{"|":["AutoClose",Y.TEXCLASS.ORD],")":"AutoClose","]":"AutoClose"},Rm.default),Tm.PhysicsConfiguration=Ne.Configuration.create("physics",{handler:{macro:["Physics-automatic-bracing-macros","Physics-vector-macros","Physics-vector-chars","Physics-derivative-macros","Physics-expressions-macros","Physics-quick-quad-macros","Physics-bra-ket-macros","Physics-matrix-macros"],character:["Physics-characters"],environment:["Physics-aux-envs"]},items:(_m={},_m[Fm.AutoOpen.prototype.kind]=Fm.AutoOpen,_m)});var Um={},Km=Um&&Um.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Um,"__esModule",{value:!0}),Um.TagFormatConfiguration=Um.tagformatConfig=void 0;var Jm=0;function Qm(t,e){var r=e.parseOptions.options.tags;"base"!==r&&t.tags.hasOwnProperty(r)&&Oe.TagsFactory.add(r,t.tags[r]);var n=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return Km(r,t),r.prototype.formatNumber=function(t){return e.parseOptions.options.tagformat.number(t)},r.prototype.formatTag=function(t){return e.parseOptions.options.tagformat.tag(t)},r.prototype.formatId=function(t){return e.parseOptions.options.tagformat.id(t)},r.prototype.formatUrl=function(t,r){return e.parseOptions.options.tagformat.url(t,r)},r}(Oe.TagsFactory.create(e.parseOptions.options.tags).constructor),i="configTags-"+ ++Jm;Oe.TagsFactory.add(i,n),e.parseOptions.options.tags=i}Um.tagformatConfig=Qm,Um.TagFormatConfiguration=Ne.Configuration.create("tagformat",{config:[Qm,10],options:{tagformat:{number:function(t){return t.toString()},tag:function(t){return"("+t+")"},id:function(t){return"mjx-eqn:"+t.replace(/\s/g,"_")},url:function(t,e){return e+"#"+encodeURIComponent(t)}}}});var Ym,Zm={};Object.defineProperty(Zm,"__esModule",{value:!0}),Zm.TextMacrosConfiguration=Zm.textBase=void 0;var tg={},eg=tg&&tg.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),rg=tg&&tg.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ng=tg&&tg.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},ig=tg&&tg.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(tg,"__esModule",{value:!0}),tg.TextParser=void 0;var og=function(t){function e(e,r,n,i){var o=t.call(this,e,r,n)||this;return o.level=i,o}return eg(e,t),Object.defineProperty(e.prototype,"texParser",{get:function(){return this.configuration.packageData.get("textmacros").texParser},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tags",{get:function(){return this.texParser.tags},enumerable:!1,configurable:!0}),e.prototype.mml=function(){return null!=this.level?this.create("node","mstyle",this.nodes,{displaystyle:!1,scriptlevel:this.level}):1===this.nodes.length?this.nodes[0]:this.create("node","mrow",this.nodes)},e.prototype.Parse=function(){this.text="",this.nodes=[],this.envStack=[],t.prototype.Parse.call(this)},e.prototype.saveText=function(){if(this.text){var t=this.stack.env.mathvariant,e=Nt.default.internalText(this,this.text,t?{mathvariant:t}:{});this.text="",this.Push(e)}},e.prototype.Push=function(e){if(this.text&&this.saveText(),e instanceof yr.StopItem)return t.prototype.Push.call(this,e);e instanceof yr.StyleItem?this.stack.env.mathcolor=this.stack.env.color:e instanceof Y.AbstractMmlNode&&(this.addAttributes(e),this.nodes.push(e))},e.prototype.PushMath=function(t){var e,r,n=this.stack.env;try{for(var i=rg(["mathsize","mathcolor"]),o=i.next();!o.done;o=i.next()){var s=o.value;n[s]&&!t.attributes.getExplicit(s)&&(t.isToken||t.isKind("mstyle")||(t=this.create("node","mstyle",[t])),At.default.setAttribute(t,s,n[s]))}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}t.isInferred&&(t=this.create("node","mrow",t.childNodes)),this.nodes.push(t)},e.prototype.addAttributes=function(t){var e,r,n=this.stack.env;if(t.isToken)try{for(var i=rg(["mathsize","mathcolor","mathvariant"]),o=i.next();!o.done;o=i.next()){var s=o.value;n[s]&&!t.attributes.getExplicit(s)&&At.default.setAttribute(t,s,n[s])}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}},e.prototype.ParseTextArg=function(t,r){return new e(this.GetArgument(t),r=Object.assign(Object.assign({},this.stack.env),r),this.configuration).mml()},e.prototype.ParseArg=function(t){return new e(this.GetArgument(t),this.stack.env,this.configuration).mml()},e.prototype.Error=function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];throw new(Ht.default.bind.apply(Ht.default,ig([void 0,t,e],ng(r))))},e}(Rt.default);tg.TextParser=og;var sg={};Object.defineProperty(sg,"__esModule",{value:!0}),sg.TextMacrosMethods=void 0,sg.TextMacrosMethods={Comment:function(t,e){for(;t.i<t.string.length&&"\n"!==t.string.charAt(t.i);)t.i++;t.i++},Math:function(t,e){t.saveText();for(var r,n,i=t.i,o=0;n=t.GetNext();)switch(r=t.i++,n){case"\\":")"===t.GetCS()&&(n="\\(");case"$":if(0===o&&e===n){var s=t.texParser.configuration,a=new Rt.default(t.string.substr(i,r-i),t.stack.env,s).mml();return void t.PushMath(a)}break;case"{":o++;break;case"}":0===o&&t.Error("ExtraCloseMissingOpen","Extra close brace or missing open brace"),o--}t.Error("MathNotTerminated","Math-mode is not properly terminated")},MathModeOnly:function(t,e){t.Error("MathModeOnly","'%1' allowed only in math mode",e)},Misplaced:function(t,e){t.Error("Misplaced","'%1' can not be used here",e)},OpenBrace:function(t,e){var r=t.stack.env;t.envStack.push(r),t.stack.env=Object.assign({},r)},CloseBrace:function(t,e){t.envStack.length?(t.saveText(),t.stack.env=t.envStack.pop()):t.Error("ExtraCloseMissingOpen","Extra close brace or missing open brace")},OpenQuote:function(t,e){t.string.charAt(t.i)===e?(t.text+="“",t.i++):t.text+="‘"},CloseQuote:function(t,e){t.string.charAt(t.i)===e?(t.text+="”",t.i++):t.text+="’"},Tilde:function(t,e){t.text+=" "},Space:function(t,e){for(t.text+=" ";t.GetNext().match(/\s/);)t.i++},SelfQuote:function(t,e){t.text+=e.substr(1)},Insert:function(t,e,r){t.text+=r},Accent:function(t,e,r){var n=t.ParseArg(e),i=t.create("token","mo",{},r);t.addAttributes(i),t.Push(t.create("node","mover",[n,i]))},Emph:function(t,e){var r="-tex-mathit"===t.stack.env.mathvariant?"normal":"-tex-mathit";t.Push(t.ParseTextArg(e,{mathvariant:r}))},SetFont:function(t,e,r){t.saveText(),t.stack.env.mathvariant=r},SetSize:function(t,e,r){t.saveText(),t.stack.env.mathsize=r},CheckAutoload:function(t,e){var r=t.configuration.packageData.get("autoload"),n=t.texParser;e=e.slice(1);var i=n.lookup("macro",e);if(!i||r&&i._func===r.Autoload){if(n.parse("macro",[n,e]),!i)return;f.retryAfter(Promise.resolve())}n.parse("macro",[t,e])},Macro:qr.default.Macro,Spacer:qr.default.Spacer,Hskip:qr.default.Hskip,rule:qr.default.rule,Rule:qr.default.Rule,HandleRef:qr.default.HandleRef};var ag={};function lg(t,e,r,n){var i=t.configuration.packageData.get("textmacros");return t instanceof tg.TextParser||(i.texParser=t),[new tg.TextParser(e,n?{mathvariant:n}:{},i.parseOptions,r).mml()]}Object.defineProperty(ag,"__esModule",{value:!0}),new er.MacroMap("text-special",{$:"Math","%":"Comment","^":"MathModeOnly",_:"MathModeOnly","&":"Misplaced","#":"Misplaced","~":"Tilde"," ":"Space","\t":"Space","\r":"Space","\n":"Space"," ":"Tilde","{":"OpenBrace","}":"CloseBrace","`":"OpenQuote","'":"CloseQuote"},sg.TextMacrosMethods),new er.CommandMap("text-macros",{"(":"Math",$:"SelfQuote",_:"SelfQuote","%":"SelfQuote","{":"SelfQuote","}":"SelfQuote"," ":"SelfQuote","&":"SelfQuote","#":"SelfQuote","\\":"SelfQuote","'":["Accent","´"],"’":["Accent","´"],"`":["Accent","`"],"‘":["Accent","`"],"^":["Accent","^"],'"':["Accent","¨"],"~":["Accent","~"],"=":["Accent","¯"],".":["Accent","˙"],u:["Accent","˘"],v:["Accent","ˇ"],emph:"Emph",rm:["SetFont",Xr.TexConstant.Variant.NORMAL],mit:["SetFont",Xr.TexConstant.Variant.ITALIC],oldstyle:["SetFont",Xr.TexConstant.Variant.OLDSTYLE],cal:["SetFont",Xr.TexConstant.Variant.CALLIGRAPHIC],it:["SetFont","-tex-mathit"],bf:["SetFont",Xr.TexConstant.Variant.BOLD],bbFont:["SetFont",Xr.TexConstant.Variant.DOUBLESTRUCK],scr:["SetFont",Xr.TexConstant.Variant.SCRIPT],frak:["SetFont",Xr.TexConstant.Variant.FRAKTUR],sf:["SetFont",Xr.TexConstant.Variant.SANSSERIF],tt:["SetFont",Xr.TexConstant.Variant.MONOSPACE],tiny:["SetSize",.5],Tiny:["SetSize",.6],scriptsize:["SetSize",.7],small:["SetSize",.85],normalsize:["SetSize",1],large:["SetSize",1.2],Large:["SetSize",1.44],LARGE:["SetSize",1.73],huge:["SetSize",2.07],Huge:["SetSize",2.49],Bbb:["Macro","{\\bbFont #1}",1],textrm:["Macro","{\\rm #1}",1],textit:["Macro","{\\it #1}",1],textbf:["Macro","{\\bf #1}",1],textsf:["Macro","{\\sf #1}",1],texttt:["Macro","{\\tt #1}",1],dagger:["Insert","†"],ddagger:["Insert","‡"],S:["Insert","§"],",":["Spacer",Kr.MATHSPACE.thinmathspace],":":["Spacer",Kr.MATHSPACE.mediummathspace],">":["Spacer",Kr.MATHSPACE.mediummathspace],";":["Spacer",Kr.MATHSPACE.thickmathspace],"!":["Spacer",Kr.MATHSPACE.negativethinmathspace],enspace:["Spacer",.5],quad:["Spacer",1],qquad:["Spacer",2],thinspace:["Spacer",Kr.MATHSPACE.thinmathspace],negthinspace:["Spacer",Kr.MATHSPACE.negativethinmathspace],hskip:"Hskip",hspace:"Hskip",kern:"Hskip",mskip:"Hskip",mspace:"Hskip",mkern:"Hskip",rule:"rule",Rule:["Rule"],Space:["Rule","blank"],color:"CheckAutoload",textcolor:"CheckAutoload",colorbox:"CheckAutoload",fcolorbox:"CheckAutoload",href:"CheckAutoload",style:"CheckAutoload",class:"CheckAutoload",cssId:"CheckAutoload",unicode:"CheckAutoload",ref:["HandleRef",!1],eqref:["HandleRef",!0]},sg.TextMacrosMethods),Zm.textBase=Ne.Configuration.local({handler:{character:["command","text-special"],macro:["text-macros"]},fallback:{character:function(t,e){t.text+=e},macro:function(t,e){var r=t.texParser,n=r.lookup("macro",e);n&&n._func!==sg.TextMacrosMethods.Macro&&t.Error("MathMacro","%1 is only supported in math mode","\\"+e),r.parse("macro",[t,e])}},items:(Ym={},Ym[yr.StartItem.prototype.kind]=yr.StartItem,Ym[yr.StopItem.prototype.kind]=yr.StopItem,Ym[yr.MmlItem.prototype.kind]=yr.MmlItem,Ym[yr.StyleItem.prototype.kind]=yr.StyleItem,Ym)}),Zm.TextMacrosConfiguration=Ne.Configuration.create("textmacros",{config:function(t,e){var r=new Ne.ParserConfiguration([]);r.append(Zm.textBase),r.init();var n=new ee.default(r,[]);n.options=e.parseOptions.options,r.config(e),Oe.TagsFactory.addTags(r.tags),n.tags=Oe.TagsFactory.getDefault(),n.tags.configuration=n,n.packageData=e.parseOptions.packageData,n.packageData.set("textmacros",{parseOptions:n,jax:e,texParser:null}),n.options.internalMath=lg},preprocessors:[function(t){var e=t.data.packageData.get("textmacros");e.parseOptions.nodeFactory.setMmlFactory(e.jax.mmlFactory)}]});var cg={};Object.defineProperty(cg,"__esModule",{value:!0}),cg.UnicodeConfiguration=cg.UnicodeMethods=void 0,cg.UnicodeMethods={};var ug={};cg.UnicodeMethods.Unicode=function(t,e){var r=t.GetBrackets(e),n=null,i=null;r&&(r.replace(/ /g,"").match(/^(\d+(\.\d*)?|\.\d+),(\d+(\.\d*)?|\.\d+)$/)?(n=r.replace(/ /g,"").split(/,/),i=t.GetBrackets(e)):i=r);var o=Nt.default.trimSpaces(t.GetArgument(e)).replace(/^0x/,"x");if(!o.match(/^(x[0-9A-Fa-f]+|[0-9]+)$/))throw new Ht.default("BadUnicode","Argument to \\unicode must be a number");var s=parseInt(o.match(/^x/)?"0"+o:o);ug[s]?i||(i=ug[s][2]):ug[s]=[800,200,i,s],n&&(ug[s][0]=Math.floor(1e3*parseFloat(n[0])),ug[s][1]=Math.floor(1e3*parseFloat(n[1])));var a=t.stack.env.font,l={};i?(ug[s][2]=l.fontfamily=i.replace(/'/g,"'"),a&&(a.match(/bold/)&&(l.fontweight="bold"),a.match(/italic|-mathit/)&&(l.fontstyle="italic"))):a&&(l.mathvariant=a);var c=t.create("token","mtext",l,zt.numeric(o));At.default.setProperty(c,"unicode",!0),t.Push(c)},new er.CommandMap("unicode",{unicode:"Unicode"},cg.UnicodeMethods),cg.UnicodeConfiguration=Ne.Configuration.create("unicode",{handler:{macro:["unicode"]}});var hg={};Object.defineProperty(hg,"__esModule",{value:!0}),hg.VerbConfiguration=hg.VerbMethods=void 0,hg.VerbMethods={},hg.VerbMethods.Verb=function(t,e){var r=t.GetNext(),n=++t.i;if(""===r)throw new Ht.default("MissingArgFor","Missing argument for %1",e);for(;t.i<t.string.length&&t.string.charAt(t.i)!==r;)t.i++;if(t.i===t.string.length)throw new Ht.default("NoClosingDelim","Can't find closing delimiter for %1",t.currentCS);var i=t.string.slice(n,t.i).replace(/ /g," ");t.i++,t.Push(t.create("token","mtext",{mathvariant:Xr.TexConstant.Variant.MONOSPACE},i))},new er.CommandMap("verb",{verb:"Verb"},hg.VerbMethods),hg.VerbConfiguration=Ne.Configuration.create("verb",{handler:{macro:["verb"]}}),"undefined"!=typeof MathJax&&MathJax.loader&&MathJax.loader.preLoad("[tex]/action","[tex]/ams","[tex]/amscd","[tex]/bbox","[tex]/boldsymbol","[tex]/braket","[tex]/bussproofs","[tex]/cancel","[tex]/color","[tex]/colorv2","[tex]/enclose","[tex]/extpfeil","[tex]/html","[tex]/mhchem","[tex]/newcommand","[tex]/noerrors","[tex]/noundefined","[tex]/physics","[tex]/unicode","[tex]/verb","[tex]/configmacros","[tex]/tagformat","[tex]/textmacros"),Sf.AllPackages=["base","action","ams","amscd","bbox","boldsymbol","braket","bussproofs","cancel","color","enclose","extpfeil","html","mhchem","newcommand","noerrors","noundefined","unicode","verb","configmacros","tagformat","textmacros"];var dg={};!function(){var t=function(){return this}();t||"undefined"==typeof window||(t=window);var e=function(t,r,n){"string"==typeof t?(2==arguments.length&&(n=r),e.modules[t]||(e.payloads[t]=n,e.modules[t]=null)):e.original?e.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};e.modules={},e.payloads={};var r,n,i=function(t,e,r){if("string"==typeof e){var n=a(t,e);if(null!=n)return r&&r(),n}else if("[object Array]"===Object.prototype.toString.call(e)){for(var i=[],s=0,l=e.length;s<l;++s){var c=a(t,e[s]);if(null==c&&o.original)return;i.push(c)}return r&&r.apply(null,i)||!0}},o=function(t,e){var r=i("",t,e);return null==r&&o.original?o.original.apply(this,arguments):r},s=function(t,e){if(-1!==e.indexOf("!")){var r=e.split("!");return s(t,r[0])+"!"+s(t,r[1])}if("."==e.charAt(0))for(e=t.split("/").slice(0,-1).join("/")+"/"+e;-1!==e.indexOf(".")&&n!=e;){var n=e;e=e.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return e},a=function(t,r){r=s(t,r);var n=e.modules[r];if(!n){if("function"==typeof(n=e.payloads[r])){var o={},a={id:r,uri:"",exports:o,packaged:!0};o=n((function(t,e){return i(r,t,e)}),o,a)||a.exports,e.modules[r]=o,delete e.payloads[r]}n=e.modules[r]=o||n}return n};n=t,(r="ace")&&(t[r]||(t[r]={}),n=t[r]),n.define&&n.define.packaged||(e.original=n.define,n.define=e,n.define.packaged=!0),n.acequire&&n.acequire.packaged||(o.original=n.acequire,n.acequire=o,n.acequire.packaged=!0)}(),ace.define("ace/lib/regexp",["require","exports","module"],(function(t,e,r){var n,i={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},o=void 0===i.exec.call(/()??/,"")[1],s=(n=/^/g,i.test.call(n,""),!n.lastIndex);function a(t){return(t.global?"g":"")+(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":"")}function l(t,e,r){if(Array.prototype.indexOf)return t.indexOf(e,r);for(var n=r||0;n<t.length;n++)if(t[n]===e)return n;return-1}s&&o||(RegExp.prototype.exec=function(t){var e,r,n=i.exec.apply(this,arguments);if("string"==typeof t&&n){if(!o&&n.length>1&&l(n,"")>-1&&(r=RegExp(this.source,i.replace.call(a(this),"g","")),i.replace.call(t.slice(n.index),r,(function(){for(var t=1;t<arguments.length-2;t++)void 0===arguments[t]&&(n[t]=void 0)}))),this._xregexp&&this._xregexp.captureNames)for(var c=1;c<n.length;c++)(e=this._xregexp.captureNames[c-1])&&(n[e]=n[c]);!s&&this.global&&!n[0].length&&this.lastIndex>n.index&&this.lastIndex--}return n},s||(RegExp.prototype.test=function(t){var e=i.exec.call(this,t);return e&&this.global&&!e[0].length&&this.lastIndex>e.index&&this.lastIndex--,!!e}))})),ace.define("ace/lib/es5-shim",["require","exports","module"],(function(t,e,r){function n(){}Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError("Function.prototype.bind called on incompatible "+e);var r=d.call(arguments,1),i=function(){if(this instanceof i){var n=e.apply(this,r.concat(d.call(arguments)));return Object(n)===n?n:this}return e.apply(t,r.concat(d.call(arguments)))};return e.prototype&&(n.prototype=e.prototype,i.prototype=new n,n.prototype=null),i});var i,o,s,a,l,c=Function.prototype.call,u=Array.prototype,h=Object.prototype,d=u.slice,f=c.bind(h.toString),p=c.bind(h.hasOwnProperty);if((l=p(h,"__defineGetter__"))&&(i=c.bind(h.__defineGetter__),o=c.bind(h.__defineSetter__),s=c.bind(h.__lookupGetter__),a=c.bind(h.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function t(t){var e=new Array(t+2);return e[0]=e[1]=0,e}var e,r=[];if(r.splice.apply(r,t(20)),r.splice.apply(r,t(26)),e=r.length,r.splice(5,0,"XXX"),r.length,e+1==r.length)return!0}()){var m=Array.prototype.splice;Array.prototype.splice=function(t,e){return arguments.length?m.apply(this,[void 0===t?0:t,void 0===e?this.length-t:e].concat(d.call(arguments,2))):[]}}else Array.prototype.splice=function(t,e){var r=this.length;t>0?t>r&&(t=r):null==t?t=0:t<0&&(t=Math.max(r+t,0)),t+e<r||(e=r-t);var n=this.slice(t,t+e),i=d.call(arguments,2),o=i.length;if(t===r)o&&this.push.apply(this,i);else{var s=Math.min(e,r-t),a=t+s,l=a+o-s,c=r-a,u=r-s;if(l<a)for(var h=0;h<c;++h)this[l+h]=this[a+h];else if(l>a)for(h=c;h--;)this[l+h]=this[a+h];if(o&&t===u)this.length=u,this.push.apply(this,i);else for(this.length=u+o,h=0;h<o;++h)this[t+h]=i[h]}return n};Array.isArray||(Array.isArray=function(t){return"[object Array]"==f(t)});var g,y,v=Object("a"),b="a"!=v[0]||!(0 in v);if(Array.prototype.forEach||(Array.prototype.forEach=function(t){var e=L(this),r=b&&"[object String]"==f(this)?this.split(""):e,n=arguments[1],i=-1,o=r.length>>>0;if("[object Function]"!=f(t))throw new TypeError;for(;++i<o;)i in r&&t.call(n,r[i],i,e)}),Array.prototype.map||(Array.prototype.map=function(t){var e=L(this),r=b&&"[object String]"==f(this)?this.split(""):e,n=r.length>>>0,i=Array(n),o=arguments[1];if("[object Function]"!=f(t))throw new TypeError(t+" is not a function");for(var s=0;s<n;s++)s in r&&(i[s]=t.call(o,r[s],s,e));return i}),Array.prototype.filter||(Array.prototype.filter=function(t){var e,r=L(this),n=b&&"[object String]"==f(this)?this.split(""):r,i=n.length>>>0,o=[],s=arguments[1];if("[object Function]"!=f(t))throw new TypeError(t+" is not a function");for(var a=0;a<i;a++)a in n&&(e=n[a],t.call(s,e,a,r)&&o.push(e));return o}),Array.prototype.every||(Array.prototype.every=function(t){var e=L(this),r=b&&"[object String]"==f(this)?this.split(""):e,n=r.length>>>0,i=arguments[1];if("[object Function]"!=f(t))throw new TypeError(t+" is not a function");for(var o=0;o<n;o++)if(o in r&&!t.call(i,r[o],o,e))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(t){var e=L(this),r=b&&"[object String]"==f(this)?this.split(""):e,n=r.length>>>0,i=arguments[1];if("[object Function]"!=f(t))throw new TypeError(t+" is not a function");for(var o=0;o<n;o++)if(o in r&&t.call(i,r[o],o,e))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(t){var e=L(this),r=b&&"[object String]"==f(this)?this.split(""):e,n=r.length>>>0;if("[object Function]"!=f(t))throw new TypeError(t+" is not a function");if(!n&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var i,o=0;if(arguments.length>=2)i=arguments[1];else for(;;){if(o in r){i=r[o++];break}if(++o>=n)throw new TypeError("reduce of empty array with no initial value")}for(;o<n;o++)o in r&&(i=t.call(void 0,i,r[o],o,e));return i}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(t){var e=L(this),r=b&&"[object String]"==f(this)?this.split(""):e,n=r.length>>>0;if("[object Function]"!=f(t))throw new TypeError(t+" is not a function");if(!n&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var i,o=n-1;if(arguments.length>=2)i=arguments[1];else for(;;){if(o in r){i=r[o--];break}if(--o<0)throw new TypeError("reduceRight of empty array with no initial value")}do{o in this&&(i=t.call(void 0,i,r[o],o,e))}while(o--);return i}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(t){var e=b&&"[object String]"==f(this)?this.split(""):L(this),r=e.length>>>0;if(!r)return-1;var n=0;for(arguments.length>1&&(n=B(arguments[1])),n=n>=0?n:Math.max(0,r+n);n<r;n++)if(n in e&&e[n]===t)return n;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(t){var e=b&&"[object String]"==f(this)?this.split(""):L(this),r=e.length>>>0;if(!r)return-1;var n=r-1;for(arguments.length>1&&(n=Math.min(n,B(arguments[1]))),n=n>=0?n:r-Math.abs(n);n>=0;n--)if(n in e&&t===e[n])return n;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(t){return t.__proto__||(t.constructor?t.constructor.prototype:h)}),!Object.getOwnPropertyDescriptor){Object.getOwnPropertyDescriptor=function(t,e){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object: "+t);if(p(t,e)){var r;if(r={enumerable:!0,configurable:!0},l){var n=t.__proto__;t.__proto__=h;var i=s(t,e),o=a(t,e);if(t.__proto__=n,i||o)return i&&(r.get=i),o&&(r.set=o),r}return r.value=t[e],r}}}(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(t){return Object.keys(t)}),Object.create)||(g=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var t={};for(var e in t)t[e]=null;return t.constructor=t.hasOwnProperty=t.propertyIsEnumerable=t.isPrototypeOf=t.toLocaleString=t.toString=t.valueOf=t.__proto__=null,t},Object.create=function(t,e){var r;if(null===t)r=g();else{if("object"!=typeof t)throw new TypeError("typeof prototype["+typeof t+"] != 'object'");var n=function(){};n.prototype=t,(r=new n).__proto__=t}return void 0!==e&&Object.defineProperties(r,e),r});function A(t){try{return Object.defineProperty(t,"sentinel",{}),"sentinel"in t}catch(t){}}if(Object.defineProperty){var C=A({}),w="undefined"==typeof document||A(document.createElement("div"));if(!C||!w)var x=Object.defineProperty}if(!Object.defineProperty||x){Object.defineProperty=function(t,e,r){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError("Object.defineProperty called on non-object: "+t);if("object"!=typeof r&&"function"!=typeof r||null===r)throw new TypeError("Property description must be an object: "+r);if(x)try{return x.call(Object,t,e,r)}catch(t){}if(p(r,"value"))if(l&&(s(t,e)||a(t,e))){var n=t.__proto__;t.__proto__=h,delete t[e],t[e]=r.value,t.__proto__=n}else t[e]=r.value;else{if(!l)throw new TypeError("getters & setters can not be defined on this javascript engine");p(r,"get")&&i(t,e,r.get),p(r,"set")&&o(t,e,r.set)}return t}}Object.defineProperties||(Object.defineProperties=function(t,e){for(var r in e)p(e,r)&&Object.defineProperty(t,r,e[r]);return t}),Object.seal||(Object.seal=function(t){return t}),Object.freeze||(Object.freeze=function(t){return t});try{Object.freeze((function(){}))}catch(t){Object.freeze=(y=Object.freeze,function(t){return"function"==typeof t?t:y(t)})}if(Object.preventExtensions||(Object.preventExtensions=function(t){return t}),Object.isSealed||(Object.isSealed=function(t){return!1}),Object.isFrozen||(Object.isFrozen=function(t){return!1}),Object.isExtensible||(Object.isExtensible=function(t){if(Object(t)===t)throw new TypeError;for(var e="";p(t,e);)e+="?";t[e]=!0;var r=p(t,e);return delete t[e],r}),!Object.keys){var E=!0,S=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],M=S.length;for(var O in{toString:null})E=!1;Object.keys=function(t){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError("Object.keys called on a non-object");var e=[];for(var r in t)p(t,r)&&e.push(r);if(E)for(var n=0,i=M;n<i;n++){var o=S[n];p(t,o)&&e.push(o)}return e}}Date.now||(Date.now=function(){return(new Date).getTime()});var _="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff";if(!String.prototype.trim||_.trim()){_="["+_+"]";var T=new RegExp("^"+_+_+"*"),F=new RegExp(_+_+"*$");String.prototype.trim=function(){return String(this).replace(T,"").replace(F,"")}}function B(t){return(t=+t)!=t?t=0:0!==t&&t!==1/0&&t!==-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}var L=function(t){if(null==t)throw new TypeError("can't convert "+t+" to object");return Object(t)}})),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],(function(t,e,r){t("./regexp"),t("./es5-shim")})),ace.define("ace/lib/dom",["require","exports","module"],(function(t,e,r){e.getDocumentHead=function(t){return t||(t=document),t.head||t.getElementsByTagName("head")[0]||t.documentElement},e.createElement=function(t,e){return document.createElementNS?document.createElementNS(e||"http://www.w3.org/1999/xhtml",t):document.createElement(t)},e.hasCssClass=function(t,e){return-1!==(t.className+"").split(/\s+/g).indexOf(e)},e.addCssClass=function(t,r){e.hasCssClass(t,r)||(t.className+=" "+r)},e.removeCssClass=function(t,e){for(var r=t.className.split(/\s+/g);;){var n=r.indexOf(e);if(-1==n)break;r.splice(n,1)}t.className=r.join(" ")},e.toggleCssClass=function(t,e){for(var r=t.className.split(/\s+/g),n=!0;;){var i=r.indexOf(e);if(-1==i)break;n=!1,r.splice(i,1)}return n&&r.push(e),t.className=r.join(" "),n},e.setCssClass=function(t,r,n){n?e.addCssClass(t,r):e.removeCssClass(t,r)},e.hasCssString=function(t,e){var r,n=0;if((e=e||document).createStyleSheet&&(r=e.styleSheets)){for(;n<r.length;)if(r[n++].owningElement.id===t)return!0}else if(r=e.getElementsByTagName("style"))for(;n<r.length;)if(r[n++].id===t)return!0;return!1},e.importCssString=function(t,r,n){if(n=n||document,r&&e.hasCssString(r,n))return null;var i;r&&(t+="\n/*# sourceURL=ace/css/"+r+" */"),n.createStyleSheet?((i=n.createStyleSheet()).cssText=t,r&&(i.owningElement.id=r)):((i=e.createElement("style")).appendChild(n.createTextNode(t)),r&&(i.id=r),e.getDocumentHead(n).appendChild(i))},e.importCssStylsheet=function(t,r){if(r.createStyleSheet)r.createStyleSheet(t);else{var n=e.createElement("link");n.rel="stylesheet",n.href=t,e.getDocumentHead(r).appendChild(n)}},e.getInnerWidth=function(t){return parseInt(e.computedStyle(t,"paddingLeft"),10)+parseInt(e.computedStyle(t,"paddingRight"),10)+t.clientWidth},e.getInnerHeight=function(t){return parseInt(e.computedStyle(t,"paddingTop"),10)+parseInt(e.computedStyle(t,"paddingBottom"),10)+t.clientHeight},e.scrollbarWidth=function(t){var r=e.createElement("ace_inner");r.style.width="100%",r.style.minWidth="0px",r.style.height="200px",r.style.display="block";var n=e.createElement("ace_outer"),i=n.style;i.position="absolute",i.left="-10000px",i.overflow="hidden",i.width="200px",i.minWidth="0px",i.height="150px",i.display="block",n.appendChild(r);var o=t.documentElement;o.appendChild(n);var s=r.offsetWidth;i.overflow="scroll";var a=r.offsetWidth;return s==a&&(a=n.clientWidth),o.removeChild(n),s-a},"undefined"!=typeof document?(void 0!==window.pageYOffset?(e.getPageScrollTop=function(){return window.pageYOffset},e.getPageScrollLeft=function(){return window.pageXOffset}):(e.getPageScrollTop=function(){return document.body.scrollTop},e.getPageScrollLeft=function(){return document.body.scrollLeft}),window.getComputedStyle?e.computedStyle=function(t,e){return e?(window.getComputedStyle(t,"")||{})[e]||"":window.getComputedStyle(t,"")||{}}:e.computedStyle=function(t,e){return e?t.currentStyle[e]:t.currentStyle},e.setInnerHtml=function(t,e){var r=t.cloneNode(!1);return r.innerHTML=e,t.parentNode.replaceChild(r,t),r},"textContent"in document.documentElement?(e.setInnerText=function(t,e){t.textContent=e},e.getInnerText=function(t){return t.textContent}):(e.setInnerText=function(t,e){t.innerText=e},e.getInnerText=function(t){return t.innerText}),e.getParentWindow=function(t){return t.defaultView||t.parentWindow}):e.importCssString=function(){}})),ace.define("ace/lib/oop",["require","exports","module"],(function(t,e,r){e.inherits=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})},e.mixin=function(t,e){for(var r in e)t[r]=e[r];return t},e.implement=function(t,r){e.mixin(t,r)}})),ace.define("ace/lib/keys",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop"],(function(t,e,r){t("./fixoldbrowsers");var n=t("./oop"),i=function(){var t,e,r={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(e in r.FUNCTION_KEYS)t=r.FUNCTION_KEYS[e].toLowerCase(),r[t]=parseInt(e,10);for(e in r.PRINTABLE_KEYS)t=r.PRINTABLE_KEYS[e].toLowerCase(),r[t]=parseInt(e,10);return n.mixin(r,r.MODIFIER_KEYS),n.mixin(r,r.PRINTABLE_KEYS),n.mixin(r,r.FUNCTION_KEYS),r.enter=r.return,r.escape=r.esc,r.del=r.delete,r[173]="-",function(){for(var t=["cmd","ctrl","alt","shift"],e=Math.pow(2,t.length);e--;)r.KEY_MODS[e]=t.filter((function(t){return e&r.KEY_MODS[t]})).join("-")+"-"}(),r.KEY_MODS[0]="",r.KEY_MODS[-1]="input-",r}();n.mixin(e,i),e.keyCodeToString=function(t){var e=i[t];return"string"!=typeof e&&(e=String.fromCharCode(t)),e.toLowerCase()}})),ace.define("ace/lib/useragent",["require","exports","module"],(function(t,e,r){if(e.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},e.getOS=function(){return e.isMac?e.OS.MAC:e.isLinux?e.OS.LINUX:e.OS.WINDOWS},"object"==typeof navigator){var n=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),i=navigator.userAgent;e.isWin="win"==n,e.isMac="mac"==n,e.isLinux="linux"==n,e.isIE="Microsoft Internet Explorer"==navigator.appName||navigator.appName.indexOf("MSAppHost")>=0?parseFloat((i.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((i.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),e.isOldIE=e.isIE&&e.isIE<9,e.isGecko=e.isMozilla=(window.Controllers||window.controllers)&&"Gecko"===window.navigator.product,e.isOldGecko=e.isGecko&&parseInt((i.match(/rv:(\d+)/)||[])[1],10)<4,e.isOpera=window.opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),e.isWebKit=parseFloat(i.split("WebKit/")[1])||void 0,e.isChrome=parseFloat(i.split(" Chrome/")[1])||void 0,e.isAIR=i.indexOf("AdobeAIR")>=0,e.isIPad=i.indexOf("iPad")>=0,e.isChromeOS=i.indexOf(" CrOS ")>=0,e.isIOS=/iPad|iPhone|iPod/.test(i)&&!window.MSStream,e.isIOS&&(e.isMac=!0)}})),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(t,e,r){var n=t("./keys"),i=t("./useragent"),o=null,s=0;e.addListener=function(t,e,r){if(t.addEventListener)return t.addEventListener(e,r,!1);if(t.attachEvent){var n=function(){r.call(t,window.event)};r._wrapper=n,t.attachEvent("on"+e,n)}},e.removeListener=function(t,e,r){if(t.removeEventListener)return t.removeEventListener(e,r,!1);t.detachEvent&&t.detachEvent("on"+e,r._wrapper||r)},e.stopEvent=function(t){return e.stopPropagation(t),e.preventDefault(t),!1},e.stopPropagation=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},e.preventDefault=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},e.getButton=function(t){return"dblclick"==t.type?0:"contextmenu"==t.type||i.isMac&&t.ctrlKey&&!t.altKey&&!t.shiftKey?2:t.preventDefault?t.button:{1:0,2:2,4:1}[t.button]},e.capture=function(t,r,n){function i(t){r&&r(t),n&&n(t),e.removeListener(document,"mousemove",r,!0),e.removeListener(document,"mouseup",i,!0),e.removeListener(document,"dragstart",i,!0)}return e.addListener(document,"mousemove",r,!0),e.addListener(document,"mouseup",i,!0),e.addListener(document,"dragstart",i,!0),i},e.addTouchMoveListener=function(t,r){var n,i;e.addListener(t,"touchstart",(function(t){var e=t.touches[0];n=e.clientX,i=e.clientY})),e.addListener(t,"touchmove",(function(t){var e=t.touches;if(!(e.length>1)){var o=e[0];t.wheelX=n-o.clientX,t.wheelY=i-o.clientY,n=o.clientX,i=o.clientY,r(t)}}))},e.addMouseWheelListener=function(t,r){"onmousewheel"in t?e.addListener(t,"mousewheel",(function(t){void 0!==t.wheelDeltaX?(t.wheelX=-t.wheelDeltaX/8,t.wheelY=-t.wheelDeltaY/8):(t.wheelX=0,t.wheelY=-t.wheelDelta/8),r(t)})):"onwheel"in t?e.addListener(t,"wheel",(function(t){switch(t.deltaMode){case t.DOM_DELTA_PIXEL:t.wheelX=.35*t.deltaX||0,t.wheelY=.35*t.deltaY||0;break;case t.DOM_DELTA_LINE:case t.DOM_DELTA_PAGE:t.wheelX=5*(t.deltaX||0),t.wheelY=5*(t.deltaY||0)}r(t)})):e.addListener(t,"DOMMouseScroll",(function(t){t.axis&&t.axis==t.HORIZONTAL_AXIS?(t.wheelX=5*(t.detail||0),t.wheelY=0):(t.wheelX=0,t.wheelY=5*(t.detail||0)),r(t)}))},e.addMultiMouseDownListener=function(t,r,n,o){var s,a,l,c=0,u={2:"dblclick",3:"tripleclick",4:"quadclick"};function h(t){if(0!==e.getButton(t)?c=0:t.detail>1?++c>4&&(c=1):c=1,i.isIE){var h=Math.abs(t.clientX-s)>5||Math.abs(t.clientY-a)>5;l&&!h||(c=1),l&&clearTimeout(l),l=setTimeout((function(){l=null}),r[c-1]||600),1==c&&(s=t.clientX,a=t.clientY)}if(t._clicks=c,n[o]("mousedown",t),c>4)c=0;else if(c>1)return n[o](u[c],t)}function d(t){c=2,l&&clearTimeout(l),l=setTimeout((function(){l=null}),r[c-1]||600),n[o]("mousedown",t),n[o](u[c],t)}Array.isArray(t)||(t=[t]),t.forEach((function(t){e.addListener(t,"mousedown",h),i.isOldIE&&e.addListener(t,"dblclick",d)}))};var a=i.isMac&&i.isOpera&&!("KeyboardEvent"in window)?function(t){return 0|(t.metaKey?1:0)|(t.altKey?2:0)|(t.shiftKey?4:0)|(t.ctrlKey?8:0)}:function(t){return 0|(t.ctrlKey?1:0)|(t.altKey?2:0)|(t.shiftKey?4:0)|(t.metaKey?8:0)};function l(t,e,r){var l=a(e);if(!i.isMac&&o){if(e.getModifierState&&(e.getModifierState("OS")||e.getModifierState("Win"))&&(l|=8),o.altGr){if(3==(3&l))return;o.altGr=0}if(18===r||17===r){var c="location"in e?e.location:e.keyLocation;if(17===r&&1===c)1==o[r]&&(s=e.timeStamp);else if(18===r&&3===l&&2===c){e.timeStamp-s<50&&(o.altGr=!0)}}}if((r in n.MODIFIER_KEYS&&(r=-1),8&l&&r>=91&&r<=93&&(r=-1),!l&&13===r)&&(3===(c="location"in e?e.location:e.keyLocation)&&(t(e,l,-r),e.defaultPrevented)))return;if(i.isChromeOS&&8&l){if(t(e,l,r),e.defaultPrevented)return;l&=-9}return!!(l||r in n.FUNCTION_KEYS||r in n.PRINTABLE_KEYS)&&t(e,l,r)}function c(){o=Object.create(null)}if(e.getModifierString=function(t){return n.KEY_MODS[a(t)]},e.addCommandKeyListener=function(t,r){var n=e.addListener;if(i.isOldGecko||i.isOpera&&!("KeyboardEvent"in window)){var s=null;n(t,"keydown",(function(t){s=t.keyCode})),n(t,"keypress",(function(t){return l(r,t,s)}))}else{var a=null;n(t,"keydown",(function(t){o[t.keyCode]=(o[t.keyCode]||0)+1;var e=l(r,t,t.keyCode);return a=t.defaultPrevented,e})),n(t,"keypress",(function(t){a&&(t.ctrlKey||t.altKey||t.shiftKey||t.metaKey)&&(e.stopEvent(t),a=null)})),n(t,"keyup",(function(t){o[t.keyCode]=null})),o||(c(),n(window,"focus",c))}},"object"==typeof window&&window.postMessage&&!i.isOldIE){e.nextTick=function(t,r){r=r||window;var n="zero-timeout-message-1";e.addListener(r,"message",(function i(o){o.data==n&&(e.stopPropagation(o),e.removeListener(r,"message",i),t())})),r.postMessage(n,"*")}}e.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),e.nextFrame?e.nextFrame=e.nextFrame.bind(window):e.nextFrame=function(t){setTimeout(t,17)}})),ace.define("ace/lib/lang",["require","exports","module"],(function(t,e,r){e.last=function(t){return t[t.length-1]},e.stringReverse=function(t){return t.split("").reverse().join("")},e.stringRepeat=function(t,e){for(var r="";e>0;)1&e&&(r+=t),e>>=1,t+=t;return r};var n=/^\s\s*/,i=/\s\s*$/;e.stringTrimLeft=function(t){return t.replace(n,"")},e.stringTrimRight=function(t){return t.replace(i,"")},e.copyObject=function(t){var e={};for(var r in t)e[r]=t[r];return e},e.copyArray=function(t){for(var e=[],r=0,n=t.length;r<n;r++)t[r]&&"object"==typeof t[r]?e[r]=this.copyObject(t[r]):e[r]=t[r];return e},e.deepCopy=function t(e){if("object"!=typeof e||!e)return e;var r;if(Array.isArray(e)){r=[];for(var n=0;n<e.length;n++)r[n]=t(e[n]);return r}if("[object Object]"!==Object.prototype.toString.call(e))return e;for(var n in r={},e)r[n]=t(e[n]);return r},e.arrayToMap=function(t){for(var e={},r=0;r<t.length;r++)e[t[r]]=1;return e},e.createMap=function(t){var e=Object.create(null);for(var r in t)e[r]=t[r];return e},e.arrayRemove=function(t,e){for(var r=0;r<=t.length;r++)e===t[r]&&t.splice(r,1)},e.escapeRegExp=function(t){return t.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},e.escapeHTML=function(t){return t.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},e.getMatchOffsets=function(t,e){var r=[];return t.replace(e,(function(t){r.push({offset:arguments[arguments.length-2],length:t.length})})),r},e.deferredCall=function(t){var e=null,r=function(){e=null,t()},n=function(t){return n.cancel(),e=setTimeout(r,t||0),n};return n.schedule=n,n.call=function(){return this.cancel(),t(),n},n.cancel=function(){return clearTimeout(e),e=null,n},n.isPending=function(){return e},n},e.delayedCall=function(t,e){var r=null,n=function(){r=null,t()},i=function(t){null==r&&(r=setTimeout(n,t||e))};return i.delay=function(t){r&&clearTimeout(r),r=setTimeout(n,t||e)},i.schedule=i,i.call=function(){this.cancel(),t()},i.cancel=function(){r&&clearTimeout(r),r=null},i.isPending=function(){return r},i}})),ace.define("ace/keyboard/textinput_ios",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/lib/keys"],(function(t,e,r){var n=t("../lib/event"),i=t("../lib/useragent"),o=t("../lib/dom"),s=t("../lib/lang"),a=t("../lib/keys"),l=a.KEY_MODS,c=i.isChrome<18,u=i.isIE;e.TextInput=function(t,e){var r=o.createElement("textarea");r.className=i.isIOS?"ace_text-input ace_text-input-ios":"ace_text-input",i.isTouchPad&&r.setAttribute("x-palm-disable-auto-cap",!0),r.setAttribute("wrap","off"),r.setAttribute("autocorrect","off"),r.setAttribute("autocapitalize","off"),r.setAttribute("spellcheck",!1),r.style.opacity="0",t.insertBefore(r,t.firstChild);var h="\n aaaa a\n",d=!1,f=!1,p=!1,m=!1,g="",y=!0;try{var v=document.activeElement===r}catch(t){}n.addListener(r,"blur",(function(t){e.onBlur(t),v=!1})),n.addListener(r,"focus",(function(t){v=!0,e.onFocus(t),C()})),this.focus=function(){if(g)return r.focus();r.style.position="fixed",r.focus()},this.blur=function(){r.blur()},this.isFocused=function(){return v};var b=s.delayedCall((function(){v&&C(y)})),A=s.delayedCall((function(){m||(r.value=h,v&&C())}));function C(t){if(!m){if(m=!0,x)e=0,n=t?0:r.value.length-1;else var e=4,n=5;try{r.setSelectionRange(e,n)}catch(t){}m=!1}}function w(){m||(r.value=h,i.isWebKit&&A.schedule())}i.isWebKit||e.addEventListener("changeSelection",(function(){e.selection.isEmpty()!=y&&(y=!y,b.schedule())})),w(),v&&e.onFocus();var x=null;this.setInputHandler=function(t){x=t},this.getInputHandler=function(){return x};var E=!1,S=function(t){4===r.selectionStart&&5===r.selectionEnd||(x&&(t=x(t),x=null),p?(C(),t&&e.onPaste(t),p=!1):t==h.substr(0)&&4===r.selectionStart?E?e.execCommand("del",{source:"ace"}):e.execCommand("backspace",{source:"ace"}):d||(t.substring(0,9)==h&&t.length>h.length?t=t.substr(9):t.substr(0,4)==h.substr(0,4)?t=t.substr(4,t.length-h.length+1):t.charAt(t.length-1)==h.charAt(0)&&(t=t.slice(0,-1)),t==h.charAt(0)||t.charAt(t.length-1)==h.charAt(0)&&(t=t.slice(0,-1)),t&&e.onTextInput(t)),d&&(d=!1),E&&(E=!1))},M=function(t){if(!m){var e=r.value;S(e),w()}},O=function(t,e,r){var n=t.clipboardData||window.clipboardData;if(n&&!c){var i=u||r?"Text":"text/plain";try{return e?!1!==n.setData(i,e):n.getData(i)}catch(t){if(!r)return O(t,e,!0)}}},_=function(t,o){var s=e.getCopyText();if(!s)return n.preventDefault(t);O(t,s)?(i.isIOS&&(f=o,r.value="\n aa"+s+"a a\n",r.setSelectionRange(4,4+s.length),d={value:s}),o?e.onCut():e.onCopy(),i.isIOS||n.preventDefault(t)):(d=!0,r.value=s,r.select(),setTimeout((function(){d=!1,w(),C(),o?e.onCut():e.onCopy()})))};n.addCommandKeyListener(r,e.onCommandKey.bind(e)),n.addListener(r,"select",(function(t){var n;0===(n=r).selectionStart&&n.selectionEnd===n.value.length?(e.selectAll(),C()):x&&C(e.selection.isEmpty())})),n.addListener(r,"input",M),n.addListener(r,"cut",(function(t){_(t,!0)})),n.addListener(r,"copy",(function(t){_(t,!1)})),n.addListener(r,"paste",(function(t){var o=O(t);"string"==typeof o?(o&&e.onPaste(o,t),i.isIE&&setTimeout(C),n.preventDefault(t)):(r.value="",p=!0)}));var T,F=function(){if(m&&e.onCompositionUpdate&&!e.$readOnly){var t=r.value.replace(/\x01/g,"");if(m.lastValue!==t&&(e.onCompositionUpdate(t),m.lastValue&&e.undo(),m.canUndo&&(m.lastValue=t),m.lastValue)){var n=e.selection.getRange();e.insert(m.lastValue),e.session.markUndoGroup(),m.range=e.selection.getRange(),e.selection.setRange(n),e.selection.clearSelection()}}},B=function(t){if(e.onCompositionEnd&&!e.$readOnly){var n=m;m=!1;var o=setTimeout((function(){o=null;var t=r.value.replace(/\x01/g,"");m||(t==n.lastValue?w():!n.lastValue&&t&&(w(),S(t)))}));x=function(t){return o&&clearTimeout(o),(t=t.replace(/\x01/g,""))==n.lastValue?"":(n.lastValue&&o&&e.undo(),t)},e.onCompositionEnd(),e.removeListener("mousedown",B),"compositionend"==t.type&&n.range&&e.selection.setRange(n.range),(!!i.isChrome&&i.isChrome>=53||!!i.isWebKit&&i.isWebKit>=603)&&M()}},L=s.delayedCall(F,50);function k(){clearTimeout(T),T=setTimeout((function(){g&&(r.style.cssText=g,g=""),null==e.renderer.$keepTextAreaAtCursor&&(e.renderer.$keepTextAreaAtCursor=!0,e.renderer.$moveTextAreaToCursor())}),0)}n.addListener(r,"compositionstart",(function(t){m||!e.onCompositionStart||e.$readOnly||((m={}).canUndo=e.session.$undoManager,e.onCompositionStart(),setTimeout(F,0),e.on("mousedown",B),m.canUndo&&!e.selection.isEmpty()&&(e.insert(""),e.session.markUndoGroup(),e.selection.clearSelection()),e.session.markUndoGroup())})),i.isGecko?n.addListener(r,"text",(function(){L.schedule()})):(n.addListener(r,"keyup",(function(){L.schedule()})),n.addListener(r,"keydown",(function(){L.schedule()}))),n.addListener(r,"compositionend",B),this.getElement=function(){return r},this.setReadOnly=function(t){r.readOnly=t},this.onContextMenu=function(t){E=!0,C(e.selection.isEmpty()),e._emit("nativecontextmenu",{target:e,domEvent:t}),this.moveToMouse(t,!0)},this.moveToMouse=function(t,s){g||(g=r.style.cssText),r.style.cssText=(s?"z-index:100000;":"")+"height:"+r.style.height+";"+(i.isIE?"opacity:0.1;":"");var a=e.container.getBoundingClientRect(),l=o.computedStyle(e.container),c=a.top+(parseInt(l.borderTopWidth)||0),u=a.left+(parseInt(a.borderLeftWidth)||0),h=a.bottom-c-r.clientHeight-2,d=function(t){r.style.left=t.clientX-u-2+"px",r.style.top=Math.min(t.clientY-c-2,h)+"px"};d(t),"mousedown"==t.type&&(e.renderer.$keepTextAreaAtCursor&&(e.renderer.$keepTextAreaAtCursor=null),clearTimeout(T),i.isWin&&n.capture(e.container,d,k))},this.onContextMenuClose=k;var R=function(t){e.textInput.onContextMenu(t),k()};if(n.addListener(r,"mouseup",R),n.addListener(r,"mousedown",(function(t){t.preventDefault(),k()})),n.addListener(e.renderer.scroller,"contextmenu",R),n.addListener(r,"contextmenu",R),i.isIOS){var D=null,P=!1;t.addEventListener("keydown",(function(t){D&&clearTimeout(D),P=!0})),t.addEventListener("keyup",(function(t){D=setTimeout((function(){P=!1}),100)}));var I=function(t){if(document.activeElement===r&&!P){if(f)return setTimeout((function(){f=!1}),100);var n=r.selectionStart,i=r.selectionEnd;if(r.setSelectionRange(4,5),n==i)switch(n){case 0:e.onCommandKey(null,0,a.up);break;case 1:e.onCommandKey(null,0,a.home);break;case 2:e.onCommandKey(null,l.option,a.left);break;case 4:e.onCommandKey(null,0,a.left);break;case 5:e.onCommandKey(null,0,a.right);break;case 7:e.onCommandKey(null,l.option,a.right);break;case 8:e.onCommandKey(null,0,a.end);break;case 9:e.onCommandKey(null,0,a.down)}else{switch(i){case 6:e.onCommandKey(null,l.shift,a.right);break;case 7:e.onCommandKey(null,l.shift|l.option,a.right);break;case 8:e.onCommandKey(null,l.shift,a.end);break;case 9:e.onCommandKey(null,l.shift,a.down)}switch(n){case 0:e.onCommandKey(null,l.shift,a.up);break;case 1:e.onCommandKey(null,l.shift,a.home);break;case 2:e.onCommandKey(null,l.shift|l.option,a.left);break;case 3:e.onCommandKey(null,l.shift,a.left)}}}};document.addEventListener("selectionchange",I),e.on("destroy",(function(){document.removeEventListener("selectionchange",I)}))}}})),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/keyboard/textinput_ios"],(function(t,e,r){var n=t("../lib/event"),i=t("../lib/useragent"),o=t("../lib/dom"),s=t("../lib/lang"),a=i.isChrome<18,l=i.isIE,c=t("./textinput_ios").TextInput;e.TextInput=function(t,e){if(i.isIOS)return c.call(this,t,e);var r=o.createElement("textarea");r.className="ace_text-input",r.setAttribute("wrap","off"),r.setAttribute("autocorrect","off"),r.setAttribute("autocapitalize","off"),r.setAttribute("spellcheck",!1),r.style.opacity="0",t.insertBefore(r,t.firstChild);var u="\u2028\u2028",h=!1,d=!1,f=!1,p="",m=!0;try{var g=document.activeElement===r}catch(t){}n.addListener(r,"blur",(function(t){e.onBlur(t),g=!1})),n.addListener(r,"focus",(function(t){g=!0,e.onFocus(t),b()})),this.focus=function(){if(p)return r.focus();var t=r.style.top;r.style.position="fixed",r.style.top="0px",r.focus(),setTimeout((function(){r.style.position="","0px"==r.style.top&&(r.style.top=t)}),0)},this.blur=function(){r.blur()},this.isFocused=function(){return g};var y=s.delayedCall((function(){g&&b(m)})),v=s.delayedCall((function(){f||(r.value=u,g&&b())}));function b(t){if(!f){if(f=!0,C)var e=0,n=t?0:r.value.length-1;else e=t?2:1,n=2;try{r.setSelectionRange(e,n)}catch(t){}f=!1}}function A(){f||(r.value=u,i.isWebKit&&v.schedule())}i.isWebKit||e.addEventListener("changeSelection",(function(){e.selection.isEmpty()!=m&&(m=!m,y.schedule())})),A(),g&&e.onFocus();var C=null;this.setInputHandler=function(t){C=t},this.getInputHandler=function(){return C};var w=!1,x=function(t){C&&(t=C(t),C=null),d?(b(),t&&e.onPaste(t),d=!1):t==u.charAt(0)?w?e.execCommand("del",{source:"ace"}):e.execCommand("backspace",{source:"ace"}):(t.substring(0,2)==u?t=t.substr(2):t.charAt(0)==u.charAt(0)?t=t.substr(1):t.charAt(t.length-1)==u.charAt(0)&&(t=t.slice(0,-1)),t.charAt(t.length-1)==u.charAt(0)&&(t=t.slice(0,-1)),t&&e.onTextInput(t)),w&&(w=!1)},E=function(t){if(!f){var e=r.value;x(e),A()}},S=function(t,e,r){var n=t.clipboardData||window.clipboardData;if(n&&!a){var i=l||r?"Text":"text/plain";try{return e?!1!==n.setData(i,e):n.getData(i)}catch(t){if(!r)return S(t,e,!0)}}},M=function(t,i){var o=e.getCopyText();if(!o)return n.preventDefault(t);S(t,o)?(i?e.onCut():e.onCopy(),n.preventDefault(t)):(h=!0,r.value=o,r.select(),setTimeout((function(){h=!1,A(),b(),i?e.onCut():e.onCopy()})))},O=function(t){M(t,!0)},_=function(t){M(t,!1)},T=function(t){var o=S(t);"string"==typeof o?(o&&e.onPaste(o,t),i.isIE&&setTimeout(b),n.preventDefault(t)):(r.value="",d=!0)};n.addCommandKeyListener(r,e.onCommandKey.bind(e)),n.addListener(r,"select",(function(t){var n;h?h=!1:0===(n=r).selectionStart&&n.selectionEnd===n.value.length?(e.selectAll(),b()):C&&b(e.selection.isEmpty())})),n.addListener(r,"input",E),n.addListener(r,"cut",O),n.addListener(r,"copy",_),n.addListener(r,"paste",T),"oncut"in r&&"oncopy"in r&&"onpaste"in r||n.addListener(t,"keydown",(function(t){if((!i.isMac||t.metaKey)&&t.ctrlKey)switch(t.keyCode){case 67:_(t);break;case 86:T(t);break;case 88:O(t)}}));var F,B=function(){if(f&&e.onCompositionUpdate&&!e.$readOnly){var t=r.value.replace(/\u2028/g,"");if(f.lastValue!==t&&(e.onCompositionUpdate(t),f.lastValue&&e.undo(),f.canUndo&&(f.lastValue=t),f.lastValue)){var n=e.selection.getRange();e.insert(f.lastValue),e.session.markUndoGroup(),f.range=e.selection.getRange(),e.selection.setRange(n),e.selection.clearSelection()}}},L=function(t){if(e.onCompositionEnd&&!e.$readOnly){var n=f;f=!1;var o=setTimeout((function(){o=null;var t=r.value.replace(/\u2028/g,"");f||(t==n.lastValue?A():!n.lastValue&&t&&(A(),x(t)))}));C=function(t){return o&&clearTimeout(o),(t=t.replace(/\u2028/g,""))==n.lastValue?"":(n.lastValue&&o&&e.undo(),t)},e.onCompositionEnd(),e.removeListener("mousedown",L),"compositionend"==t.type&&n.range&&e.selection.setRange(n.range),(!!i.isChrome&&i.isChrome>=53||!!i.isWebKit&&i.isWebKit>=603)&&E()}},k=s.delayedCall(B,50);function R(){clearTimeout(F),F=setTimeout((function(){p&&(r.style.cssText=p,p=""),null==e.renderer.$keepTextAreaAtCursor&&(e.renderer.$keepTextAreaAtCursor=!0,e.renderer.$moveTextAreaToCursor())}),0)}n.addListener(r,"compositionstart",(function(t){f||!e.onCompositionStart||e.$readOnly||((f={}).canUndo=e.session.$undoManager,e.onCompositionStart(),setTimeout(B,0),e.on("mousedown",L),f.canUndo&&!e.selection.isEmpty()&&(e.insert(""),e.session.markUndoGroup(),e.selection.clearSelection()),e.session.markUndoGroup())})),i.isGecko?n.addListener(r,"text",(function(){k.schedule()})):(n.addListener(r,"keyup",(function(){k.schedule()})),n.addListener(r,"keydown",(function(){k.schedule()}))),n.addListener(r,"compositionend",L),this.getElement=function(){return r},this.setReadOnly=function(t){r.readOnly=t},this.onContextMenu=function(t){w=!0,b(e.selection.isEmpty()),e._emit("nativecontextmenu",{target:e,domEvent:t}),this.moveToMouse(t,!0)},this.moveToMouse=function(t,s){p||(p=r.style.cssText),r.style.cssText=(s?"z-index:100000;":"")+"height:"+r.style.height+";"+(i.isIE?"opacity:0.1;":"");var a=e.container.getBoundingClientRect(),l=o.computedStyle(e.container),c=a.top+(parseInt(l.borderTopWidth)||0),u=a.left+(parseInt(a.borderLeftWidth)||0),h=a.bottom-c-r.clientHeight-2,d=function(t){r.style.left=t.clientX-u-2+"px",r.style.top=Math.min(t.clientY-c-2,h)+"px"};d(t),"mousedown"==t.type&&(e.renderer.$keepTextAreaAtCursor&&(e.renderer.$keepTextAreaAtCursor=null),clearTimeout(F),i.isWin&&n.capture(e.container,d,R))},this.onContextMenuClose=R;var D=function(t){e.textInput.onContextMenu(t),R()};n.addListener(r,"mouseup",D),n.addListener(r,"mousedown",(function(t){t.preventDefault(),R()})),n.addListener(e.renderer.scroller,"contextmenu",D),n.addListener(r,"contextmenu",D)}})),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],(function(t,e,r){t("../lib/dom"),t("../lib/event");var n=t("../lib/useragent");function i(t){t.$clickSelection=null;var e=t.editor;e.setDefaultHandler("mousedown",this.onMouseDown.bind(t)),e.setDefaultHandler("dblclick",this.onDoubleClick.bind(t)),e.setDefaultHandler("tripleclick",this.onTripleClick.bind(t)),e.setDefaultHandler("quadclick",this.onQuadClick.bind(t)),e.setDefaultHandler("mousewheel",this.onMouseWheel.bind(t)),e.setDefaultHandler("touchmove",this.onTouchMove.bind(t));["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach((function(e){t[e]=this[e]}),this),t.selectByLines=this.extendSelectionBy.bind(t,"getLineRange"),t.selectByWords=this.extendSelectionBy.bind(t,"getWordRange")}function o(t,e){if(t.start.row==t.end.row)var r=2*e.column-t.start.column-t.end.column;else if(t.start.row!=t.end.row-1||t.start.column||t.end.column)r=2*e.row-t.start.row-t.end.row;else var r=e.column-4;return r<0?{cursor:t.start,anchor:t.end}:{cursor:t.end,anchor:t.start}}(function(){this.onMouseDown=function(t){var e=t.inSelection(),r=t.getDocumentPosition();this.mousedownEvent=t;var i=this.editor,o=t.getButton();if(0!==o){var s=i.getSelectionRange().isEmpty();return i.$blockScrolling++,(s||1==o)&&i.selection.moveToPosition(r),i.$blockScrolling--,void(2==o&&(i.textInput.onContextMenu(t.domEvent),n.isMozilla||t.preventDefault()))}return this.mousedownEvent.time=Date.now(),!e||i.isFocused()||(i.focus(),!this.$focusTimout||this.$clickSelection||i.inMultiSelectMode)?(this.captureMouse(t),this.startSelect(r,t.domEvent._clicks>1),t.preventDefault()):(this.setState("focusWait"),void this.captureMouse(t))},this.startSelect=function(t,e){t=t||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var r=this.editor;r.$blockScrolling++,this.mousedownEvent.getShiftKey()?r.selection.selectToPosition(t):e||r.selection.moveToPosition(t),e||this.select(),r.renderer.scroller.setCapture&&r.renderer.scroller.setCapture(),r.setStyle("ace_selecting"),this.setState("select"),r.$blockScrolling--},this.select=function(){var t,e=this.editor,r=e.renderer.screenToTextCoordinates(this.x,this.y);if(e.$blockScrolling++,this.$clickSelection){var n=this.$clickSelection.comparePoint(r);if(-1==n)t=this.$clickSelection.end;else if(1==n)t=this.$clickSelection.start;else{var i=o(this.$clickSelection,r);r=i.cursor,t=i.anchor}e.selection.setSelectionAnchor(t.row,t.column)}e.selection.selectToPosition(r),e.$blockScrolling--,e.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(t){var e,r=this.editor,n=r.renderer.screenToTextCoordinates(this.x,this.y),i=r.selection[t](n.row,n.column);if(r.$blockScrolling++,this.$clickSelection){var s=this.$clickSelection.comparePoint(i.start),a=this.$clickSelection.comparePoint(i.end);if(-1==s&&a<=0)e=this.$clickSelection.end,i.end.row==n.row&&i.end.column==n.column||(n=i.start);else if(1==a&&s>=0)e=this.$clickSelection.start,i.start.row==n.row&&i.start.column==n.column||(n=i.end);else if(-1==s&&1==a)n=i.end,e=i.start;else{var l=o(this.$clickSelection,n);n=l.cursor,e=l.anchor}r.selection.setSelectionAnchor(e.row,e.column)}r.selection.selectToPosition(n),r.$blockScrolling--,r.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var t,e,r,n,i=(t=this.mousedownEvent.x,e=this.mousedownEvent.y,r=this.x,n=this.y,Math.sqrt(Math.pow(r-t,2)+Math.pow(n-e,2))),o=Date.now();(i>0||o-this.mousedownEvent.time>this.$focusTimout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(t){var e=t.getDocumentPosition(),r=this.editor,n=r.session.getBracketRange(e);n?(n.isEmpty()&&(n.start.column--,n.end.column++),this.setState("select")):(n=r.selection.getWordRange(e.row,e.column),this.setState("selectByWords")),this.$clickSelection=n,this.select()},this.onTripleClick=function(t){var e=t.getDocumentPosition(),r=this.editor;this.setState("selectByLines");var n=r.getSelectionRange();n.isMultiLine()&&n.contains(e.row,e.column)?(this.$clickSelection=r.selection.getLineRange(n.start.row),this.$clickSelection.end=r.selection.getLineRange(n.end.row).end):this.$clickSelection=r.selection.getLineRange(e.row),this.select()},this.onQuadClick=function(t){var e=this.editor;e.selectAll(),this.$clickSelection=e.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(t){if(!t.getAccelKey()){t.getShiftKey()&&t.wheelY&&!t.wheelX&&(t.wheelX=t.wheelY,t.wheelY=0);var e=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var r=this.$lastScroll,n=t.domEvent.timeStamp,i=n-r.t,o=t.wheelX/i,s=t.wheelY/i;i<250&&(o=(o+r.vx)/2,s=(s+r.vy)/2);var a=Math.abs(o/s),l=!1;if(a>=1&&e.renderer.isScrollableBy(t.wheelX*t.speed,0)&&(l=!0),a<=1&&e.renderer.isScrollableBy(0,t.wheelY*t.speed)&&(l=!0),l)r.allowed=n;else if(n-r.allowed<250){Math.abs(o)<=1.1*Math.abs(r.vx)&&Math.abs(s)<=1.1*Math.abs(r.vy)?(l=!0,r.allowed=n):r.allowed=0}return r.t=n,r.vx=o,r.vy=s,l?(e.renderer.scrollBy(t.wheelX*t.speed,t.wheelY*t.speed),t.stop()):void 0}},this.onTouchMove=function(t){this.editor._emit("mousewheel",t)}}).call(i.prototype),e.DefaultHandlers=i})),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],(function(t,e,r){t("./lib/oop");var n=t("./lib/dom");function i(t){this.isOpen=!1,this.$element=null,this.$parentNode=t}(function(){this.$init=function(){return this.$element=n.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(t){n.setInnerText(this.getElement(),t)},this.setHtml=function(t){this.getElement().innerHTML=t},this.setPosition=function(t,e){this.getElement().style.left=t+"px",this.getElement().style.top=e+"px"},this.setClassName=function(t){n.addCssClass(this.getElement(),t)},this.show=function(t,e,r){null!=t&&this.setText(t),null!=e&&null!=r&&this.setPosition(e,r),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(i.prototype),e.Tooltip=i})),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],(function(t,e,r){var n=t("../lib/dom"),i=t("../lib/oop"),o=t("../lib/event"),s=t("../tooltip").Tooltip;function a(t){s.call(this,t)}i.inherits(a,s),function(){this.setPosition=function(t,e){var r=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,i=this.getWidth(),o=this.getHeight();(t+=15)+i>r&&(t-=t+i-r),(e+=15)+o>n&&(e-=20+o),s.prototype.setPosition.call(this,t,e)}}.call(a.prototype),e.GutterHandler=function(t){var e,r,i,s=t.editor,l=s.renderer.$gutterLayer,c=new a(s.container);function u(){e&&(e=clearTimeout(e)),i&&(c.hide(),i=null,s._signal("hideGutterTooltip",c),s.removeEventListener("mousewheel",u))}function h(t){c.setPosition(t.x,t.y)}t.editor.setDefaultHandler("guttermousedown",(function(e){if(s.isFocused()&&0==e.getButton()&&"foldWidgets"!=l.getRegion(e)){var r=e.getDocumentPosition().row,n=s.session.selection;if(e.getShiftKey())n.selectTo(r,0);else{if(2==e.domEvent.detail)return s.selectAll(),e.preventDefault();t.$clickSelection=s.selection.getLineRange(r)}return t.setState("selectByLines"),t.captureMouse(e),e.preventDefault()}})),t.editor.setDefaultHandler("guttermousemove",(function(o){var a=o.domEvent.target||o.domEvent.srcElement;if(n.hasCssClass(a,"ace_fold-widget"))return u();i&&t.$tooltipFollowsMouse&&h(o),r=o,e||(e=setTimeout((function(){e=null,r&&!t.isMousePressed?function(){var e=r.getDocumentPosition().row,n=l.$annotations[e];if(!n)return u();if(e==s.session.getLength()){var o=s.renderer.pixelToScreenCoordinates(0,r.y).row,a=r.$pos;if(o>s.session.documentToScreenRow(a.row,a.column))return u()}if(i!=n)if(i=n.text.join("<br/>"),c.setHtml(i),c.show(),s._signal("showGutterTooltip",c),s.on("mousewheel",u),t.$tooltipFollowsMouse)h(r);else{var d=r.domEvent.target.getBoundingClientRect(),f=c.getElement().style;f.left=d.right+"px",f.top=d.bottom+"px"}}():u()}),50))})),o.addListener(s.renderer.$gutter,"mouseout",(function(t){r=null,i&&!e&&(e=setTimeout((function(){e=null,u()}),50))})),s.on("changeSession",u)}})),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(t,e,r){var n=t("../lib/event"),i=t("../lib/useragent"),o=e.MouseEvent=function(t,e){this.domEvent=t,this.editor=e,this.x=this.clientX=t.clientX,this.y=this.clientY=t.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){n.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){n.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var t=this.editor.getSelectionRange();if(t.isEmpty())this.$inSelection=!1;else{var e=this.getDocumentPosition();this.$inSelection=t.contains(e.row,e.column)}return this.$inSelection},this.getButton=function(){return n.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=i.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(o.prototype)})),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],(function(t,e,r){var n=t("../lib/dom"),i=t("../lib/event"),o=t("../lib/useragent");function s(t){var e=t.editor,r=n.createElement("img");r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",o.isOpera&&(r.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;");["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach((function(e){t[e]=this[e]}),this),e.addEventListener("mousedown",this.onMouseDown.bind(t));var s,l,c,u,h,d,f,p,m,g,y,v=e.container,b=0;function A(){var t=d;(function(t,r){var n=Date.now(),i=!r||t.row!=r.row,o=!r||t.column!=r.column;!g||i||o?(e.$blockScrolling+=1,e.moveCursorToPosition(t),e.$blockScrolling-=1,g=n,y={x:l,y:c}):a(y.x,y.y,l,c)>5?g=null:n-g>=200&&(e.renderer.scrollCursorIntoView(),g=null)})(d=e.renderer.screenToTextCoordinates(l,c),t),function(t,r){var n=Date.now(),i=e.renderer.layerConfig.lineHeight,o=e.renderer.layerConfig.characterWidth,s=e.renderer.scroller.getBoundingClientRect(),a={x:{left:l-s.left,right:s.right-l},y:{top:c-s.top,bottom:s.bottom-c}},u=Math.min(a.x.left,a.x.right),h=Math.min(a.y.top,a.y.bottom),d={row:t.row,column:t.column};u/o<=2&&(d.column+=a.x.left<a.x.right?-3:2),h/i<=1&&(d.row+=a.y.top<a.y.bottom?-1:1);var f=t.row!=d.row,p=t.column!=d.column,g=!r||t.row!=r.row;f||p&&!g?m?n-m>=200&&e.renderer.scrollCursorIntoView(d):m=n:m=null}(d,t)}function C(){h=e.selection.toOrientedRange(),s=e.session.addMarker(h,"ace_selection",e.getSelectionStyle()),e.clearSelection(),e.isFocused()&&e.renderer.$cursorLayer.setBlinking(!1),clearInterval(u),A(),u=setInterval(A,20),b=0,i.addListener(document,"mousemove",E)}function w(){clearInterval(u),e.session.removeMarker(s),s=null,e.$blockScrolling+=1,e.selection.fromOrientedRange(h),e.$blockScrolling-=1,e.isFocused()&&!p&&e.renderer.$cursorLayer.setBlinking(!e.getReadOnly()),h=null,d=null,b=0,m=null,g=null,i.removeListener(document,"mousemove",E)}this.onDragStart=function(t){if(this.cancelDrag||!v.draggable){var n=this;return setTimeout((function(){n.startSelect(),n.captureMouse(t)}),0),t.preventDefault()}h=e.getSelectionRange();var i=t.dataTransfer;i.effectAllowed=e.getReadOnly()?"copy":"copyMove",o.isOpera&&(e.container.appendChild(r),r.scrollTop=0),i.setDragImage&&i.setDragImage(r,0,0),o.isOpera&&e.container.removeChild(r),i.clearData(),i.setData("Text",e.session.getTextRange()),p=!0,this.setState("drag")},this.onDragEnd=function(t){if(v.draggable=!1,p=!1,this.setState(null),!e.getReadOnly()){var r=t.dataTransfer.dropEffect;f||"move"!=r||e.session.remove(e.getSelectionRange()),e.renderer.$cursorLayer.setBlinking(!0)}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(t){if(!e.getReadOnly()&&S(t.dataTransfer))return l=t.clientX,c=t.clientY,s||C(),b++,t.dataTransfer.dropEffect=f=M(t),i.preventDefault(t)},this.onDragOver=function(t){if(!e.getReadOnly()&&S(t.dataTransfer))return l=t.clientX,c=t.clientY,s||(C(),b++),null!==x&&(x=null),t.dataTransfer.dropEffect=f=M(t),i.preventDefault(t)},this.onDragLeave=function(t){if(--b<=0&&s)return w(),f=null,i.preventDefault(t)},this.onDrop=function(t){if(d){var r=t.dataTransfer;if(p)switch(f){case"move":h=h.contains(d.row,d.column)?{start:d,end:d}:e.moveText(h,d);break;case"copy":h=e.moveText(h,d,!0)}else{var n=r.getData("Text");h={start:d,end:e.session.insert(d,n)},e.focus(),f=null}return w(),i.preventDefault(t)}},i.addListener(v,"dragstart",this.onDragStart.bind(t)),i.addListener(v,"dragend",this.onDragEnd.bind(t)),i.addListener(v,"dragenter",this.onDragEnter.bind(t)),i.addListener(v,"dragover",this.onDragOver.bind(t)),i.addListener(v,"dragleave",this.onDragLeave.bind(t)),i.addListener(v,"drop",this.onDrop.bind(t));var x=null;function E(){null==x&&(x=setTimeout((function(){null!=x&&s&&w()}),20))}function S(t){var e=t.types;return!e||Array.prototype.some.call(e,(function(t){return"text/plain"==t||"Text"==t}))}function M(t){var e=["copy","copymove","all","uninitialized"],r=o.isMac?t.altKey:t.ctrlKey,n="uninitialized";try{n=t.dataTransfer.effectAllowed.toLowerCase()}catch(t){}var i="none";return r&&e.indexOf(n)>=0?i="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(n)>=0?i="move":e.indexOf(n)>=0&&(i="copy"),i}}function a(t,e,r,n){return Math.sqrt(Math.pow(r-t,2)+Math.pow(n-e,2))}(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(t){this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly()),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var t=this.editor;t.container.draggable=!0,t.renderer.$cursorLayer.setBlinking(!1),t.setStyle("ace_dragging");var e=o.isWin?"default":"move";t.renderer.setCursorStyle(e),this.setState("dragReady")},this.onMouseDrag=function(t){var e=this.editor.container;o.isIE&&"dragReady"==this.state&&(a(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>3&&e.dragDrop());"dragWait"===this.state&&(a(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>0&&(e.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition())))},this.onMouseDown=function(t){if(this.$dragEnabled){this.mousedownEvent=t;var e=this.editor,r=t.inSelection(),n=t.getButton();if(1===(t.domEvent.detail||1)&&0===n&&r){if(t.editor.inMultiSelectMode&&(t.getAccelKey()||t.getShiftKey()))return;this.mousedownEvent.time=Date.now();var i=t.domEvent.target||t.domEvent.srcElement;if("unselectable"in i&&(i.unselectable="on"),e.getDragDelay()){if(o.isWebKit)this.cancelDrag=!0,e.container.draggable=!0;this.setState("dragWait")}else this.startDrag();this.captureMouse(t,this.onMouseDrag.bind(this)),t.defaultPrevented=!0}}}}).call(s.prototype),e.DragdropHandler=s})),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],(function(t,e,r){var n=t("./dom");e.get=function(t,e){var r=new XMLHttpRequest;r.open("GET",t,!0),r.onreadystatechange=function(){4===r.readyState&&e(r.responseText)},r.send(null)},e.loadScript=function(t,e){var r=n.getDocumentHead(),i=document.createElement("script");i.src=t,r.appendChild(i),i.onload=i.onreadystatechange=function(t,r){!r&&i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(i=i.onload=i.onreadystatechange=null,r||e())}},e.qualifyURL=function(t){var e=document.createElement("a");return e.href=t,e.href}})),ace.define("ace/lib/event_emitter",["require","exports","module"],(function(t,e,r){var n={},i=function(){this.propagationStopped=!0},o=function(){this.defaultPrevented=!0};n._emit=n._dispatchEvent=function(t,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var r=this._eventRegistry[t]||[],n=this._defaultHandlers[t];if(r.length||n){"object"==typeof e&&e||(e={}),e.type||(e.type=t),e.stopPropagation||(e.stopPropagation=i),e.preventDefault||(e.preventDefault=o),r=r.slice();for(var s=0;s<r.length&&(r[s](e,this),!e.propagationStopped);s++);return n&&!e.defaultPrevented?n(e,this):void 0}},n._signal=function(t,e){var r=(this._eventRegistry||{})[t];if(r){r=r.slice();for(var n=0;n<r.length;n++)r[n](e,this)}},n.once=function(t,e){var r=this;e&&this.addEventListener(t,(function n(){r.removeEventListener(t,n),e.apply(null,arguments)}))},n.setDefaultHandler=function(t,e){var r=this._defaultHandlers;if(r||(r=this._defaultHandlers={_disabled_:{}}),r[t]){var n=r[t],i=r._disabled_[t];i||(r._disabled_[t]=i=[]),i.push(n);var o=i.indexOf(e);-1!=o&&i.splice(o,1)}r[t]=e},n.removeDefaultHandler=function(t,e){var r=this._defaultHandlers;if(r){var n=r._disabled_[t];if(r[t]==e){r[t];n&&this.setDefaultHandler(t,n.pop())}else if(n){var i=n.indexOf(e);-1!=i&&n.splice(i,1)}}},n.on=n.addEventListener=function(t,e,r){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[t];return n||(n=this._eventRegistry[t]=[]),-1==n.indexOf(e)&&n[r?"unshift":"push"](e),e},n.off=n.removeListener=n.removeEventListener=function(t,e){this._eventRegistry=this._eventRegistry||{};var r=this._eventRegistry[t];if(r){var n=r.indexOf(e);-1!==n&&r.splice(n,1)}},n.removeAllListeners=function(t){this._eventRegistry&&(this._eventRegistry[t]=[])},e.EventEmitter=n})),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(t,e,r){var n=t("./oop"),i=t("./event_emitter").EventEmitter,o={setOptions:function(t){Object.keys(t).forEach((function(e){this.setOption(e,t[e])}),this)},getOptions:function(t){var e={};return t?Array.isArray(t)||(e=t,t=Object.keys(e)):t=Object.keys(this.$options),t.forEach((function(t){e[t]=this.getOption(t)}),this),e},setOption:function(t,e){if(this["$"+t]!==e){var r=this.$options[t];if(!r)return s('misspelled option "'+t+'"');if(r.forwardTo)return this[r.forwardTo]&&this[r.forwardTo].setOption(t,e);r.handlesSet||(this["$"+t]=e),r&&r.set&&r.set.call(this,e)}},getOption:function(t){var e=this.$options[t];return e?e.forwardTo?this[e.forwardTo]&&this[e.forwardTo].getOption(t):e&&e.get?e.get.call(this):this["$"+t]:s('misspelled option "'+t+'"')}};function s(t){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function a(t,e){var r=new Error(t);r.data=e,"object"==typeof console&&console.error&&console.error(r),setTimeout((function(){throw r}))}var l=function(){this.$defaultOptions={}};(function(){n.implement(this,i),this.defineOptions=function(t,e,r){return t.$options||(this.$defaultOptions[e]=t.$options={}),Object.keys(r).forEach((function(e){var n=r[e];"string"==typeof n&&(n={forwardTo:n}),n.name||(n.name=e),t.$options[n.name]=n,"initialValue"in n&&(t["$"+n.name]=n.initialValue)})),n.implement(t,o),this},this.resetOptions=function(t){Object.keys(t.$options).forEach((function(e){var r=t.$options[e];"value"in r&&t.setOption(e,r.value)}))},this.setDefaultValue=function(t,e,r){var n=this.$defaultOptions[t]||(this.$defaultOptions[t]={});n[e]&&(n.forwardTo?this.setDefaultValue(n.forwardTo,e,r):n[e].value=r)},this.setDefaultValues=function(t,e){Object.keys(e).forEach((function(r){this.setDefaultValue(t,r,e[r])}),this)},this.warn=s,this.reportError=a}).call(l.prototype),e.AppConfig=l})),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],(function(t,e,r){var n=t("./lib/lang"),i=(t("./lib/oop"),t("./lib/net")),o=t("./lib/app_config").AppConfig;r.exports=e=new o;var s=function(){return this||"undefined"!=typeof window&&window}(),a={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{}};function l(n){if(s&&s.document){a.packaged=n||t.packaged||r.packaged||s.define&&define.packaged;for(var i,o={},l="",c=document.currentScript||document._currentScript,u=(c&&c.ownerDocument||document).getElementsByTagName("script"),h=0;h<u.length;h++){var d=u[h],f=d.src||d.getAttribute("src");if(f){for(var p=d.attributes,m=0,g=p.length;m<g;m++){var y=p[m];0===y.name.indexOf("data-ace-")&&(o[(i=y.name.replace(/^data-ace-/,""),i.replace(/-(.)/g,(function(t,e){return e.toUpperCase()})))]=y.value)}var v=f.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);v&&(l=v[1])}}for(var b in l&&(o.base=o.base||l,o.packaged=!0),o.basePath=o.base,o.workerPath=o.workerPath||o.base,o.modePath=o.modePath||o.base,o.themePath=o.themePath||o.base,delete o.base,o)void 0!==o[b]&&e.set(b,o[b])}}e.get=function(t){if(!a.hasOwnProperty(t))throw new Error("Unknown config key: "+t);return a[t]},e.set=function(t,e){if(!a.hasOwnProperty(t))throw new Error("Unknown config key: "+t);a[t]=e},e.all=function(){return n.copyObject(a)},e.moduleUrl=function(t,e){if(a.$moduleUrls[t])return a.$moduleUrls[t];var r=t.split("/"),n="snippets"==(e=e||r[r.length-2]||"")?"/":"-",i=r[r.length-1];if("worker"==e&&"-"==n){var o=new RegExp("^"+e+"[\\-_]|[\\-_]"+e+"$","g");i=i.replace(o,"")}(!i||i==e)&&r.length>1&&(i=r[r.length-2]);var s=a[e+"Path"];return null==s?s=a.basePath:"/"==n&&(e=n=""),s&&"/"!=s.slice(-1)&&(s+="/"),s+e+n+i+this.get("suffix")},e.setModuleUrl=function(t,e){return a.$moduleUrls[t]=e},e.$loading={},e.loadModule=function(r,n){var o,s;Array.isArray(r)&&(s=r[0],r=r[1]);try{o=t(r)}catch(t){}if(o&&!e.$loading[r])return n&&n(o);if(e.$loading[r]||(e.$loading[r]=[]),e.$loading[r].push(n),!(e.$loading[r].length>1)){var a=function(){t([r],(function(t){e._emit("load.module",{name:r,module:t});var n=e.$loading[r];e.$loading[r]=null,n.forEach((function(e){e&&e(t)}))}))};if(!e.get("packaged"))return a();i.loadScript(e.moduleUrl(r,s),a)}},l(!0),e.init=l})),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/config"],(function(t,e,r){var n=t("../lib/event"),i=t("../lib/useragent"),o=t("./default_handlers").DefaultHandlers,s=t("./default_gutter_handler").GutterHandler,a=t("./mouse_event").MouseEvent,l=t("./dragdrop_handler").DragdropHandler,c=t("../config"),u=function(t){var e=this;this.editor=t,new o(this),new s(this),new l(this);var r=function(e){(!document.hasFocus||!document.hasFocus()||!t.isFocused()&&document.activeElement==(t.textInput&&t.textInput.getElement()))&&window.focus(),t.focus()},a=t.renderer.getMouseEventTarget();n.addListener(a,"click",this.onMouseEvent.bind(this,"click")),n.addListener(a,"mousemove",this.onMouseMove.bind(this,"mousemove")),n.addMultiMouseDownListener([a,t.renderer.scrollBarV&&t.renderer.scrollBarV.inner,t.renderer.scrollBarH&&t.renderer.scrollBarH.inner,t.textInput&&t.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent"),n.addMouseWheelListener(t.container,this.onMouseWheel.bind(this,"mousewheel")),n.addTouchMoveListener(t.container,this.onTouchMove.bind(this,"touchmove"));var c=t.renderer.$gutter;n.addListener(c,"mousedown",this.onMouseEvent.bind(this,"guttermousedown")),n.addListener(c,"click",this.onMouseEvent.bind(this,"gutterclick")),n.addListener(c,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick")),n.addListener(c,"mousemove",this.onMouseEvent.bind(this,"guttermousemove")),n.addListener(a,"mousedown",r),n.addListener(c,"mousedown",r),i.isIE&&t.renderer.scrollBarV&&(n.addListener(t.renderer.scrollBarV.element,"mousedown",r),n.addListener(t.renderer.scrollBarH.element,"mousedown",r)),t.on("mousemove",(function(r){if(!e.state&&!e.$dragDelay&&e.$dragEnabled){var n=t.renderer.screenToTextCoordinates(r.x,r.y),i=t.session.selection.getRange(),o=t.renderer;!i.isEmpty()&&i.insideStart(n.row,n.column)?o.setCursorStyle("default"):o.setCursorStyle("")}}))};(function(){this.onMouseEvent=function(t,e){this.editor._emit(t,new a(e,this.editor))},this.onMouseMove=function(t,e){var r=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;r&&r.length&&this.editor._emit(t,new a(e,this.editor))},this.onMouseWheel=function(t,e){var r=new a(e,this.editor);r.speed=2*this.$scrollSpeed,r.wheelX=e.wheelX,r.wheelY=e.wheelY,this.editor._emit(t,r)},this.onTouchMove=function(t,e){var r=new a(e,this.editor);r.speed=1,r.wheelX=e.wheelX,r.wheelY=e.wheelY,this.editor._emit(t,r)},this.setState=function(t){this.state=t},this.captureMouse=function(t,e){this.x=t.x,this.y=t.y,this.isMousePressed=!0;var r=this.editor.renderer;r.$keepTextAreaAtCursor&&(r.$keepTextAreaAtCursor=null);var o=this,s=function(t){if(t){if(i.isWebKit&&!t.which&&o.releaseMouse)return o.releaseMouse();o.x=t.clientX,o.y=t.clientY,e&&e(t),o.mouseEvent=new a(t,o.editor),o.$mouseMoved=!0}},l=function(t){clearInterval(u),c(),o[o.state+"End"]&&o[o.state+"End"](t),o.state="",null==r.$keepTextAreaAtCursor&&(r.$keepTextAreaAtCursor=!0,r.$moveTextAreaToCursor()),o.isMousePressed=!1,o.$onCaptureMouseMove=o.releaseMouse=null,t&&o.onMouseEvent("mouseup",t)},c=function(){o[o.state]&&o[o.state](),o.$mouseMoved=!1};if(i.isOldIE&&"dblclick"==t.domEvent.type)return setTimeout((function(){l(t)}));o.$onCaptureMouseMove=s,o.releaseMouse=n.capture(this.editor.container,s,l);var u=setInterval(c,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var t=function(e){e&&e.domEvent&&"contextmenu"!=e.domEvent.type||(this.editor.off("nativecontextmenu",t),e&&e.domEvent&&n.stopEvent(e.domEvent))}.bind(this);setTimeout(t,10),this.editor.on("nativecontextmenu",t)}}).call(u.prototype),c.defineOptions(u.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:i.isMac?150:0},dragEnabled:{initialValue:!0},focusTimout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),e.MouseHandler=u})),ace.define("ace/mouse/fold_handler",["require","exports","module"],(function(t,e,r){e.FoldHandler=function(t){t.on("click",(function(e){var r=e.getDocumentPosition(),n=t.session,i=n.getFoldAt(r.row,r.column,1);i&&(e.getAccelKey()?n.removeFold(i):n.expandFold(i),e.stop())})),t.on("gutterclick",(function(e){if("foldWidgets"==t.renderer.$gutterLayer.getRegion(e)){var r=e.getDocumentPosition().row,n=t.session;n.foldWidgets&&n.foldWidgets[r]&&t.session.onFoldWidgetClick(r,e),t.isFocused()||t.focus(),e.stop()}})),t.on("gutterdblclick",(function(e){if("foldWidgets"==t.renderer.$gutterLayer.getRegion(e)){var r=e.getDocumentPosition().row,n=t.session,i=n.getParentFoldRangeData(r,!0),o=i.range||i.firstRange;if(o){r=o.start.row;var s=n.getFoldAt(r,n.getLine(r).length,1);s?n.removeFold(s):(n.addFold("...",o),t.renderer.scrollCursorIntoView({row:o.start.row,column:0}))}e.stop()}}))}})),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],(function(t,e,r){var n=t("../lib/keys"),i=t("../lib/event"),o=function(t){this.$editor=t,this.$data={editor:t},this.$handlers=[],this.setDefaultHandler(t.commands)};(function(){this.setDefaultHandler=function(t){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=t,this.addKeyboardHandler(t,0)},this.setKeyboardHandler=function(t){var e=this.$handlers;if(e[e.length-1]!=t){for(;e[e.length-1]&&e[e.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(e[e.length-1]);this.addKeyboardHandler(t,1)}},this.addKeyboardHandler=function(t,e){if(t){"function"!=typeof t||t.handleKeyboard||(t.handleKeyboard=t);var r=this.$handlers.indexOf(t);-1!=r&&this.$handlers.splice(r,1),null==e?this.$handlers.push(t):this.$handlers.splice(e,0,t),-1==r&&t.attach&&t.attach(this.$editor)}},this.removeKeyboardHandler=function(t){var e=this.$handlers.indexOf(t);return-1!=e&&(this.$handlers.splice(e,1),t.detach&&t.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var t=this.$data,e=t.editor;return this.$handlers.map((function(r){return r.getStatusText&&r.getStatusText(e,t)||""})).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(t,e,r,n){for(var o,s=!1,a=this.$editor.commands,l=this.$handlers.length;l--&&!((o=this.$handlers[l].handleKeyboard(this.$data,t,e,r,n))&&o.command&&((s="null"==o.command||a.exec(o.command,this.$editor,o.args,n))&&n&&-1!=t&&1!=o.passEvent&&1!=o.command.passEvent&&i.stopEvent(n),s)););return s||-1!=t||(o={command:"insertstring"},s=a.exec("insertstring",this.$editor,e)),s&&this.$editor._signal&&this.$editor._signal("keyboardActivity",o),s},this.onCommandKey=function(t,e,r){var i=n.keyCodeToString(r);this.$callKeyboardHandlers(e,i,r,t)},this.onTextInput=function(t){this.$callKeyboardHandlers(-1,t)}}).call(o.prototype),e.KeyBinding=o})),ace.define("ace/lib/bidiutil",["require","exports","module"],(function(t,e,r){var n=0,i=0,o=!1,s=!1,a=!1,l=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],c=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],u=11,h=18,d=[h,h,h,h,h,h,h,h,h,6,5,6,8,5,h,h,h,h,h,h,h,h,h,h,h,h,h,h,5,5,5,6,8,4,4,u,u,u,4,4,4,4,4,10,9,10,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,h,h,h,h,h,h,5,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,9,4,u,u,u,u,4,4,4,4,0,4,4,h,4,4,u,u,2,2,4,0,4,4,4,2,0,4,4,4,4,4],f=[8,8,8,8,8,8,8,8,8,8,8,h,h,h,0,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,5,13,14,15,16,17,9,u,u,u,u,u,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8];function p(t,e,r){if(!(i<t))if(1!=t||1!=n||s)for(var o,a,l,c,u=r.length,h=0;h<u;){if(e[h]>=t){for(o=h+1;o<u&&e[o]>=t;)o++;for(a=h,l=o-1;a<l;a++,l--)c=r[a],r[a]=r[l],r[l]=c;h=o}h++}else r.reverse()}function m(t,e,r,i){var l,c,d,f,p=e[i];switch(p){case 0:case 1:o=!1;case 4:case 3:return p;case 2:return o?3:2;case 7:return o=!0,!0,1;case 8:return 4;case 9:return i<1||i+1>=e.length||2!=(l=r[i-1])&&3!=l||2!=(c=e[i+1])&&3!=c?4:(o&&(c=3),c==l?c:4);case 10:return 2==(l=i>0?r[i-1]:5)&&i+1<e.length&&2==e[i+1]?2:4;case u:if(i>0&&2==r[i-1])return 2;if(o)return 4;for(f=i+1,d=e.length;f<d&&e[f]==u;)f++;return f<d&&2==e[f]?2:4;case 12:for(d=e.length,f=i+1;f<d&&12==e[f];)f++;if(f<d){var m=t[i],g=m>=1425&&m<=2303||64286==m;if(l=e[f],g&&(1==l||7==l))return 1}return i<1||5==(l=e[i-1])?4:r[i-1];case 5:return o=!1,s=!0,n;case 6:return a=!0,4;case 13:case 14:case 16:case 17:case 15:o=!1;case h:return 4}}function g(t){var e=t.charCodeAt(0),r=e>>8;return 0==r?e>191?0:d[e]:5==r?/[\u0591-\u05f4]/.test(t)?1:0:6==r?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(t)?12:/[\u0660-\u0669\u066b-\u066c]/.test(t)?3:1642==e?u:/[\u06f0-\u06f9]/.test(t)?2:7:32==r&&e<=8287?f[255&e]:254==r&&e>=65136?7:4}e.L=0,e.R=1,e.EN=2,e.ON_R=3,e.AN=4,e.R_H=5,e.B=6,e.DOT="·",e.doBidiReorder=function(t,r,u){if(t.length<2)return{};var d=t.split(""),f=new Array(d.length),y=new Array(d.length),v=[];n=u?1:0,function(t,e,r,u){var h=n?c:l,d=null,f=null,p=null,y=0,v=null,b=-1,A=null,C=null,w=[];if(!u)for(A=0,u=[];A<r;A++)u[A]=g(t[A]);for(i=n,o=!1,!1,s=!1,a=!1,C=0;C<r;C++){if(d=y,w[C]=f=m(t,u,w,C),v=240&(y=h[d][f]),y&=15,e[C]=p=h[y][5],v>0)if(16==v){for(A=b;A<C;A++)e[A]=1;b=-1}else b=-1;if(h[y][6])-1==b&&(b=C);else if(b>-1){for(A=b;A<C;A++)e[A]=p;b=-1}5==u[C]&&(e[C]=0),i|=p}if(a)for(A=0;A<r;A++)if(6==u[A]){e[A]=n;for(var x=A-1;x>=0&&8==u[x];x--)e[x]=n}}(d,v,d.length,r);for(var b=0;b<f.length;f[b]=b,b++);p(2,v,f),p(1,v,f);for(b=0;b<f.length-1;b++)3===r[b]?v[b]=e.AN:1===v[b]&&(r[b]>7&&r[b]<13||4===r[b]||r[b]===h)?v[b]=e.ON_R:b>0&&"ل"===d[b-1]&&/\u0622|\u0623|\u0625|\u0627/.test(d[b])&&(v[b-1]=v[b]=e.R_H,b++);d[d.length-1]===e.DOT&&(v[d.length-1]=e.B);for(b=0;b<f.length;b++)y[b]=v[f[b]];return{logicalFromVisual:f,bidiLevels:y}},e.hasBidiCharacters=function(t,e){for(var r=!1,n=0;n<t.length;n++)e[n]=g(t.charAt(n)),r||1!=e[n]&&7!=e[n]||(r=!0);return r},e.getVisualFromLogicalIdx=function(t,e){for(var r=0;r<e.logicalFromVisual.length;r++)if(e.logicalFromVisual[r]==t)return r;return 0}})),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang","ace/lib/useragent"],(function(t,e,r){var n=t("./lib/bidiutil"),i=t("./lib/lang"),o=t("./lib/useragent"),s=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,a=function(t){this.session=t,this.bidiMap={},this.currentRow=null,this.bidiUtil=n,this.charWidths=[],this.EOL="¬",this.showInvisibles=!0,this.isRtlDir=!1,this.line="",this.wrapIndent=0,this.isLastRow=!1,this.EOF="¶",this.seenBidi=!1};(function(){this.isBidiRow=function(t,e,r){return!!this.seenBidi&&(t!==this.currentRow&&(this.currentRow=t,this.updateRowLine(e,r),this.updateBidiMap()),this.bidiMap.bidiLevels)},this.onChange=function(t){this.seenBidi?this.currentRow=null:"insert"==t.action&&s.test(t.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var t=0,e=this.session.$screenRowCache;if(e.length){var r=this.session.$getRowCacheIndex(e,this.currentRow);r>=0&&(t=this.session.$docRowCache[r])}return t},this.getSplitIndex=function(){var t=0,e=this.session.$screenRowCache;if(e.length)for(var r,n=this.session.$getRowCacheIndex(e,this.currentRow);this.currentRow-t>0&&(r=this.session.$getRowCacheIndex(e,this.currentRow-t-1))===n;)n=r,t++;return t},this.updateRowLine=function(t,e){if(void 0===t&&(t=this.getDocumentRow()),this.wrapIndent=0,this.isLastRow=t===this.session.getLength()-1,this.line=this.session.getLine(t),this.session.$useWrapMode){var r=this.session.$wrapData[t];r&&(void 0===e&&(e=this.getSplitIndex()),e>0&&r.length?(this.wrapIndent=r.indent,this.line=e<r.length?this.line.substring(r[e-1],r[r.length-1]):this.line.substring(r[r.length-1])):this.line=this.line.substring(0,r[e]))}var o,s=this.session,a=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,(function(t,e){return"\t"===t||s.isFullWidth(t.charCodeAt(0))?(o="\t"===t?s.getScreenTabSize(e+a):2,a+=o-1,i.stringRepeat(n.DOT,o)):t}))},this.updateBidiMap=function(){var t=[],e=this.isLastRow?this.EOF:this.EOL,r=this.line+(this.showInvisibles?e:n.DOT);n.hasBidiCharacters(r,t)?this.bidiMap=n.doBidiReorder(r,t,this.isRtlDir):this.bidiMap={}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(t){if(this.seenBidi&&this.characterWidth!==t.$characterSize.width){var e=this.characterWidth=t.$characterSize.width,r=t.$measureCharWidth("ה");this.charWidths[n.L]=this.charWidths[n.EN]=this.charWidths[n.ON_R]=e,this.charWidths[n.R]=this.charWidths[n.AN]=r,this.charWidths[n.R_H]=o.isChrome?r:.45*r,this.charWidths[n.B]=0,this.currentRow=null}},this.getShowInvisibles=function(){return this.showInvisibles},this.setShowInvisibles=function(t){this.showInvisibles=t,this.currentRow=null},this.setEolChar=function(t){this.EOL=t},this.setTextDir=function(t){this.isRtlDir=t},this.getPosLeft=function(t){t-=this.wrapIndent;var e=n.getVisualFromLogicalIdx(t>0?t-1:0,this.bidiMap),r=this.bidiMap.bidiLevels,i=0;0===t&&r[e]%2!=0&&e++;for(var o=0;o<e;o++)i+=this.charWidths[r[o]];return 0!==t&&r[e]%2==0&&(i+=this.charWidths[r[e]]),this.wrapIndent&&(i+=this.wrapIndent*this.charWidths[n.L]),i},this.getSelections=function(t,e){for(var r,i,o=this.bidiMap,s=o.bidiLevels,a=this.wrapIndent*this.charWidths[n.L],l=[],c=Math.min(t,e)-this.wrapIndent,u=Math.max(t,e)-this.wrapIndent,h=!1,d=!1,f=0,p=0;p<s.length;p++)i=o.logicalFromVisual[p],r=s[p],(h=i>=c&&i<u)&&!d?f=a:!h&&d&&l.push({left:f,width:a-f}),a+=this.charWidths[r],d=h;return h&&p===s.length&&l.push({left:f,width:a-f}),l},this.offsetToCol=function(t){var e=0,r=(t=Math.max(t,0),0),i=0,o=this.bidiMap.bidiLevels,s=this.charWidths[o[i]];for(this.wrapIndent&&(t-=this.wrapIndent*this.charWidths[n.L]);t>r+s/2;){if(r+=s,i===o.length-1){s=0;break}s=this.charWidths[o[++i]]}return i>0&&o[i-1]%2!=0&&o[i]%2==0?(t<r&&i--,e=this.bidiMap.logicalFromVisual[i]):i>0&&o[i-1]%2==0&&o[i]%2!=0?e=1+(t>r?this.bidiMap.logicalFromVisual[i]:this.bidiMap.logicalFromVisual[i-1]):this.isRtlDir&&i===o.length-1&&0===s&&o[i-1]%2==0||!this.isRtlDir&&0===i&&o[i]%2!=0?e=1+this.bidiMap.logicalFromVisual[i]:(i>0&&o[i-1]%2!=0&&0!==s&&i--,e=this.bidiMap.logicalFromVisual[i]),e+this.wrapIndent}}).call(a.prototype),e.BidiHandler=a})),ace.define("ace/range",["require","exports","module"],(function(t,e,r){var n=function(t,e,r,n){this.start={row:t,column:e},this.end={row:r,column:n}};(function(){this.isEqual=function(t){return this.start.row===t.start.row&&this.end.row===t.end.row&&this.start.column===t.start.column&&this.end.column===t.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(t,e){return 0==this.compare(t,e)},this.compareRange=function(t){var e,r=t.end,n=t.start;return 1==(e=this.compare(r.row,r.column))?1==(e=this.compare(n.row,n.column))?2:0==e?1:0:-1==e?-2:-1==(e=this.compare(n.row,n.column))?-1:1==e?42:0},this.comparePoint=function(t){return this.compare(t.row,t.column)},this.containsRange=function(t){return 0==this.comparePoint(t.start)&&0==this.comparePoint(t.end)},this.intersects=function(t){var e=this.compareRange(t);return-1==e||0==e||1==e},this.isEnd=function(t,e){return this.end.row==t&&this.end.column==e},this.isStart=function(t,e){return this.start.row==t&&this.start.column==e},this.setStart=function(t,e){"object"==typeof t?(this.start.column=t.column,this.start.row=t.row):(this.start.row=t,this.start.column=e)},this.setEnd=function(t,e){"object"==typeof t?(this.end.column=t.column,this.end.row=t.row):(this.end.row=t,this.end.column=e)},this.inside=function(t,e){return 0==this.compare(t,e)&&(!this.isEnd(t,e)&&!this.isStart(t,e))},this.insideStart=function(t,e){return 0==this.compare(t,e)&&!this.isEnd(t,e)},this.insideEnd=function(t,e){return 0==this.compare(t,e)&&!this.isStart(t,e)},this.compare=function(t,e){return this.isMultiLine()||t!==this.start.row?t<this.start.row?-1:t>this.end.row?1:this.start.row===t?e>=this.start.column?0:-1:this.end.row===t?e<=this.end.column?0:1:0:e<this.start.column?-1:e>this.end.column?1:0},this.compareStart=function(t,e){return this.start.row==t&&this.start.column==e?-1:this.compare(t,e)},this.compareEnd=function(t,e){return this.end.row==t&&this.end.column==e?1:this.compare(t,e)},this.compareInside=function(t,e){return this.end.row==t&&this.end.column==e?1:this.start.row==t&&this.start.column==e?-1:this.compare(t,e)},this.clipRows=function(t,e){if(this.end.row>e)var r={row:e+1,column:0};else if(this.end.row<t)r={row:t,column:0};if(this.start.row>e)var i={row:e+1,column:0};else if(this.start.row<t)i={row:t,column:0};return n.fromPoints(i||this.start,r||this.end)},this.extend=function(t,e){var r=this.compare(t,e);if(0==r)return this;if(-1==r)var i={row:t,column:e};else var o={row:t,column:e};return n.fromPoints(i||this.start,o||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return n.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new n(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new n(this.start.row,0,this.end.row,0)},this.toScreenRange=function(t){var e=t.documentToScreenPosition(this.start),r=t.documentToScreenPosition(this.end);return new n(e.row,e.column,r.row,r.column)},this.moveBy=function(t,e){this.start.row+=t,this.start.column+=e,this.end.row+=t,this.end.column+=e}}).call(n.prototype),n.fromPoints=function(t,e){return new n(t.row,t.column,e.row,e.column)},n.comparePoints=function(t,e){return t.row-e.row||t.column-e.column},n.comparePoints=function(t,e){return t.row-e.row||t.column-e.column},e.Range=n})),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],(function(t,e,r){var n=t("./lib/oop"),i=t("./lib/lang"),o=t("./lib/event_emitter").EventEmitter,s=t("./range").Range,a=function(t){this.session=t,this.doc=t.getDocument(),this.clearSelection(),this.lead=this.selectionLead=this.doc.createAnchor(0,0),this.anchor=this.selectionAnchor=this.doc.createAnchor(0,0);var e=this;this.lead.on("change",(function(t){e._emit("changeCursor"),e.$isEmpty||e._emit("changeSelection"),e.$keepDesiredColumnOnChange||t.old.column==t.value.column||(e.$desiredColumn=null)})),this.selectionAnchor.on("change",(function(){e.$isEmpty||e._emit("changeSelection")}))};(function(){n.implement(this,o),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.isEmpty()&&this.getRange().isMultiLine()},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(t,e){this.anchor.setPosition(t,e),this.$isEmpty&&(this.$isEmpty=!1,this._emit("changeSelection"))},this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.shiftSelection=function(t){if(this.$isEmpty)this.moveCursorTo(this.lead.row,this.lead.column+t);else{var e=this.getSelectionAnchor(),r=this.getSelectionLead(),n=this.isBackwards();n&&0===e.column||this.setSelectionAnchor(e.row,e.column+t),(n||0!==r.column)&&this.$moveSelection((function(){this.moveCursorTo(r.row,r.column+t)}))}},this.isBackwards=function(){var t=this.anchor,e=this.lead;return t.row>e.row||t.row==e.row&&t.column>e.column},this.getRange=function(){var t=this.anchor,e=this.lead;return this.isEmpty()?s.fromPoints(e,e):this.isBackwards()?s.fromPoints(e,t):s.fromPoints(t,e)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){var t=this.doc.getLength()-1;this.setSelectionAnchor(0,0),this.moveCursorTo(t,this.doc.getLine(t).length)},this.setRange=this.setSelectionRange=function(t,e){e?(this.setSelectionAnchor(t.end.row,t.end.column),this.selectTo(t.start.row,t.start.column)):(this.setSelectionAnchor(t.start.row,t.start.column),this.selectTo(t.end.row,t.end.column)),this.getRange().isEmpty()&&(this.$isEmpty=!0),this.$desiredColumn=null},this.$moveSelection=function(t){var e=this.lead;this.$isEmpty&&this.setSelectionAnchor(e.row,e.column),t.call(this)},this.selectTo=function(t,e){this.$moveSelection((function(){this.moveCursorTo(t,e)}))},this.selectToPosition=function(t){this.$moveSelection((function(){this.moveCursorToPosition(t)}))},this.moveTo=function(t,e){this.clearSelection(),this.moveCursorTo(t,e)},this.moveToPosition=function(t){this.clearSelection(),this.moveCursorToPosition(t)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(t,e){if(void 0===e){var r=t||this.lead;t=r.row,e=r.column}return this.session.getWordRange(t,e)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var t=this.getCursor(),e=this.session.getAWordRange(t.row,t.column);this.setSelectionRange(e)},this.getLineRange=function(t,e){var r,n="number"==typeof t?t:this.lead.row,i=this.session.getFoldLine(n);return i?(n=i.start.row,r=i.end.row):r=n,!0===e?new s(n,0,r,this.session.getLine(r).length):new s(n,0,r+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(t,e,r){var n=t.column,i=t.column+e;return r<0&&(n=t.column-e,i=t.column),this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(n,i).split(" ").length-1==e},this.moveCursorLeft=function(){var t,e=this.lead.getPosition();if(t=this.session.getFoldAt(e.row,e.column,-1))this.moveCursorTo(t.start.row,t.start.column);else if(0===e.column)e.row>0&&this.moveCursorTo(e.row-1,this.doc.getLine(e.row-1).length);else{var r=this.session.getTabSize();this.wouldMoveIntoSoftTab(e,r,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-r):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var t,e=this.lead.getPosition();if(t=this.session.getFoldAt(e.row,e.column,1))this.moveCursorTo(t.end.row,t.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var r=this.session.getTabSize();e=this.lead;this.wouldMoveIntoSoftTab(e,r,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,r):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var t=this.lead.row,e=this.lead.column,r=this.session.documentToScreenRow(t,e),n=this.session.screenToDocumentPosition(r,0),i=this.session.getDisplayLine(t,null,n.row,n.column).match(/^\s*/);i[0].length==e||this.session.$useEmacsStyleLineStart||(n.column+=i[0].length),this.moveCursorToPosition(n)},this.moveCursorLineEnd=function(){var t=this.lead,e=this.session.getDocumentLastRowColumnPosition(t.row,t.column);if(this.lead.column==e.column){var r=this.session.getLine(e.row);if(e.column==r.length){var n=r.search(/\s+$/);n>0&&(e.column=n)}}this.moveCursorTo(e.row,e.column)},this.moveCursorFileEnd=function(){var t=this.doc.getLength()-1,e=this.doc.getLine(t).length;this.moveCursorTo(t,e)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var t=this.lead.row,e=this.lead.column,r=this.doc.getLine(t),n=r.substring(e);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var i=this.session.getFoldAt(t,e,1);if(i)this.moveCursorTo(i.end.row,i.end.column);else{if(this.session.nonTokenRe.exec(n)&&(e+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,n=r.substring(e)),e>=r.length)return this.moveCursorTo(t,r.length),this.moveCursorRight(),void(t<this.doc.getLength()-1&&this.moveCursorWordRight());this.session.tokenRe.exec(n)&&(e+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,e)}},this.moveCursorLongWordLeft=function(){var t,e=this.lead.row,r=this.lead.column;if(t=this.session.getFoldAt(e,r,-1))this.moveCursorTo(t.start.row,t.start.column);else{var n=this.session.getFoldStringAt(e,r,-1);null==n&&(n=this.doc.getLine(e).substring(0,r));var o=i.stringReverse(n);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(o)&&(r-=this.session.nonTokenRe.lastIndex,o=o.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),r<=0)return this.moveCursorTo(e,0),this.moveCursorLeft(),void(e>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(o)&&(r-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,r)}},this.$shortWordEndIndex=function(t){var e,r=0,n=/\s/,i=this.session.tokenRe;if(i.lastIndex=0,this.session.tokenRe.exec(t))r=this.session.tokenRe.lastIndex;else{for(;(e=t[r])&&n.test(e);)r++;if(r<1)for(i.lastIndex=0;(e=t[r])&&!i.test(e);)if(i.lastIndex=0,r++,n.test(e)){if(r>2){r--;break}for(;(e=t[r])&&n.test(e);)r++;if(r>2)break}}return i.lastIndex=0,r},this.moveCursorShortWordRight=function(){var t=this.lead.row,e=this.lead.column,r=this.doc.getLine(t),n=r.substring(e),i=this.session.getFoldAt(t,e,1);if(i)return this.moveCursorTo(i.end.row,i.end.column);if(e==r.length){var o=this.doc.getLength();do{t++,n=this.doc.getLine(t)}while(t<o&&/^\s*$/.test(n));/^\s+/.test(n)||(n=""),e=0}var s=this.$shortWordEndIndex(n);this.moveCursorTo(t,e+s)},this.moveCursorShortWordLeft=function(){var t,e=this.lead.row,r=this.lead.column;if(t=this.session.getFoldAt(e,r,-1))return this.moveCursorTo(t.start.row,t.start.column);var n=this.session.getLine(e).substring(0,r);if(0===r){do{e--,n=this.doc.getLine(e)}while(e>0&&/^\s*$/.test(n));r=n.length,/\s+$/.test(n)||(n="")}var o=i.stringReverse(n),s=this.$shortWordEndIndex(o);return this.moveCursorTo(e,r-s)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(t,e){var r,n=this.session.documentToScreenPosition(this.lead.row,this.lead.column);0===e&&(0!==t&&(this.session.$bidiHandler.isBidiRow(n.row,this.lead.row)?(r=this.session.$bidiHandler.getPosLeft(n.column),n.column=Math.round(r/this.session.$bidiHandler.charWidths[0])):r=n.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?n.column=this.$desiredColumn:this.$desiredColumn=n.column);var i=this.session.screenToDocumentPosition(n.row+t,n.column,r);0!==t&&0===e&&i.row===this.lead.row&&i.column===this.lead.column&&this.session.lineWidgets&&this.session.lineWidgets[i.row]&&(i.row>0||t>0)&&i.row++,this.moveCursorTo(i.row,i.column+e,0===e)},this.moveCursorToPosition=function(t){this.moveCursorTo(t.row,t.column)},this.moveCursorTo=function(t,e,r){var n=this.session.getFoldAt(t,e,1);n&&(t=n.start.row,e=n.start.column),this.$keepDesiredColumnOnChange=!0;var i=this.session.getLine(t);/[\uDC00-\uDFFF]/.test(i.charAt(e))&&i.charAt(e-1)&&(this.lead.row==t&&this.lead.column==e+1?e-=1:e+=1),this.lead.setPosition(t,e),this.$keepDesiredColumnOnChange=!1,r||(this.$desiredColumn=null)},this.moveCursorToScreen=function(t,e,r){var n=this.session.screenToDocumentPosition(t,e);this.moveCursorTo(n.row,n.column,r)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(t){this.setSelectionRange(t,t.cursor==t.start),this.$desiredColumn=t.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(t){var e=this.getRange();return t?(t.start.column=e.start.column,t.start.row=e.start.row,t.end.column=e.end.column,t.end.row=e.end.row):t=e,t.cursor=this.isBackwards()?t.start:t.end,t.desiredColumn=this.$desiredColumn,t},this.getRangeOfMovements=function(t){var e=this.getCursor();try{t(this);var r=this.getCursor();return s.fromPoints(e,r)}catch(t){return s.fromPoints(e,e)}finally{this.moveCursorToPosition(e)}},this.toJSON=function(){if(this.rangeCount)var t=this.ranges.map((function(t){var e=t.clone();return e.isBackwards=t.cursor==t.start,e}));else(t=this.getRange()).isBackwards=this.isBackwards();return t},this.fromJSON=function(t){if(null==t.start){if(this.rangeList){this.toSingleRange(t[0]);for(var e=t.length;e--;){var r=s.fromPoints(t[e].start,t[e].end);t[e].isBackwards&&(r.cursor=r.start),this.addRange(r,!0)}return}t=t[0]}this.rangeList&&this.toSingleRange(t),this.setSelectionRange(t,t.isBackwards)},this.isEqual=function(t){if((t.length||this.rangeCount)&&t.length!=this.rangeCount)return!1;if(!t.length||!this.ranges)return this.getRange().isEqual(t);for(var e=this.ranges.length;e--;)if(!this.ranges[e].isEqual(t[e]))return!1;return!0}}).call(a.prototype),e.Selection=a})),ace.define("ace/tokenizer",["require","exports","module","ace/config"],(function(t,e,r){var n=t("./config"),i=2e3,o=function(t){for(var e in this.states=t,this.regExps={},this.matchMappings={},this.states){for(var r=this.states[e],n=[],i=0,o=this.matchMappings[e]={defaultToken:"text"},s="g",a=[],l=0;l<r.length;l++){var c=r[l];if(c.defaultToken&&(o.defaultToken=c.defaultToken),c.caseInsensitive&&(s="gi"),null!=c.regex){c.regex instanceof RegExp&&(c.regex=c.regex.toString().slice(1,-1));var u=c.regex,h=new RegExp("(?:("+u+")|(.))").exec("a").length-2;Array.isArray(c.token)?1==c.token.length||1==h?c.token=c.token[0]:h-1!=c.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:c,groupCount:h-1}),c.token=c.token[0]):(c.tokenArray=c.token,c.token=null,c.onMatch=this.$arrayTokens):"function"!=typeof c.token||c.onMatch||(c.onMatch=h>1?this.$applyToken:c.token),h>1&&(/\\\d/.test(c.regex)?u=c.regex.replace(/\\([0-9]+)/g,(function(t,e){return"\\"+(parseInt(e,10)+i+1)})):(h=1,u=this.removeCapturingGroups(c.regex)),c.splitRegex||"string"==typeof c.token||a.push(c)),o[i]=l,i+=h,n.push(u),c.onMatch||(c.onMatch=null)}}n.length||(o[0]=0,n.push("$")),a.forEach((function(t){t.splitRegex=this.createSplitterRegexp(t.regex,s)}),this),this.regExps[e]=new RegExp("("+n.join(")|(")+")|($)",s)}};(function(){this.$setMaxTokenCount=function(t){i=0|t},this.$applyToken=function(t){var e=this.splitRegex.exec(t).slice(1),r=this.token.apply(this,e);if("string"==typeof r)return[{type:r,value:t}];for(var n=[],i=0,o=r.length;i<o;i++)e[i]&&(n[n.length]={type:r[i],value:e[i]});return n},this.$arrayTokens=function(t){if(!t)return[];var e=this.splitRegex.exec(t);if(!e)return"text";for(var r=[],n=this.tokenArray,i=0,o=n.length;i<o;i++)e[i+1]&&(r[r.length]={type:n[i],value:e[i+1]});return r},this.removeCapturingGroups=function(t){return t.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g,(function(t,e){return e?"(?:":t}))},this.createSplitterRegexp=function(t,e){if(-1!=t.indexOf("(?=")){var r=0,n=!1,i={};t.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,(function(t,e,o,s,a,l){return n?n="]"!=a:a?n=!0:s?(r==i.stack&&(i.end=l+1,i.stack=-1),r--):o&&(r++,1!=o.length&&(i.stack=r,i.start=l)),t})),null!=i.end&&/^\)*$/.test(t.substr(i.end))&&(t=t.substring(0,i.start)+t.substr(i.end))}return"^"!=t.charAt(0)&&(t="^"+t),"$"!=t.charAt(t.length-1)&&(t+="$"),new RegExp(t,(e||"").replace("g",""))},this.getLineTokens=function(t,e){if(e&&"string"!=typeof e){var r=e.slice(0);"#tmp"===(e=r[0])&&(r.shift(),e=r.shift())}else r=[];var n=e||"start",o=this.states[n];o||(n="start",o=this.states[n]);var s=this.matchMappings[n],a=this.regExps[n];a.lastIndex=0;for(var l,c=[],u=0,h=0,d={type:null,value:""};l=a.exec(t);){var f=s.defaultToken,p=null,m=l[0],g=a.lastIndex;if(g-m.length>u){var y=t.substring(u,g-m.length);d.type==f?d.value+=y:(d.type&&c.push(d),d={type:f,value:y})}for(var v=0;v<l.length-2;v++)if(void 0!==l[v+1]){f=(p=o[s[v]]).onMatch?p.onMatch(m,n,r,t):p.token,p.next&&(n="string"==typeof p.next?p.next:p.next(n,r),(o=this.states[n])||(this.reportError("state doesn't exist",n),n="start",o=this.states[n]),s=this.matchMappings[n],u=g,(a=this.regExps[n]).lastIndex=g),p.consumeLineEnd&&(u=g);break}if(m)if("string"==typeof f)p&&!1===p.merge||d.type!==f?(d.type&&c.push(d),d={type:f,value:m}):d.value+=m;else if(f){d.type&&c.push(d),d={type:null,value:""};for(v=0;v<f.length;v++)c.push(f[v])}if(u==t.length)break;if(u=g,h++>i){for(h>2*t.length&&this.reportError("infinite loop with in ace tokenizer",{startState:e,line:t});u<t.length;)d.type&&c.push(d),d={value:t.substring(u,u+=2e3),type:"overflow"};n="start",r=[];break}}return d.type&&c.push(d),r.length>1&&r[0]!==n&&r.unshift("#tmp",n),{tokens:c,state:r.length?r:n}},this.reportError=n.reportError}).call(o.prototype),e.Tokenizer=o})),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],(function(t,e,r){var n=t("../lib/lang"),i=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(t,e){if(e)for(var r in t){for(var n=t[r],i=0;i<n.length;i++){var o=n[i];(o.next||o.onMatch)&&("string"==typeof o.next&&0!==o.next.indexOf(e)&&(o.next=e+o.next),o.nextState&&0!==o.nextState.indexOf(e)&&(o.nextState=e+o.nextState))}this.$rules[e+r]=n}else for(var r in t)this.$rules[r]=t[r]},this.getRules=function(){return this.$rules},this.embedRules=function(t,e,r,i,o){var s="function"==typeof t?(new t).getRules():t;if(i)for(var a=0;a<i.length;a++)i[a]=e+i[a];else for(var l in i=[],s)i.push(e+l);if(this.addRules(s,e),r){var c=Array.prototype[o?"push":"unshift"];for(a=0;a<i.length;a++)c.apply(this.$rules[i[a]],n.deepCopy(r))}this.$embeds||(this.$embeds=[]),this.$embeds.push(e)},this.getEmbeds=function(){return this.$embeds};var t=function(t,e){return("start"!=t||e.length)&&e.unshift(this.nextState,t),this.nextState},e=function(t,e){return e.shift(),e.shift()||"start"};this.normalizeRules=function(){var r=0,n=this.$rules;Object.keys(n).forEach((function i(o){var s=n[o];s.processed=!0;for(var a=0;a<s.length;a++){var l=s[a],c=null;Array.isArray(l)&&(c=l,l={}),!l.regex&&l.start&&(l.regex=l.start,l.next||(l.next=[]),l.next.push({defaultToken:l.token},{token:l.token+".end",regex:l.end||l.start,next:"pop"}),l.token=l.token+".start",l.push=!0);var u=l.next||l.push;if(u&&Array.isArray(u)){var h=l.stateName;h||("string"!=typeof(h=l.token)&&(h=h[0]||""),n[h]&&(h+=r++)),n[h]=u,l.next=h,i(h)}else"pop"==u&&(l.next=e);if(l.push&&(l.nextState=l.next||l.push,l.next=t,delete l.push),l.rules)for(var d in l.rules)n[d]?n[d].push&&n[d].push.apply(n[d],l.rules[d]):n[d]=l.rules[d];var f="string"==typeof l?l:l.include;if(f&&(c=Array.isArray(f)?f.map((function(t){return n[t]})):n[f]),c){var p=[a,1].concat(c);l.noEscape&&(p=p.filter((function(t){return!t.next}))),s.splice.apply(s,p),a--}l.keywordMap&&(l.token=this.createKeywordMapper(l.keywordMap,l.defaultToken||"text",l.caseInsensitive),delete l.defaultToken)}}),this)},this.createKeywordMapper=function(t,e,r,n){var i=Object.create(null);return Object.keys(t).forEach((function(e){var o=t[e];r&&(o=o.toLowerCase());for(var s=o.split(n||"|"),a=s.length;a--;)i[s[a]]=e})),Object.getPrototypeOf(i)&&(i.__proto__=null),this.$keywordList=Object.keys(i),t=null,r?function(t){return i[t.toLowerCase()]||e}:function(t){return i[t]||e}},this.getKeywords=function(){return this.$keywords}}).call(i.prototype),e.TextHighlightRules=i})),ace.define("ace/mode/behaviour",["require","exports","module"],(function(t,e,r){var n=function(){this.$behaviours={}};(function(){this.add=function(t,e,r){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[t]:this.$behaviours[t]={}}this.$behaviours[t][e]=r},this.addBehaviours=function(t){for(var e in t)for(var r in t[e])this.add(e,r,t[e][r])},this.remove=function(t){this.$behaviours&&this.$behaviours[t]&&delete this.$behaviours[t]},this.inherit=function(t,e){if("function"==typeof t)var r=(new t).getBehaviours(e);else r=t.getBehaviours(e);this.addBehaviours(r)},this.getBehaviours=function(t){if(t){for(var e={},r=0;r<t.length;r++)this.$behaviours[t[r]]&&(e[t[r]]=this.$behaviours[t[r]]);return e}return this.$behaviours}}).call(n.prototype),e.Behaviour=n})),ace.define("ace/token_iterator",["require","exports","module","ace/range"],(function(t,e,r){var n=t("./range").Range,i=function(t,e,r){this.$session=t,this.$row=e,this.$rowTokens=t.getTokens(e);var n=t.getTokenAt(e,r);this.$tokenIndex=n?n.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){var t;for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,t||(t=this.$session.getLength()),this.$row>=t)return this.$row=t-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var t=this.$rowTokens,e=this.$tokenIndex,r=t[e].start;if(void 0!==r)return r;for(r=0;e>0;)r+=t[e-=1].value.length;return r},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var t=this.$rowTokens[this.$tokenIndex],e=this.getCurrentTokenColumn();return new n(this.$row,e,this.$row,e+t.value.length)}}).call(i.prototype),e.TokenIterator=i})),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],(function(t,e,r){var n,i=t("../../lib/oop"),o=t("../behaviour").Behaviour,s=t("../../token_iterator").TokenIterator,a=t("../../lib/lang"),l=["text","paren.rparen","punctuation.operator"],c=["text","paren.rparen","punctuation.operator","comment"],u={},h={'"':'"',"'":"'"},d=function(t){var e=-1;if(t.multiSelect&&(e=t.selection.index,u.rangeCount!=t.multiSelect.rangeCount&&(u={rangeCount:t.multiSelect.rangeCount})),u[e])return n=u[e];n=u[e]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},f=function(t,e,r,n){var i=t.end.row-t.start.row;return{text:r+e+n,selection:[0,t.start.column+1,i,t.end.column+(i?0:1)]}},p=function(t){this.add("braces","insertion",(function(e,r,i,o,s){var l=i.getCursorPosition(),c=o.doc.getLine(l.row);if("{"==s){d(i);var u=i.getSelectionRange(),h=o.doc.getTextRange(u);if(""!==h&&"{"!==h&&i.getWrapBehavioursEnabled())return f(u,h,"{","}");if(p.isSaneInsertion(i,o))return/[\]\}\)]/.test(c[l.column])||i.inMultiSelectMode||t&&t.braces?(p.recordAutoInsert(i,o,"}"),{text:"{}",selection:[1,1]}):(p.recordMaybeInsert(i,o,"{"),{text:"{",selection:[1,1]})}else if("}"==s){if(d(i),"}"==c.substring(l.column,l.column+1))if(null!==o.$findOpeningBracket("}",{column:l.column+1,row:l.row})&&p.isAutoInsertedClosing(l,c,s))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==s||"\r\n"==s){d(i);var m="";if(p.isMaybeInsertedClosing(l,c)&&(m=a.stringRepeat("}",n.maybeInsertedBrackets),p.clearMaybeInsertedClosing()),"}"===c.substring(l.column,l.column+1)){var g=o.findMatchingBracket({row:l.row,column:l.column+1},"}");if(!g)return null;var y=this.$getIndent(o.getLine(g.row))}else{if(!m)return void p.clearMaybeInsertedClosing();y=this.$getIndent(c)}var v=y+o.getTabString();return{text:"\n"+v+"\n"+y+m,selection:[1,v.length,1,v.length]}}p.clearMaybeInsertedClosing()}})),this.add("braces","deletion",(function(t,e,r,i,o){var s=i.doc.getTextRange(o);if(!o.isMultiLine()&&"{"==s){if(d(r),"}"==i.doc.getLine(o.start.row).substring(o.end.column,o.end.column+1))return o.end.column++,o;n.maybeInsertedBrackets--}})),this.add("parens","insertion",(function(t,e,r,n,i){if("("==i){d(r);var o=r.getSelectionRange(),s=n.doc.getTextRange(o);if(""!==s&&r.getWrapBehavioursEnabled())return f(o,s,"(",")");if(p.isSaneInsertion(r,n))return p.recordAutoInsert(r,n,")"),{text:"()",selection:[1,1]}}else if(")"==i){d(r);var a=r.getCursorPosition(),l=n.doc.getLine(a.row);if(")"==l.substring(a.column,a.column+1))if(null!==n.$findOpeningBracket(")",{column:a.column+1,row:a.row})&&p.isAutoInsertedClosing(a,l,i))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("parens","deletion",(function(t,e,r,n,i){var o=n.doc.getTextRange(i);if(!i.isMultiLine()&&"("==o&&(d(r),")"==n.doc.getLine(i.start.row).substring(i.start.column+1,i.start.column+2)))return i.end.column++,i})),this.add("brackets","insertion",(function(t,e,r,n,i){if("["==i){d(r);var o=r.getSelectionRange(),s=n.doc.getTextRange(o);if(""!==s&&r.getWrapBehavioursEnabled())return f(o,s,"[","]");if(p.isSaneInsertion(r,n))return p.recordAutoInsert(r,n,"]"),{text:"[]",selection:[1,1]}}else if("]"==i){d(r);var a=r.getCursorPosition(),l=n.doc.getLine(a.row);if("]"==l.substring(a.column,a.column+1))if(null!==n.$findOpeningBracket("]",{column:a.column+1,row:a.row})&&p.isAutoInsertedClosing(a,l,i))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("brackets","deletion",(function(t,e,r,n,i){var o=n.doc.getTextRange(i);if(!i.isMultiLine()&&"["==o&&(d(r),"]"==n.doc.getLine(i.start.row).substring(i.start.column+1,i.start.column+2)))return i.end.column++,i})),this.add("string_dquotes","insertion",(function(t,e,r,n,i){var o=n.$mode.$quotes||h;if(1==i.length&&o[i]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(i))return;d(r);var s=i,a=r.getSelectionRange(),l=n.doc.getTextRange(a);if(!(""===l||1==l.length&&o[l])&&r.getWrapBehavioursEnabled())return f(a,l,s,s);if(!l){var c=r.getCursorPosition(),u=n.doc.getLine(c.row),p=u.substring(c.column-1,c.column),m=u.substring(c.column,c.column+1),g=n.getTokenAt(c.row,c.column),y=n.getTokenAt(c.row,c.column+1);if("\\"==p&&g&&/escape/.test(g.type))return null;var v,b=g&&/string|escape/.test(g.type),A=!y||/string|escape/.test(y.type);if(m==s)(v=b!==A)&&/string\.end/.test(y.type)&&(v=!1);else{if(b&&!A)return null;if(b&&A)return null;var C=n.$mode.tokenRe;C.lastIndex=0;var w=C.test(p);C.lastIndex=0;var x=C.test(p);if(w||x)return null;if(m&&!/[\s;,.})\]\\]/.test(m))return null;v=!0}return{text:v?s+s:"",selection:[1,1]}}}})),this.add("string_dquotes","deletion",(function(t,e,r,n,i){var o=n.doc.getTextRange(i);if(!i.isMultiLine()&&('"'==o||"'"==o)&&(d(r),n.doc.getLine(i.start.row).substring(i.start.column+1,i.start.column+2)==o))return i.end.column++,i}))};p.isSaneInsertion=function(t,e){var r=t.getCursorPosition(),n=new s(e,r.row,r.column);if(!this.$matchTokenType(n.getCurrentToken()||"text",l)){var i=new s(e,r.row,r.column+1);if(!this.$matchTokenType(i.getCurrentToken()||"text",l))return!1}return n.stepForward(),n.getCurrentTokenRow()!==r.row||this.$matchTokenType(n.getCurrentToken()||"text",c)},p.$matchTokenType=function(t,e){return e.indexOf(t.type||t)>-1},p.recordAutoInsert=function(t,e,r){var i=t.getCursorPosition(),o=e.doc.getLine(i.row);this.isAutoInsertedClosing(i,o,n.autoInsertedLineEnd[0])||(n.autoInsertedBrackets=0),n.autoInsertedRow=i.row,n.autoInsertedLineEnd=r+o.substr(i.column),n.autoInsertedBrackets++},p.recordMaybeInsert=function(t,e,r){var i=t.getCursorPosition(),o=e.doc.getLine(i.row);this.isMaybeInsertedClosing(i,o)||(n.maybeInsertedBrackets=0),n.maybeInsertedRow=i.row,n.maybeInsertedLineStart=o.substr(0,i.column)+r,n.maybeInsertedLineEnd=o.substr(i.column),n.maybeInsertedBrackets++},p.isAutoInsertedClosing=function(t,e,r){return n.autoInsertedBrackets>0&&t.row===n.autoInsertedRow&&r===n.autoInsertedLineEnd[0]&&e.substr(t.column)===n.autoInsertedLineEnd},p.isMaybeInsertedClosing=function(t,e){return n.maybeInsertedBrackets>0&&t.row===n.maybeInsertedRow&&e.substr(t.column)===n.maybeInsertedLineEnd&&e.substr(0,t.column)==n.maybeInsertedLineStart},p.popAutoInsertedClosing=function(){n.autoInsertedLineEnd=n.autoInsertedLineEnd.substr(1),n.autoInsertedBrackets--},p.clearMaybeInsertedClosing=function(){n&&(n.maybeInsertedBrackets=0,n.maybeInsertedRow=-1)},i.inherits(p,o),e.CstyleBehaviour=p})),ace.define("ace/unicode",["require","exports","module"],(function(t,e,r){e.packages={},function(t){var r=/\w{4}/g;for(var n in t)e.packages[n]=t[n].replace(r,"\\u$&")}({L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Ll:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",Lo:"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",Mc:"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",Me:"0488048906DE20DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",Pd:"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",S:"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",So:"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",Cc:"0000-001F007F-009F",Cf:"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"})})),ace.define("ace/mode/text",["require","exports","module","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],(function(t,e,r){var n=t("../tokenizer").Tokenizer,i=t("./text_highlight_rules").TextHighlightRules,o=t("./behaviour/cstyle").CstyleBehaviour,s=t("../unicode"),a=t("../lib/lang"),l=t("../token_iterator").TokenIterator,c=t("../range").Range,u=function(){this.HighlightRules=i};(function(){this.$defaultBehaviour=new o,this.tokenRe=new RegExp("^["+s.packages.L+s.packages.Mn+s.packages.Mc+s.packages.Nd+s.packages.Pc+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+s.packages.L+s.packages.Mn+s.packages.Mc+s.packages.Nd+s.packages.Pc+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new n(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(t,e,r,n){var i=e.doc,o=!0,s=!0,l=1/0,c=e.getTabSize(),u=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))m=this.lineCommentStart.map(a.escapeRegExp).join("|"),f=this.lineCommentStart[0];else m=a.escapeRegExp(this.lineCommentStart),f=this.lineCommentStart;m=new RegExp("^(\\s*)(?:"+m+") ?"),u=e.getUseSoftTabs();v=function(t,e){var r=t.match(m);if(r){var n=r[1].length,o=r[0].length;d(t,n,o)||" "!=r[0][o-1]||o--,i.removeInLine(e,n,o)}};var h=f+" ",d=(y=function(t,e){o&&!/\S/.test(t)||(d(t,l,l)?i.insertInLine({row:e,column:l},h):i.insertInLine({row:e,column:l},f))},b=function(t,e){return m.test(t)},function(t,e,r){for(var n=0;e--&&" "==t.charAt(e);)n++;if(n%c!=0)return!1;for(n=0;" "==t.charAt(r++);)n++;return c>2?n%c!=c-1:n%c==0})}else{if(!this.blockComment)return!1;var f=this.blockComment.start,p=this.blockComment.end,m=new RegExp("^(\\s*)(?:"+a.escapeRegExp(f)+")"),g=new RegExp("(?:"+a.escapeRegExp(p)+")\\s*$"),y=function(t,e){b(t,e)||o&&!/\S/.test(t)||(i.insertInLine({row:e,column:t.length},p),i.insertInLine({row:e,column:l},f))},v=function(t,e){var r;(r=t.match(g))&&i.removeInLine(e,t.length-r[0].length,t.length),(r=t.match(m))&&i.removeInLine(e,r[1].length,r[0].length)},b=function(t,r){if(m.test(t))return!0;for(var n=e.getTokens(r),i=0;i<n.length;i++)if("comment"===n[i].type)return!0}}function A(t){for(var e=r;e<=n;e++)t(i.getLine(e),e)}var C=1/0;A((function(t,e){var r=t.search(/\S/);-1!==r?(r<l&&(l=r),s&&!b(t,e)&&(s=!1)):C>t.length&&(C=t.length)})),l==1/0&&(l=C,o=!1,s=!1),u&&l%c!=0&&(l=Math.floor(l/c)*c),A(s?v:y)},this.toggleBlockComment=function(t,e,r,n){var i=this.blockComment;if(i){!i.start&&i[0]&&(i=i[0]);var o,s,a=(m=new l(e,n.row,n.column)).getCurrentToken(),u=(e.selection,e.selection.toOrientedRange());if(a&&/comment/.test(a.type)){for(var h,d;a&&/comment/.test(a.type);){if(-1!=(g=a.value.indexOf(i.start))){var f=m.getCurrentTokenRow(),p=m.getCurrentTokenColumn()+g;h=new c(f,p,f,p+i.start.length);break}a=m.stepBackward()}var m;for(a=(m=new l(e,n.row,n.column)).getCurrentToken();a&&/comment/.test(a.type);){var g;if(-1!=(g=a.value.indexOf(i.end))){f=m.getCurrentTokenRow(),p=m.getCurrentTokenColumn()+g;d=new c(f,p,f,p+i.end.length);break}a=m.stepForward()}d&&e.remove(d),h&&(e.remove(h),o=h.start.row,s=-i.start.length)}else s=i.start.length,o=r.start.row,e.insert(r.end,i.end),e.insert(r.start,i.start);u.start.row==o&&(u.start.column+=s),u.end.row==o&&(u.end.column+=s),e.selection.fromOrientedRange(u)}},this.getNextLineIndent=function(t,e,r){return this.$getIndent(e)},this.checkOutdent=function(t,e,r){return!1},this.autoOutdent=function(t,e,r){},this.$getIndent=function(t){return t.match(/^\s*/)[0]},this.createWorker=function(t){return null},this.createModeDelegates=function(t){for(var e in this.$embeds=[],this.$modes={},t)t[e]&&(this.$embeds.push(e),this.$modes[e]=new t[e]);var r=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(e=0;e<r.length;e++)!function(t){var n=r[e],i=t[n];t[r[e]]=function(){return this.$delegator(n,arguments,i)}}(this)},this.$delegator=function(t,e,r){var n=e[0];"string"!=typeof n&&(n=n[0]);for(var i=0;i<this.$embeds.length;i++)if(this.$modes[this.$embeds[i]]){var o=n.split(this.$embeds[i]);if(!o[0]&&o[1]){e[0]=o[1];var s=this.$modes[this.$embeds[i]];return s[t].apply(s,e)}}var a=r.apply(this,e);return r?a:void 0},this.transformAction=function(t,e,r,n,i){if(this.$behaviour){var o=this.$behaviour.getBehaviours();for(var s in o)if(o[s][e]){var a=o[s][e].apply(this,arguments);if(a)return a}}},this.getKeywords=function(t){if(!this.completionKeywords){var e=this.$tokenizer.rules,r=[];for(var n in e)for(var i=e[n],o=0,s=i.length;o<s;o++)if("string"==typeof i[o].token)/keyword|support|storage/.test(i[o].token)&&r.push(i[o].regex);else if("object"==typeof i[o].token)for(var a=0,l=i[o].token.length;a<l;a++)if(/keyword|support|storage/.test(i[o].token[a])){n=i[o].regex.match(/\(.+?\)/g)[a];r.push(n.substr(1,n.length-2))}this.completionKeywords=r}return t?r.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(t,e,r,n){return(this.$keywordList||this.$createKeywordList()).map((function(t){return{name:t,value:t,score:0,meta:"keyword"}}))},this.$id="ace/mode/text"}).call(u.prototype),e.Mode=u})),ace.define("ace/apply_delta",["require","exports","module"],(function(t,e,r){e.applyDelta=function(t,e,r){var n=e.start.row,i=e.start.column,o=t[n]||"";switch(e.action){case"insert":if(1===e.lines.length)t[n]=o.substring(0,i)+e.lines[0]+o.substring(i);else{var s=[n,1].concat(e.lines);t.splice.apply(t,s),t[n]=o.substring(0,i)+t[n],t[n+e.lines.length-1]+=o.substring(i)}break;case"remove":var a=e.end.column,l=e.end.row;n===l?t[n]=o.substring(0,i)+o.substring(a):t.splice(n,l-n+1,o.substring(0,i)+t[l].substring(a))}}})),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(t,e,r){var n=t("./lib/oop"),i=t("./lib/event_emitter").EventEmitter,o=e.Anchor=function(t,e,r){this.$onChange=this.onChange.bind(this),this.attach(t),void 0===r?this.setPosition(e.row,e.column):this.setPosition(e,r)};(function(){function t(t,e,r){var n=r?t.column<=e.column:t.column<e.column;return t.row<e.row||t.row==e.row&&n}n.implement(this,i),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(e){if(!(e.start.row==e.end.row&&e.start.row!=this.row||e.start.row>this.row)){var r=function(e,r,n){var i="insert"==e.action,o=(i?1:-1)*(e.end.row-e.start.row),s=(i?1:-1)*(e.end.column-e.start.column),a=e.start,l=i?a:e.end;return t(r,a,n)?{row:r.row,column:r.column}:t(l,r,!n)?{row:r.row+o,column:r.column+(r.row==l.row?s:0)}:{row:a.row,column:a.column}}(e,{row:this.row,column:this.column},this.$insertRight);this.setPosition(r.row,r.column,!0)}},this.setPosition=function(t,e,r){var n;if(n=r?{row:t,column:e}:this.$clipPositionToDocument(t,e),this.row!=n.row||this.column!=n.column){var i={row:this.row,column:this.column};this.row=n.row,this.column=n.column,this._signal("change",{old:i,value:n})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(t){this.document=t||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(t,e){var r={};return t>=this.document.getLength()?(r.row=Math.max(0,this.document.getLength()-1),r.column=this.document.getLine(r.row).length):t<0?(r.row=0,r.column=0):(r.row=t,r.column=Math.min(this.document.getLine(r.row).length,Math.max(0,e))),e<0&&(r.column=0),r}}).call(o.prototype)})),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],(function(t,e,r){var n=t("./lib/oop"),i=t("./apply_delta").applyDelta,o=t("./lib/event_emitter").EventEmitter,s=t("./range").Range,a=t("./anchor").Anchor,l=function(t){this.$lines=[""],0===t.length?this.$lines=[""]:Array.isArray(t)?this.insertMergedLines({row:0,column:0},t):this.insert({row:0,column:0},t)};(function(){n.implement(this,o),this.setValue=function(t){var e=this.getLength()-1;this.remove(new s(0,0,e,this.getLine(e).length)),this.insert({row:0,column:0},t)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(t,e){return new a(this,t,e)},0==="aaa".split(/a/).length?this.$split=function(t){return t.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(t){return t.split(/\r\n|\r|\n/)},this.$detectNewLine=function(t){var e=t.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=e?e[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(t){this.$newLineMode!==t&&(this.$newLineMode=t,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(t){return"\r\n"==t||"\r"==t||"\n"==t},this.getLine=function(t){return this.$lines[t]||""},this.getLines=function(t,e){return this.$lines.slice(t,e+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(t){return this.getLinesForRange(t).join(this.getNewLineCharacter())},this.getLinesForRange=function(t){var e;if(t.start.row===t.end.row)e=[this.getLine(t.start.row).substring(t.start.column,t.end.column)];else{(e=this.getLines(t.start.row,t.end.row))[0]=(e[0]||"").substring(t.start.column);var r=e.length-1;t.end.row-t.start.row==r&&(e[r]=e[r].substring(0,t.end.column))}return e},this.insertLines=function(t,e){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(t,e)},this.removeLines=function(t,e){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(t,e)},this.insertNewLine=function(t){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(t,["",""])},this.insert=function(t,e){return this.getLength()<=1&&this.$detectNewLine(e),this.insertMergedLines(t,this.$split(e))},this.insertInLine=function(t,e){var r=this.clippedPos(t.row,t.column),n=this.pos(t.row,t.column+e.length);return this.applyDelta({start:r,end:n,action:"insert",lines:[e]},!0),this.clonePos(n)},this.clippedPos=function(t,e){var r=this.getLength();void 0===t?t=r:t<0?t=0:t>=r&&(t=r-1,e=void 0);var n=this.getLine(t);return null==e&&(e=n.length),{row:t,column:e=Math.min(Math.max(e,0),n.length)}},this.clonePos=function(t){return{row:t.row,column:t.column}},this.pos=function(t,e){return{row:t,column:e}},this.$clipPosition=function(t){var e=this.getLength();return t.row>=e?(t.row=Math.max(0,e-1),t.column=this.getLine(e-1).length):(t.row=Math.max(0,t.row),t.column=Math.min(Math.max(t.column,0),this.getLine(t.row).length)),t},this.insertFullLines=function(t,e){var r=0;(t=Math.min(Math.max(t,0),this.getLength()))<this.getLength()?(e=e.concat([""]),r=0):(e=[""].concat(e),t--,r=this.$lines[t].length),this.insertMergedLines({row:t,column:r},e)},this.insertMergedLines=function(t,e){var r=this.clippedPos(t.row,t.column),n={row:r.row+e.length-1,column:(1==e.length?r.column:0)+e[e.length-1].length};return this.applyDelta({start:r,end:n,action:"insert",lines:e}),this.clonePos(n)},this.remove=function(t){var e=this.clippedPos(t.start.row,t.start.column),r=this.clippedPos(t.end.row,t.end.column);return this.applyDelta({start:e,end:r,action:"remove",lines:this.getLinesForRange({start:e,end:r})}),this.clonePos(e)},this.removeInLine=function(t,e,r){var n=this.clippedPos(t,e),i=this.clippedPos(t,r);return this.applyDelta({start:n,end:i,action:"remove",lines:this.getLinesForRange({start:n,end:i})},!0),this.clonePos(n)},this.removeFullLines=function(t,e){t=Math.min(Math.max(0,t),this.getLength()-1);var r=(e=Math.min(Math.max(0,e),this.getLength()-1))==this.getLength()-1&&t>0,n=e<this.getLength()-1,i=r?t-1:t,o=r?this.getLine(i).length:0,a=n?e+1:e,l=n?0:this.getLine(a).length,c=new s(i,o,a,l),u=this.$lines.slice(t,e+1);return this.applyDelta({start:c.start,end:c.end,action:"remove",lines:this.getLinesForRange(c)}),u},this.removeNewLine=function(t){t<this.getLength()-1&&t>=0&&this.applyDelta({start:this.pos(t,this.getLine(t).length),end:this.pos(t+1,0),action:"remove",lines:["",""]})},this.replace=function(t,e){return t instanceof s||(t=s.fromPoints(t.start,t.end)),0===e.length&&t.isEmpty()?t.start:e==this.getTextRange(t)?t.end:(this.remove(t),e?this.insert(t.start,e):t.start)},this.applyDeltas=function(t){for(var e=0;e<t.length;e++)this.applyDelta(t[e])},this.revertDeltas=function(t){for(var e=t.length-1;e>=0;e--)this.revertDelta(t[e])},this.applyDelta=function(t,e){var r="insert"==t.action;(r?t.lines.length<=1&&!t.lines[0]:!s.comparePoints(t.start,t.end))||(r&&t.lines.length>2e4&&this.$splitAndapplyLargeDelta(t,2e4),i(this.$lines,t,e),this._signal("change",t))},this.$splitAndapplyLargeDelta=function(t,e){for(var r=t.lines,n=r.length,i=t.start.row,o=t.start.column,s=0,a=0;;){s=a,a+=e-1;var l=r.slice(s,a);if(a>n){t.lines=l,t.start.row=i+s,t.start.column=o;break}l.push(""),this.applyDelta({start:this.pos(i+s,o),end:this.pos(i+a,o=0),action:t.action,lines:l},!0)}},this.revertDelta=function(t){this.applyDelta({start:this.clonePos(t.start),end:this.clonePos(t.end),action:"insert"==t.action?"remove":"insert",lines:t.lines.slice()})},this.indexToPosition=function(t,e){for(var r=this.$lines||this.getAllLines(),n=this.getNewLineCharacter().length,i=e||0,o=r.length;i<o;i++)if((t-=r[i].length+n)<0)return{row:i,column:t+r[i].length+n};return{row:o-1,column:r[o-1].length}},this.positionToIndex=function(t,e){for(var r=this.$lines||this.getAllLines(),n=this.getNewLineCharacter().length,i=0,o=Math.min(t.row,r.length),s=e||0;s<o;++s)i+=r[s].length+n;return i+t.column}}).call(l.prototype),e.Document=l})),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(t,e,r){var n=t("./lib/oop"),i=t("./lib/event_emitter").EventEmitter,o=function(t,e){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=t;var r=this;this.$worker=function(){if(r.running){for(var t=new Date,e=r.currentLine,n=-1,i=r.doc,o=e;r.lines[e];)e++;var s=i.getLength(),a=0;for(r.running=!1;e<s;){r.$tokenizeRow(e),n=e;do{e++}while(r.lines[e]);if(++a%5==0&&new Date-t>20){r.running=setTimeout(r.$worker,20);break}}r.currentLine=e,-1==n&&(n=e),o<=n&&r.fireUpdateEvent(o,n)}}};(function(){n.implement(this,i),this.setTokenizer=function(t){this.tokenizer=t,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(t){this.doc=t,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(t,e){var r={first:t,last:e};this._signal("update",{data:r})},this.start=function(t){this.currentLine=Math.min(t||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(t){var e=t.start.row,r=t.end.row-e;if(0===r)this.lines[e]=null;else if("remove"==t.action)this.lines.splice(e,r+1,null),this.states.splice(e,r+1,null);else{var n=Array(r+1);n.unshift(e,1),this.lines.splice.apply(this.lines,n),this.states.splice.apply(this.states,n)}this.currentLine=Math.min(e,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(t){return this.lines[t]||this.$tokenizeRow(t)},this.getState=function(t){return this.currentLine==t&&this.$tokenizeRow(t),this.states[t]||"start"},this.$tokenizeRow=function(t){var e=this.doc.getLine(t),r=this.states[t-1],n=this.tokenizer.getLineTokens(e,r,t);return this.states[t]+""!=n.state+""?(this.states[t]=n.state,this.lines[t+1]=null,this.currentLine>t+1&&(this.currentLine=t+1)):this.currentLine==t&&(this.currentLine=t+1),this.lines[t]=n.tokens}}).call(o.prototype),e.BackgroundTokenizer=o})),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(t,e,r){var n=t("./lib/lang"),i=(t("./lib/oop"),t("./range").Range),o=function(t,e,r){this.setRegexp(t),this.clazz=e,this.type=r||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(t){this.regExp+""!=t+""&&(this.regExp=t,this.cache=[])},this.update=function(t,e,r,o){if(this.regExp)for(var s=o.firstRow,a=o.lastRow,l=s;l<=a;l++){var c=this.cache[l];null==c&&((c=n.getMatchOffsets(r.getLine(l),this.regExp)).length>this.MAX_RANGES&&(c=c.slice(0,this.MAX_RANGES)),c=c.map((function(t){return new i(l,t.offset,l,t.offset+t.length)})),this.cache[l]=c.length?c:"");for(var u=c.length;u--;)e.drawSingleLineMarker(t,c[u].toScreenRange(r),this.clazz,o)}}}).call(o.prototype),e.SearchHighlight=o})),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],(function(t,e,r){var n=t("../range").Range;function i(t,e){this.foldData=t,Array.isArray(e)?this.folds=e:e=this.folds=[e];var r=e[e.length-1];this.range=new n(e[0].start.row,e[0].start.column,r.end.row,r.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach((function(t){t.setFoldLine(this)}),this)}(function(){this.shiftRow=function(t){this.start.row+=t,this.end.row+=t,this.folds.forEach((function(e){e.start.row+=t,e.end.row+=t}))},this.addFold=function(t){if(t.sameRow){if(t.start.row<this.startRow||t.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(t),this.folds.sort((function(t,e){return-t.range.compareEnd(e.start.row,e.start.column)})),this.range.compareEnd(t.start.row,t.start.column)>0?(this.end.row=t.end.row,this.end.column=t.end.column):this.range.compareStart(t.end.row,t.end.column)<0&&(this.start.row=t.start.row,this.start.column=t.start.column)}else if(t.start.row==this.end.row)this.folds.push(t),this.end.row=t.end.row,this.end.column=t.end.column;else{if(t.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(t),this.start.row=t.start.row,this.start.column=t.start.column}t.foldLine=this},this.containsRow=function(t){return t>=this.start.row&&t<=this.end.row},this.walk=function(t,e,r){var n,i,o=0,s=this.folds,a=!0;null==e&&(e=this.end.row,r=this.end.column);for(var l=0;l<s.length;l++){if(-1==(i=(n=s[l]).range.compareStart(e,r)))return void t(null,e,r,o,a);if(!t(null,n.start.row,n.start.column,o,a)&&t(n.placeholder,n.start.row,n.start.column,o)||0===i)return;a=!n.sameRow,o=n.end.column}t(null,e,r,o,a)},this.getNextFoldTo=function(t,e){for(var r,n,i=0;i<this.folds.length;i++){if(-1==(n=(r=this.folds[i]).range.compareEnd(t,e)))return{fold:r,kind:"after"};if(0===n)return{fold:r,kind:"inside"}}return null},this.addRemoveChars=function(t,e,r){var n,i,o=this.getNextFoldTo(t,e);if(o)if(n=o.fold,"inside"==o.kind&&n.start.column!=e&&n.start.row!=t)window.console&&window.console.log(t,e,n);else if(n.start.row==t){var s=(i=this.folds).indexOf(n);for(0===s&&(this.start.column+=r);s<i.length;s++){if((n=i[s]).start.column+=r,!n.sameRow)return;n.end.column+=r}this.end.column+=r}},this.split=function(t,e){var r=this.getNextFoldTo(t,e);if(!r||"inside"==r.kind)return null;var n=r.fold,o=this.folds,s=this.foldData,a=o.indexOf(n),l=o[a-1];this.end.row=l.end.row,this.end.column=l.end.column;var c=new i(s,o=o.splice(a,o.length-a));return s.splice(s.indexOf(this)+1,0,c),c},this.merge=function(t){for(var e=t.folds,r=0;r<e.length;r++)this.addFold(e[r]);var n=this.foldData;n.splice(n.indexOf(t),1)},this.toString=function(){var t=[this.range.toString()+": ["];return this.folds.forEach((function(e){t.push("  "+e.toString())})),t.push("]"),t.join("\n")},this.idxToPosition=function(t){for(var e=0,r=0;r<this.folds.length;r++){var n=this.folds[r];if((t-=n.start.column-e)<0)return{row:n.start.row,column:n.start.column+t};if((t-=n.placeholder.length)<0)return n.start;e=n.end.column}return{row:this.end.row,column:this.end.column+t}}}).call(i.prototype),e.FoldLine=i})),ace.define("ace/range_list",["require","exports","module","ace/range"],(function(t,e,r){var n=t("./range").Range.comparePoints,i=function(){this.ranges=[]};(function(){this.comparePoints=n,this.pointIndex=function(t,e,r){for(var i=this.ranges,o=r||0;o<i.length;o++){var s=i[o],a=n(t,s.end);if(!(a>0)){var l=n(t,s.start);return 0===a?e&&0!==l?-o-2:o:l>0||0===l&&!e?o:-o-1}}return-o-1},this.add=function(t){var e=!t.isEmpty(),r=this.pointIndex(t.start,e);r<0&&(r=-r-1);var n=this.pointIndex(t.end,e,r);return n<0?n=-n-1:n++,this.ranges.splice(r,n-r,t)},this.addList=function(t){for(var e=[],r=t.length;r--;)e.push.apply(e,this.add(t[r]));return e},this.substractPoint=function(t){var e=this.pointIndex(t);if(e>=0)return this.ranges.splice(e,1)},this.merge=function(){for(var t,e=[],r=this.ranges,i=(r=r.sort((function(t,e){return n(t.start,e.start)})))[0],o=1;o<r.length;o++){t=i,i=r[o];var s=n(t.end,i.start);s<0||(0!=s||t.isEmpty()||i.isEmpty())&&(n(t.end,i.end)<0&&(t.end.row=i.end.row,t.end.column=i.end.column),r.splice(o,1),e.push(i),i=t,o--)}return this.ranges=r,e},this.contains=function(t,e){return this.pointIndex({row:t,column:e})>=0},this.containsPoint=function(t){return this.pointIndex(t)>=0},this.rangeAtPoint=function(t){var e=this.pointIndex(t);if(e>=0)return this.ranges[e]},this.clipRows=function(t,e){var r=this.ranges;if(r[0].start.row>e||r[r.length-1].start.row<t)return[];var n=this.pointIndex({row:t,column:0});n<0&&(n=-n-1);var i=this.pointIndex({row:e,column:0},n);i<0&&(i=-i-1);for(var o=[],s=n;s<i;s++)o.push(r[s]);return o},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(t){this.session&&this.detach(),this.session=t,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(t){if("insert"==t.action)var e=t.start,r=t.end;else r=t.start,e=t.end;for(var n=e.row,i=r.row-n,o=-e.column+r.column,s=this.ranges,a=0,l=s.length;a<l;a++){if(!((c=s[a]).end.row<n)){if(c.start.row>n)break;if(c.start.row==n&&c.start.column>=e.column&&(c.start.column==e.column&&this.$insertRight||(c.start.column+=o,c.start.row+=i)),c.end.row==n&&c.end.column>=e.column){if(c.end.column==e.column&&this.$insertRight)continue;c.end.column==e.column&&o>0&&a<l-1&&c.end.column>c.start.column&&c.end.column==s[a+1].start.column&&(c.end.column-=o),c.end.column+=o,c.end.row+=i}}}if(0!=i&&a<l)for(;a<l;a++){var c;(c=s[a]).start.row+=i,c.end.row+=i}}}).call(i.prototype),e.RangeList=i})),ace.define("ace/edit_session/fold",["require","exports","module","ace/range","ace/range_list","ace/lib/oop"],(function(t,e,r){t("../range").Range;var n=t("../range_list").RangeList,i=t("../lib/oop"),o=e.Fold=function(t,e){this.foldLine=null,this.placeholder=e,this.range=t,this.start=t.start,this.end=t.end,this.sameRow=t.start.row==t.end.row,this.subFolds=this.ranges=[]};function s(t,e){t.row-=e.row,0==t.row&&(t.column-=e.column)}function a(t,e){0==t.row&&(t.column+=e.column),t.row+=e.row}i.inherits(o,n),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(t){this.foldLine=t,this.subFolds.forEach((function(e){e.setFoldLine(t)}))},this.clone=function(){var t=this.range.clone(),e=new o(t,this.placeholder);return this.subFolds.forEach((function(t){e.subFolds.push(t.clone())})),e.collapseChildren=this.collapseChildren,e},this.addSubFold=function(t){if(!this.range.isEqual(t)){if(!this.range.containsRange(t))throw new Error("A fold can't intersect already existing fold"+t.range+this.range);var e,r;e=t,r=this.start,s(e.start,r),s(e.end,r);for(var n=t.start.row,i=t.start.column,o=0,a=-1;o<this.subFolds.length&&1==(a=this.subFolds[o].range.compare(n,i));o++);var l=this.subFolds[o];if(0==a)return l.addSubFold(t);n=t.range.end.row,i=t.range.end.column;var c=o;for(a=-1;c<this.subFolds.length&&1==(a=this.subFolds[c].range.compare(n,i));c++);this.subFolds[c];if(0==a)throw new Error("A fold can't intersect already existing fold"+t.range+this.range);this.subFolds.splice(o,c-o,t);return t.setFoldLine(this.foldLine),t}},this.restoreRange=function(t){return function(t,e){a(t.start,e),a(t.end,e)}(t,this.start)}}.call(o.prototype)})),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],(function(t,e,r){var n=t("../range").Range,i=t("./fold_line").FoldLine,o=t("./fold").Fold,s=t("../token_iterator").TokenIterator;e.Folding=function(){this.getFoldAt=function(t,e,r){var n=this.getFoldLine(t);if(!n)return null;for(var i=n.folds,o=0;o<i.length;o++){var s=i[o];if(s.range.contains(t,e)){if(1==r&&s.range.isEnd(t,e))continue;if(-1==r&&s.range.isStart(t,e))continue;return s}}},this.getFoldsInRange=function(t){var e=t.start,r=t.end,n=this.$foldData,i=[];e.column+=1,r.column-=1;for(var o=0;o<n.length;o++){var s=n[o].range.compareRange(t);if(2!=s){if(-2==s)break;for(var a=n[o].folds,l=0;l<a.length;l++){var c=a[l];if(-2==(s=c.range.compareRange(t)))break;if(2!=s){if(42==s)break;i.push(c)}}}}return e.column-=1,r.column+=1,i},this.getFoldsInRangeList=function(t){if(Array.isArray(t)){var e=[];t.forEach((function(t){e=e.concat(this.getFoldsInRange(t))}),this)}else e=this.getFoldsInRange(t);return e},this.getAllFolds=function(){for(var t=[],e=this.$foldData,r=0;r<e.length;r++)for(var n=0;n<e[r].folds.length;n++)t.push(e[r].folds[n]);return t},this.getFoldStringAt=function(t,e,r,n){if(!(n=n||this.getFoldLine(t)))return null;for(var i,o,s={end:{column:0}},a=0;a<n.folds.length;a++){var l=(o=n.folds[a]).range.compareEnd(t,e);if(-1==l){i=this.getLine(o.start.row).substring(s.end.column,o.start.column);break}if(0===l)return null;s=o}return i||(i=this.getLine(o.start.row).substring(s.end.column)),-1==r?i.substring(0,e-s.end.column):1==r?i.substring(e-s.end.column):i},this.getFoldLine=function(t,e){var r=this.$foldData,n=0;for(e&&(n=r.indexOf(e)),-1==n&&(n=0);n<r.length;n++){var i=r[n];if(i.start.row<=t&&i.end.row>=t)return i;if(i.end.row>t)return null}return null},this.getNextFoldLine=function(t,e){var r=this.$foldData,n=0;for(e&&(n=r.indexOf(e)),-1==n&&(n=0);n<r.length;n++){var i=r[n];if(i.end.row>=t)return i}return null},this.getFoldedRowCount=function(t,e){for(var r=this.$foldData,n=e-t+1,i=0;i<r.length;i++){var o=r[i],s=o.end.row,a=o.start.row;if(s>=e){a<e&&(a>=t?n-=e-a:n=0);break}s>=t&&(n-=a>=t?s-a:s-t+1)}return n},this.$addFoldLine=function(t){return this.$foldData.push(t),this.$foldData.sort((function(t,e){return t.start.row-e.start.row})),t},this.addFold=function(t,e){var r,n=this.$foldData,s=!1;t instanceof o?r=t:(r=new o(e,t)).collapseChildren=e.collapseChildren,this.$clipRangeToDocument(r.range);var a=r.start.row,l=r.start.column,c=r.end.row,u=r.end.column;if(!(a<c||a==c&&l<=u-2))throw new Error("The range has to be at least 2 characters width");var h=this.getFoldAt(a,l,1),d=this.getFoldAt(c,u,-1);if(h&&d==h)return h.addSubFold(r);h&&!h.range.isStart(a,l)&&this.removeFold(h),d&&!d.range.isEnd(c,u)&&this.removeFold(d);var f=this.getFoldsInRange(r.range);f.length>0&&(this.removeFolds(f),f.forEach((function(t){r.addSubFold(t)})));for(var p=0;p<n.length;p++){var m=n[p];if(c==m.start.row){m.addFold(r),s=!0;break}if(a==m.end.row){if(m.addFold(r),s=!0,!r.sameRow){var g=n[p+1];if(g&&g.start.row==c){m.merge(g);break}}break}if(c<=m.start.row)break}return s||(m=this.$addFoldLine(new i(this.$foldData,r))),this.$useWrapMode?this.$updateWrapData(m.start.row,m.start.row):this.$updateRowLengthCache(m.start.row,m.start.row),this.$modified=!0,this._signal("changeFold",{data:r,action:"add"}),r},this.addFolds=function(t){t.forEach((function(t){this.addFold(t)}),this)},this.removeFold=function(t){var e=t.foldLine,r=e.start.row,n=e.end.row,i=this.$foldData,o=e.folds;if(1==o.length)i.splice(i.indexOf(e),1);else if(e.range.isEnd(t.end.row,t.end.column))o.pop(),e.end.row=o[o.length-1].end.row,e.end.column=o[o.length-1].end.column;else if(e.range.isStart(t.start.row,t.start.column))o.shift(),e.start.row=o[0].start.row,e.start.column=o[0].start.column;else if(t.sameRow)o.splice(o.indexOf(t),1);else{var s=e.split(t.start.row,t.start.column);(o=s.folds).shift(),s.start.row=o[0].start.row,s.start.column=o[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(r,n):this.$updateRowLengthCache(r,n)),this.$modified=!0,this._signal("changeFold",{data:t,action:"remove"})},this.removeFolds=function(t){for(var e=[],r=0;r<t.length;r++)e.push(t[r]);e.forEach((function(t){this.removeFold(t)}),this),this.$modified=!0},this.expandFold=function(t){this.removeFold(t),t.subFolds.forEach((function(e){t.restoreRange(e),this.addFold(e)}),this),t.collapseChildren>0&&this.foldAll(t.start.row+1,t.end.row,t.collapseChildren-1),t.subFolds=[]},this.expandFolds=function(t){t.forEach((function(t){this.expandFold(t)}),this)},this.unfold=function(t,e){var r,i;if(null==t?(r=new n(0,0,this.getLength(),0),e=!0):r="number"==typeof t?new n(t,0,t,this.getLine(t).length):"row"in t?n.fromPoints(t,t):t,i=this.getFoldsInRangeList(r),e)this.removeFolds(i);else for(var o=i;o.length;)this.expandFolds(o),o=this.getFoldsInRangeList(r);if(i.length)return i},this.isRowFolded=function(t,e){return!!this.getFoldLine(t,e)},this.getRowFoldEnd=function(t,e){var r=this.getFoldLine(t,e);return r?r.end.row:t},this.getRowFoldStart=function(t,e){var r=this.getFoldLine(t,e);return r?r.start.row:t},this.getFoldDisplayLine=function(t,e,r,n,i){null==n&&(n=t.start.row),null==i&&(i=0),null==e&&(e=t.end.row),null==r&&(r=this.getLine(e).length);var o=this.doc,s="";return t.walk((function(t,e,r,a){if(!(e<n)){if(e==n){if(r<i)return;a=Math.max(i,a)}s+=null!=t?t:o.getLine(e).substring(a,r)}}),e,r),s},this.getDisplayLine=function(t,e,r,n){var i,o=this.getFoldLine(t);return o?this.getFoldDisplayLine(o,t,e,r,n):(i=this.doc.getLine(t)).substring(n||0,e||i.length)},this.$cloneFoldData=function(){var t=[];return t=this.$foldData.map((function(e){var r=e.folds.map((function(t){return t.clone()}));return new i(t,r)}))},this.toggleFold=function(t){var e,r,n=this.selection.getRange();if(n.isEmpty()){var i=n.start;if(e=this.getFoldAt(i.row,i.column))return void this.expandFold(e);(r=this.findMatchingBracket(i))?1==n.comparePoint(r)?n.end=r:(n.start=r,n.start.column++,n.end.column--):(r=this.findMatchingBracket({row:i.row,column:i.column+1}))?(1==n.comparePoint(r)?n.end=r:n.start=r,n.start.column++):n=this.getCommentFoldRange(i.row,i.column)||n}else{var o=this.getFoldsInRange(n);if(t&&o.length)return void this.expandFolds(o);1==o.length&&(e=o[0])}if(e||(e=this.getFoldAt(n.start.row,n.start.column)),e&&e.range.toString()==n.toString())this.expandFold(e);else{var s="...";if(!n.isMultiLine()){if((s=this.getTextRange(n)).length<4)return;s=s.trim().substring(0,2)+".."}this.addFold(s,n)}},this.getCommentFoldRange=function(t,e,r){var i=new s(this,t,e),o=i.getCurrentToken(),a=o.type;if(o&&/^comment|string/.test(a)){"comment"==(a=a.match(/comment|string/)[0])&&(a+="|doc-start");var l=new RegExp(a),c=new n;if(1!=r){do{o=i.stepBackward()}while(o&&l.test(o.type));i.stepForward()}if(c.start.row=i.getCurrentTokenRow(),c.start.column=i.getCurrentTokenColumn()+2,i=new s(this,t,e),-1!=r){var u=-1;do{if(o=i.stepForward(),-1==u){var h=this.getState(i.$row);l.test(h)||(u=i.$row)}else if(i.$row>u)break}while(o&&l.test(o.type));o=i.stepBackward()}else o=i.getCurrentToken();return c.end.row=i.getCurrentTokenRow(),c.end.column=i.getCurrentTokenColumn()+o.value.length-2,c}},this.foldAll=function(t,e,r){null==r&&(r=1e5);var n=this.foldWidgets;if(n){e=e||this.getLength();for(var i=t=t||0;i<e;i++)if(null==n[i]&&(n[i]=this.getFoldWidget(i)),"start"==n[i]){var o=this.getFoldWidgetRange(i);if(o&&o.isMultiLine()&&o.end.row<=e&&o.start.row>=t){i=o.end.row;try{var s=this.addFold("...",o);s&&(s.collapseChildren=r)}catch(t){}}}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(t){if(!this.$foldStyles[t])throw new Error("invalid fold style: "+t+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=t){this.$foldStyle=t,"manual"==t&&this.unfold();var e=this.$foldMode;this.$setFolding(null),this.$setFolding(e)}},this.$setFolding=function(t){this.$foldMode!=t&&(this.$foldMode=t,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),t&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=t.getFoldWidget.bind(t,this,this.$foldStyle),this.getFoldWidgetRange=t.getFoldWidgetRange.bind(t,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(t,e){var r=this.foldWidgets;if(!r||e&&r[t])return{};for(var n,i=t-1;i>=0;){var o=r[i];if(null==o&&(o=r[i]=this.getFoldWidget(i)),"start"==o){var s=this.getFoldWidgetRange(i);if(n||(n=s),s&&s.end.row>=t)break}i--}return{range:-1!==i&&s,firstRange:n}},this.onFoldWidgetClick=function(t,e){var r={children:(e=e.domEvent).shiftKey,all:e.ctrlKey||e.metaKey,siblings:e.altKey};if(!this.$toggleFoldWidget(t,r)){var n=e.target||e.srcElement;n&&/ace_fold-widget/.test(n.className)&&(n.className+=" ace_invalid")}},this.$toggleFoldWidget=function(t,e){if(this.getFoldWidget){var r=this.getFoldWidget(t),n=this.getLine(t),i="end"===r?-1:1,o=this.getFoldAt(t,-1===i?0:n.length,i);if(o)return e.children||e.all?this.removeFold(o):this.expandFold(o),o;var s=this.getFoldWidgetRange(t,!0);if(s&&!s.isMultiLine()&&(o=this.getFoldAt(s.start.row,s.start.column,1))&&s.isEqual(o.range))return this.removeFold(o),o;if(e.siblings){var a=this.getParentFoldRangeData(t);if(a.range)var l=a.range.start.row+1,c=a.range.end.row;this.foldAll(l,c,e.all?1e4:0)}else e.children?(c=s?s.end.row:this.getLength(),this.foldAll(t+1,c,e.all?1e4:0)):s&&(e.all&&(s.collapseChildren=1e4),this.addFold("...",s));return s}},this.toggleFoldWidget=function(t){var e=this.selection.getCursor().row;e=this.getRowFoldStart(e);var r=this.$toggleFoldWidget(e,{});if(!r){var n=this.getParentFoldRangeData(e,!0);if(r=n.range||n.firstRange){e=r.start.row;var i=this.getFoldAt(e,this.getLine(e).length,1);i?this.removeFold(i):this.addFold("...",r)}}},this.updateFoldWidgets=function(t){var e=t.start.row,r=t.end.row-e;if(0===r)this.foldWidgets[e]=null;else if("remove"==t.action)this.foldWidgets.splice(e,r+1,null);else{var n=Array(r+1);n.unshift(e,1),this.foldWidgets.splice.apply(this.foldWidgets,n)}},this.tokenizerUpdateFoldWidgets=function(t){var e=t.data;e.first!=e.last&&this.foldWidgets.length>e.first&&this.foldWidgets.splice(e.first,this.foldWidgets.length)}}})),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],(function(t,e,r){var n=t("../token_iterator").TokenIterator,i=t("../range").Range;e.BracketMatch=function(){this.findMatchingBracket=function(t,e){if(0==t.column)return null;var r=e||this.getLine(t.row).charAt(t.column-1);if(""==r)return null;var n=r.match(/([\(\[\{])|([\)\]\}])/);return n?n[1]?this.$findClosingBracket(n[1],t):this.$findOpeningBracket(n[2],t):null},this.getBracketRange=function(t){var e,r=this.getLine(t.row),n=!0,o=r.charAt(t.column-1),s=o&&o.match(/([\(\[\{])|([\)\]\}])/);if(s||(o=r.charAt(t.column),t={row:t.row,column:t.column+1},s=o&&o.match(/([\(\[\{])|([\)\]\}])/),n=!1),!s)return null;if(s[1]){if(!(a=this.$findClosingBracket(s[1],t)))return null;e=i.fromPoints(t,a),n||(e.end.column++,e.start.column--),e.cursor=e.end}else{var a;if(!(a=this.$findOpeningBracket(s[2],t)))return null;e=i.fromPoints(a,t),n||(e.start.column++,e.end.column--),e.cursor=e.start}return e},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{"},this.$findOpeningBracket=function(t,e,r){var i=this.$brackets[t],o=1,s=new n(this,e.row,e.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){r||(r=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var l=e.column-s.getCurrentTokenColumn()-2,c=a.value;;){for(;l>=0;){var u=c.charAt(l);if(u==i){if(0==(o-=1))return{row:s.getCurrentTokenRow(),column:l+s.getCurrentTokenColumn()}}else u==t&&(o+=1);l-=1}do{a=s.stepBackward()}while(a&&!r.test(a.type));if(null==a)break;l=(c=a.value).length-1}return null}},this.$findClosingBracket=function(t,e,r){var i=this.$brackets[t],o=1,s=new n(this,e.row,e.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){r||(r=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var l=e.column-s.getCurrentTokenColumn();;){for(var c=a.value,u=c.length;l<u;){var h=c.charAt(l);if(h==i){if(0==(o-=1))return{row:s.getCurrentTokenRow(),column:l+s.getCurrentTokenColumn()}}else h==t&&(o+=1);l+=1}do{a=s.stepForward()}while(a&&!r.test(a.type));if(null==a)break;l=0}return null}}}})),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],(function(t,e,r){var n=t("./lib/oop"),i=t("./lib/lang"),o=t("./bidihandler").BidiHandler,s=t("./config"),a=t("./lib/event_emitter").EventEmitter,l=t("./selection").Selection,c=t("./mode/text").Mode,u=t("./range").Range,h=t("./document").Document,d=t("./background_tokenizer").BackgroundTokenizer,f=t("./search_highlight").SearchHighlight,p=function(t,e){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++p.$uid,this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof t&&t.getLine||(t=new h(t)),this.$bidiHandler=new o(this),this.setDocument(t),this.selection=new l(this),s.resetOptions(this),this.setMode(e),s._signal("session",this)};p.$uid=0,function(){n.implement(this,a),this.setDocument=function(t){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=t,t.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(t){if(!t)return this.$docRowCache=[],void(this.$screenRowCache=[]);var e=this.$docRowCache.length,r=this.$getRowCacheIndex(this.$docRowCache,t)+1;e>r&&(this.$docRowCache.splice(r,e),this.$screenRowCache.splice(r,e))},this.$getRowCacheIndex=function(t,e){for(var r=0,n=t.length-1;r<=n;){var i=r+n>>1,o=t[i];if(e>o)r=i+1;else{if(!(e<o))return i;n=i-1}}return r-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(t){var e=t.data;this.$resetRowCache(e.start.row)},this.onChange=function(t){this.$modified=!0,this.$bidiHandler.onChange(t),this.$resetRowCache(t.start.row);var e=this.$updateInternalDataOnChange(t);this.$fromUndo||!this.$undoManager||t.ignore||(this.$deltasDoc.push(t),e&&0!=e.length&&this.$deltasFold.push({action:"removeFolds",folds:e}),this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(t),this._signal("change",t)},this.setValue=function(t){this.doc.setValue(t),this.selection.moveTo(0,0),this.$resetRowCache(0),this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(t){return this.bgTokenizer.getState(t)},this.getTokens=function(t){return this.bgTokenizer.getTokens(t)},this.getTokenAt=function(t,e){var r,n=this.bgTokenizer.getTokens(t),i=0;if(null==e){var o=n.length-1;i=this.getLine(t).length}else for(o=0;o<n.length&&!((i+=n[o].value.length)>=e);o++);return(r=n[o])?(r.index=o,r.start=i-r.value.length,r):null},this.setUndoManager=function(t){if(this.$undoManager=t,this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.$informUndoManager&&this.$informUndoManager.cancel(),t){var e=this;this.$syncInformUndoManager=function(){e.$informUndoManager.cancel(),e.$deltasFold.length&&(e.$deltas.push({group:"fold",deltas:e.$deltasFold}),e.$deltasFold=[]),e.$deltasDoc.length&&(e.$deltas.push({group:"doc",deltas:e.$deltasDoc}),e.$deltasDoc=[]),e.$deltas.length>0&&t.execute({action:"aceupdate",args:[e.$deltas,e],merge:e.mergeUndoDeltas}),e.mergeUndoDeltas=!1,e.$deltas=[]},this.$informUndoManager=i.delayedCall(this.$syncInformUndoManager)}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?i.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(t){this.setOption("useSoftTabs",t)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(t){this.setOption("tabSize",t)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(t){return this.$useSoftTabs&&t.column%this.$tabSize==0},this.setNavigateWithinSoftTabs=function(t){this.setOption("navigateWithinSoftTabs",t)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(t){this.setOption("overwrite",t)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(t,e){this.$decorations[t]||(this.$decorations[t]=""),this.$decorations[t]+=" "+e,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(t,e){this.$decorations[t]=(this.$decorations[t]||"").replace(" "+e,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(t){this.$breakpoints=[];for(var e=0;e<t.length;e++)this.$breakpoints[t[e]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(t,e){void 0===e&&(e="ace_breakpoint"),e?this.$breakpoints[t]=e:delete this.$breakpoints[t],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(t){delete this.$breakpoints[t],this._signal("changeBreakpoint",{})},this.addMarker=function(t,e,r,n){var i=this.$markerId++,o={range:t,type:r||"line",renderer:"function"==typeof r?r:null,clazz:e,inFront:!!n,id:i};return n?(this.$frontMarkers[i]=o,this._signal("changeFrontMarker")):(this.$backMarkers[i]=o,this._signal("changeBackMarker")),i},this.addDynamicMarker=function(t,e){if(t.update){var r=this.$markerId++;return t.id=r,t.inFront=!!e,e?(this.$frontMarkers[r]=t,this._signal("changeFrontMarker")):(this.$backMarkers[r]=t,this._signal("changeBackMarker")),t}},this.removeMarker=function(t){var e=this.$frontMarkers[t]||this.$backMarkers[t];if(e){var r=e.inFront?this.$frontMarkers:this.$backMarkers;e&&(delete r[t],this._signal(e.inFront?"changeFrontMarker":"changeBackMarker"))}},this.getMarkers=function(t){return t?this.$frontMarkers:this.$backMarkers},this.highlight=function(t){if(!this.$searchHighlight){var e=new f(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(e)}this.$searchHighlight.setRegexp(t)},this.highlightLines=function(t,e,r,n){"number"!=typeof e&&(r=e,e=t),r||(r="ace_step");var i=new u(t,0,e,1/0);return i.id=this.addMarker(i,r,"fullLine",n),i},this.setAnnotations=function(t){this.$annotations=t,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(t){var e=t.match(/^.*?(\r?\n)/m);this.$autoNewLine=e?e[1]:"\n"},this.getWordRange=function(t,e){var r=this.getLine(t),n=!1;if(e>0&&(n=!!r.charAt(e-1).match(this.tokenRe)),n||(n=!!r.charAt(e).match(this.tokenRe)),n)var i=this.tokenRe;else if(/^\s+$/.test(r.slice(e-1,e+1)))i=/\s/;else i=this.nonTokenRe;var o=e;if(o>0){do{o--}while(o>=0&&r.charAt(o).match(i));o++}for(var s=e;s<r.length&&r.charAt(s).match(i);)s++;return new u(t,o,t,s)},this.getAWordRange=function(t,e){for(var r=this.getWordRange(t,e),n=this.getLine(r.end.row);n.charAt(r.end.column).match(/[ \t]/);)r.end.column+=1;return r},this.setNewLineMode=function(t){this.doc.setNewLineMode(t)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(t){this.setOption("useWorker",t)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(t){var e=t.data;this.bgTokenizer.start(e.first),this._signal("tokenizerUpdate",t)},this.$modes={},this.$mode=null,this.$modeId=null,this.setMode=function(t,e){if(t&&"object"==typeof t){if(t.getTokenizer)return this.$onChangeMode(t);var r=t,n=r.path}else n=t||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new c),this.$modes[n]&&!r)return this.$onChangeMode(this.$modes[n]),void(e&&e());this.$modeId=n,s.loadModule(["mode",n],function(t){if(this.$modeId!==n)return e&&e();this.$modes[n]&&!r?this.$onChangeMode(this.$modes[n]):t&&t.Mode&&(t=new t.Mode(r),r||(this.$modes[n]=t,t.$id=n),this.$onChangeMode(t)),e&&e()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(t,e){if(e||(this.$modeId=t.$id),this.$mode!==t){this.$mode=t,this.$stopWorker(),this.$useWorker&&this.$startWorker();var r=t.getTokenizer();if(void 0!==r.addEventListener){var n=this.onReloadTokenizer.bind(this);r.addEventListener("update",n)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(r);else{this.bgTokenizer=new d(r);var i=this;this.bgTokenizer.addEventListener("update",(function(t){i._signal("tokenizerUpdate",t)}))}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=t.tokenRe,this.nonTokenRe=t.nonTokenRe,e||(t.attachToSession&&t.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(t.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode"))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(t){s.warn("Could not load worker",t),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(t){this.$scrollTop===t||isNaN(t)||(this.$scrollTop=t,this._signal("changeScrollTop",t))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(t){this.$scrollLeft===t||isNaN(t)||(this.$scrollLeft=t,this._signal("changeScrollLeft",t))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var t=0;return this.lineWidgets.forEach((function(e){e&&e.screenWidth>t&&(t=e.screenWidth)})),this.lineWidgetWidth=t},this.$computeWidth=function(t){if(this.$modified||t){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var e=this.doc.getAllLines(),r=this.$rowLengthCache,n=0,i=0,o=this.$foldData[i],s=o?o.start.row:1/0,a=e.length,l=0;l<a;l++){if(l>s){if((l=o.end.row+1)>=a)break;s=(o=this.$foldData[i++])?o.start.row:1/0}null==r[l]&&(r[l]=this.$getStringScreenWidth(e[l])[0]),r[l]>n&&(n=r[l])}this.screenWidth=n}},this.getLine=function(t){return this.doc.getLine(t)},this.getLines=function(t,e){return this.doc.getLines(t,e)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(t){return this.doc.getTextRange(t||this.selection.getRange())},this.insert=function(t,e){return this.doc.insert(t,e)},this.remove=function(t){return this.doc.remove(t)},this.removeFullLines=function(t,e){return this.doc.removeFullLines(t,e)},this.undoChanges=function(t,e){if(t.length){this.$fromUndo=!0;for(var r=null,n=t.length-1;-1!=n;n--){var i=t[n];"doc"==i.group?(this.doc.revertDeltas(i.deltas),r=this.$getUndoSelection(i.deltas,!0,r)):i.deltas.forEach((function(t){this.addFolds(t.folds)}),this)}return this.$fromUndo=!1,r&&this.$undoSelect&&!e&&this.selection.setSelectionRange(r),r}},this.redoChanges=function(t,e){if(t.length){this.$fromUndo=!0;for(var r=null,n=0;n<t.length;n++){var i=t[n];"doc"==i.group&&(this.doc.applyDeltas(i.deltas),r=this.$getUndoSelection(i.deltas,!1,r))}return this.$fromUndo=!1,r&&this.$undoSelect&&!e&&this.selection.setSelectionRange(r),r}},this.setUndoSelect=function(t){this.$undoSelect=t},this.$getUndoSelection=function(t,e,r){function n(t){return e?"insert"!==t.action:"insert"===t.action}var i,o,s=t[0];n(s)?i=u.fromPoints(s.start,s.end):i=u.fromPoints(s.start,s.start);for(var a=1;a<t.length;a++)n(s=t[a])?(o=s.start,-1==i.compare(o.row,o.column)&&i.setStart(o),o=s.end,1==i.compare(o.row,o.column)&&i.setEnd(o),!0):(o=s.start,-1==i.compare(o.row,o.column)&&(i=u.fromPoints(s.start,s.start)),!1);if(null!=r){0===u.comparePoints(r.start,i.start)&&(r.start.column+=i.end.column-i.start.column,r.end.column+=i.end.column-i.start.column);var l=r.compareRange(i);1==l?i.setStart(r.start):-1==l&&i.setEnd(r.end)}return i},this.replace=function(t,e){return this.doc.replace(t,e)},this.moveText=function(t,e,r){var n=this.getTextRange(t),i=this.getFoldsInRange(t),o=u.fromPoints(e,e);if(!r){this.remove(t);var s=t.start.row-t.end.row;(c=s?-t.end.column:t.start.column-t.end.column)&&(o.start.row==t.end.row&&o.start.column>t.end.column&&(o.start.column+=c),o.end.row==t.end.row&&o.end.column>t.end.column&&(o.end.column+=c)),s&&o.start.row>=t.end.row&&(o.start.row+=s,o.end.row+=s)}if(o.end=this.insert(o.start,n),i.length){var a=t.start,l=o.start,c=(s=l.row-a.row,l.column-a.column);this.addFolds(i.map((function(t){return(t=t.clone()).start.row==a.row&&(t.start.column+=c),t.end.row==a.row&&(t.end.column+=c),t.start.row+=s,t.end.row+=s,t})))}return o},this.indentRows=function(t,e,r){r=r.replace(/\t/g,this.getTabString());for(var n=t;n<=e;n++)this.doc.insertInLine({row:n,column:0},r)},this.outdentRows=function(t){for(var e=t.collapseRows(),r=new u(0,0,0,0),n=this.getTabSize(),i=e.start.row;i<=e.end.row;++i){var o=this.getLine(i);r.start.row=i,r.end.row=i;for(var s=0;s<n&&" "==o.charAt(s);++s);s<n&&"\t"==o.charAt(s)?(r.start.column=s,r.end.column=s+1):(r.start.column=0,r.end.column=s),this.remove(r)}},this.$moveLines=function(t,e,r){if(t=this.getRowFoldStart(t),e=this.getRowFoldEnd(e),r<0){if((i=this.getRowFoldStart(t+r))<0)return 0;var n=i-t}else if(r>0){var i;if((i=this.getRowFoldEnd(e+r))>this.doc.getLength()-1)return 0;n=i-e}else{t=this.$clipRowToDocument(t);n=(e=this.$clipRowToDocument(e))-t+1}var o=new u(t,0,e,Number.MAX_VALUE),s=this.getFoldsInRange(o).map((function(t){return(t=t.clone()).start.row+=n,t.end.row+=n,t})),a=0==r?this.doc.getLines(t,e):this.doc.removeFullLines(t,e);return this.doc.insertFullLines(t+n,a),s.length&&this.addFolds(s),n},this.moveLinesUp=function(t,e){return this.$moveLines(t,e,-1)},this.moveLinesDown=function(t,e){return this.$moveLines(t,e,1)},this.duplicateLines=function(t,e){return this.$moveLines(t,e,0)},this.$clipRowToDocument=function(t){return Math.max(0,Math.min(t,this.doc.getLength()-1))},this.$clipColumnToRow=function(t,e){return e<0?0:Math.min(this.doc.getLine(t).length,e)},this.$clipPositionToDocument=function(t,e){if(e=Math.max(0,e),t<0)t=0,e=0;else{var r=this.doc.getLength();t>=r?(t=r-1,e=this.doc.getLine(r-1).length):e=Math.min(this.doc.getLine(t).length,e)}return{row:t,column:e}},this.$clipRangeToDocument=function(t){t.start.row<0?(t.start.row=0,t.start.column=0):t.start.column=this.$clipColumnToRow(t.start.row,t.start.column);var e=this.doc.getLength()-1;return t.end.row>e?(t.end.row=e,t.end.column=this.doc.getLine(e).length):t.end.column=this.$clipColumnToRow(t.end.row,t.end.column),t},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(t){if(t!=this.$useWrapMode){if(this.$useWrapMode=t,this.$modified=!0,this.$resetRowCache(0),t){var e=this.getLength();this.$wrapData=Array(e),this.$updateWrapData(0,e-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(t,e){this.$wrapLimitRange.min===t&&this.$wrapLimitRange.max===e||(this.$wrapLimitRange={min:t,max:e},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(t,e){var r=this.$wrapLimitRange;r.max<0&&(r={min:e,max:e});var n=this.$constrainWrapLimit(t,r.min,r.max);return n!=this.$wrapLimit&&n>1&&(this.$wrapLimit=n,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(t,e,r){return e&&(t=Math.max(e,t)),r&&(t=Math.min(r,t)),t},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(t){this.setWrapLimitRange(t,t)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(t){var e=this.$useWrapMode,r=t.action,n=t.start,i=t.end,o=n.row,s=i.row,a=s-o,l=null;if(this.$updating=!0,0!=a)if("remove"===r){this[e?"$wrapData":"$rowLengthCache"].splice(o,a);var c=this.$foldData;l=this.getFoldsInRange(t),this.removeFolds(l);var u=0;if(m=this.getFoldLine(i.row)){m.addRemoveChars(i.row,i.column,n.column-i.column),m.shiftRow(-a);var h=this.getFoldLine(o);h&&h!==m&&(h.merge(m),m=h),u=c.indexOf(m)+1}for(;u<c.length;u++){(m=c[u]).start.row>=i.row&&m.shiftRow(-a)}s=o}else{var d=Array(a);d.unshift(o,0);var f=e?this.$wrapData:this.$rowLengthCache;f.splice.apply(f,d);c=this.$foldData,u=0;if(m=this.getFoldLine(o)){var p=m.range.compareInside(n.row,n.column);0==p?(m=m.split(n.row,n.column))&&(m.shiftRow(a),m.addRemoveChars(s,0,i.column-n.column)):-1==p&&(m.addRemoveChars(o,0,i.column-n.column),m.shiftRow(a)),u=c.indexOf(m)+1}for(;u<c.length;u++){var m;(m=c[u]).start.row>=o&&m.shiftRow(a)}}else a=Math.abs(t.start.column-t.end.column),"remove"===r&&(l=this.getFoldsInRange(t),this.removeFolds(l),a=-a),(m=this.getFoldLine(o))&&m.addRemoveChars(o,n.column,a);return e&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,e?this.$updateWrapData(o,s):this.$updateRowLengthCache(o,s),l},this.$updateRowLengthCache=function(t,e,r){this.$rowLengthCache[t]=null,this.$rowLengthCache[e]=null},this.$updateWrapData=function(r,n){var i,o,s=this.doc.getAllLines(),a=this.getTabSize(),l=this.$wrapData,c=this.$wrapLimit,u=r;for(n=Math.min(n,s.length-1);u<=n;)(o=this.getFoldLine(u,o))?(i=[],o.walk(function(r,n,o,a){var l;if(null!=r){(l=this.$getDisplayTokens(r,i.length))[0]=t;for(var c=1;c<l.length;c++)l[c]=e}else l=this.$getDisplayTokens(s[n].substring(a,o),i.length);i=i.concat(l)}.bind(this),o.end.row,s[o.end.row].length+1),l[o.start.row]=this.$computeWrapSplits(i,c,a),u=o.end.row+1):(i=this.$getDisplayTokens(s[u]),l[u]=this.$computeWrapSplits(i,c,a),u++)};var t=3,e=4;function r(t){return!(t<4352)&&(t>=4352&&t<=4447||t>=4515&&t<=4519||t>=4602&&t<=4607||t>=9001&&t<=9002||t>=11904&&t<=11929||t>=11931&&t<=12019||t>=12032&&t<=12245||t>=12272&&t<=12283||t>=12288&&t<=12350||t>=12353&&t<=12438||t>=12441&&t<=12543||t>=12549&&t<=12589||t>=12593&&t<=12686||t>=12688&&t<=12730||t>=12736&&t<=12771||t>=12784&&t<=12830||t>=12832&&t<=12871||t>=12880&&t<=13054||t>=13056&&t<=19903||t>=19968&&t<=42124||t>=42128&&t<=42182||t>=43360&&t<=43388||t>=44032&&t<=55203||t>=55216&&t<=55238||t>=55243&&t<=55291||t>=63744&&t<=64255||t>=65040&&t<=65049||t>=65072&&t<=65106||t>=65108&&t<=65126||t>=65128&&t<=65131||t>=65281&&t<=65376||t>=65504&&t<=65510)}this.$computeWrapSplits=function(r,n,i){if(0==r.length)return[];var o=[],s=r.length,a=0,l=0,c=this.$wrapAsCode,u=this.$indentedSoftWrap,h=n<=Math.max(2*i,8)||!1===u?0:Math.floor(n/2);function d(t){var e=r.slice(a,t),n=e.length;e.join("").replace(/12/g,(function(){n-=1})).replace(/2/g,(function(){n-=1})),o.length||(f=function(){var t=0;if(0===h)return t;if(u)for(var e=0;e<r.length;e++){var n=r[e];if(10==n)t+=1;else{if(11!=n){if(12==n)continue;break}t+=i}}return c&&!1!==u&&(t+=i),Math.min(t,h)}(),o.indent=f),l+=n,o.push(l),a=t}for(var f=0;s-a>n-f;){var p=a+n-f;if(r[p-1]>=10&&r[p]>=10)d(p);else if(r[p]!=t&&r[p]!=e){for(var m=Math.max(p-(n-(n>>2)),a-1);p>m&&r[p]<t;)p--;if(c){for(;p>m&&r[p]<t;)p--;for(;p>m&&9==r[p];)p--}else for(;p>m&&r[p]<10;)p--;p>m?d(++p):(2==r[p=a+n]&&p--,d(p-f))}else{for(;p!=a-1&&r[p]!=t;p--);if(p>a){d(p);continue}for(p=a+n;p<r.length&&r[p]==e;p++);if(p==r.length)break;d(p)}}return o},this.$getDisplayTokens=function(t,e){var n,i=[];e=e||0;for(var o=0;o<t.length;o++){var s=t.charCodeAt(o);if(9==s){n=this.getScreenTabSize(i.length+e),i.push(11);for(var a=1;a<n;a++)i.push(12)}else 32==s?i.push(10):s>39&&s<48||s>57&&s<64?i.push(9):s>=4352&&r(s)?i.push(1,2):i.push(1)}return i},this.$getStringScreenWidth=function(t,e,n){if(0==e)return[0,0];var i,o;for(null==e&&(e=1/0),n=n||0,o=0;o<t.length&&(9==(i=t.charCodeAt(o))?n+=this.getScreenTabSize(n):i>=4352&&r(i)?n+=2:n+=1,!(n>e));o++);return[n,o]},this.lineWidgets=null,this.getRowLength=function(t){if(this.lineWidgets)var e=this.lineWidgets[t]&&this.lineWidgets[t].rowCount||0;else e=0;return this.$useWrapMode&&this.$wrapData[t]?this.$wrapData[t].length+1+e:1+e},this.getRowLineCount=function(t){return this.$useWrapMode&&this.$wrapData[t]?this.$wrapData[t].length+1:1},this.getRowWrapIndent=function(t){if(this.$useWrapMode){var e=this.screenToDocumentPosition(t,Number.MAX_VALUE),r=this.$wrapData[e.row];return r.length&&r[0]<e.column?r.indent:0}return 0},this.getScreenLastRowColumn=function(t){var e=this.screenToDocumentPosition(t,Number.MAX_VALUE);return this.documentToScreenColumn(e.row,e.column)},this.getDocumentLastRowColumn=function(t,e){var r=this.documentToScreenRow(t,e);return this.getScreenLastRowColumn(r)},this.getDocumentLastRowColumnPosition=function(t,e){var r=this.documentToScreenRow(t,e);return this.screenToDocumentPosition(r,Number.MAX_VALUE/10)},this.getRowSplitData=function(t){return this.$useWrapMode?this.$wrapData[t]:void 0},this.getScreenTabSize=function(t){return this.$tabSize-t%this.$tabSize},this.screenToDocumentRow=function(t,e){return this.screenToDocumentPosition(t,e).row},this.screenToDocumentColumn=function(t,e){return this.screenToDocumentPosition(t,e).column},this.screenToDocumentPosition=function(t,e,r){if(t<0)return{row:0,column:0};var n,i,o=0,s=0,a=0,l=0,c=this.$screenRowCache,u=this.$getRowCacheIndex(c,t),h=c.length;if(h&&u>=0){a=c[u],o=this.$docRowCache[u];var d=t>c[h-1]}else d=!h;for(var f=this.getLength()-1,p=this.getNextFoldLine(o),m=p?p.start.row:1/0;a<=t&&!(a+(l=this.getRowLength(o))>t||o>=f);)a+=l,++o>m&&(o=p.end.row+1,m=(p=this.getNextFoldLine(o,p))?p.start.row:1/0),d&&(this.$docRowCache.push(o),this.$screenRowCache.push(a));if(p&&p.start.row<=o)n=this.getFoldDisplayLine(p),o=p.start.row;else{if(a+l<=t||o>f)return{row:f,column:this.getLine(f).length};n=this.getLine(o),p=null}var g=0,y=Math.floor(t-a);if(this.$useWrapMode){var v=this.$wrapData[o];v&&(i=v[y],y>0&&v.length&&(g=v.indent,s=v[y-1]||v[v.length-1],n=n.substring(s)))}return void 0!==r&&this.$bidiHandler.isBidiRow(a+y,o,y)&&(e=this.$bidiHandler.offsetToCol(r)),s+=this.$getStringScreenWidth(n,e-g)[1],this.$useWrapMode&&s>=i&&(s=i-1),p?p.idxToPosition(s):{row:o,column:s}},this.documentToScreenPosition=function(t,e){if(void 0===e)var r=this.$clipPositionToDocument(t.row,t.column);else r=this.$clipPositionToDocument(t,e);t=r.row,e=r.column;var n,i=0,o=null;(n=this.getFoldAt(t,e,1))&&(t=n.start.row,e=n.start.column);var s,a=0,l=this.$docRowCache,c=this.$getRowCacheIndex(l,t),u=l.length;if(u&&c>=0){a=l[c],i=this.$screenRowCache[c];var h=t>l[u-1]}else h=!u;for(var d=this.getNextFoldLine(a),f=d?d.start.row:1/0;a<t;){if(a>=f){if((s=d.end.row+1)>t)break;f=(d=this.getNextFoldLine(s,d))?d.start.row:1/0}else s=a+1;i+=this.getRowLength(a),a=s,h&&(this.$docRowCache.push(a),this.$screenRowCache.push(i))}var p="";d&&a>=f?(p=this.getFoldDisplayLine(d,t,e),o=d.start.row):(p=this.getLine(t).substring(0,e),o=t);var m=0;if(this.$useWrapMode){var g=this.$wrapData[o];if(g){for(var y=0;p.length>=g[y];)i++,y++;p=p.substring(g[y-1]||0,p.length),m=y>0?g.indent:0}}return{row:i,column:m+this.$getStringScreenWidth(p)[0]}},this.documentToScreenColumn=function(t,e){return this.documentToScreenPosition(t,e).column},this.documentToScreenRow=function(t,e){return this.documentToScreenPosition(t,e).row},this.getScreenLength=function(){var t=0,e=null;if(this.$useWrapMode)for(var r=this.$wrapData.length,n=0,i=(a=0,(e=this.$foldData[a++])?e.start.row:1/0);n<r;){var o=this.$wrapData[n];t+=o?o.length+1:1,++n>i&&(n=e.end.row+1,i=(e=this.$foldData[a++])?e.start.row:1/0)}else{t=this.getLength();for(var s=this.$foldData,a=0;a<s.length;a++)t-=(e=s[a]).end.row-e.start.row}return this.lineWidgets&&(t+=this.$getWidgetScreenLength()),t},this.$setFontMetrics=function(t){this.$enableVarChar&&(this.$getStringScreenWidth=function(e,r,n){if(0===r)return[0,0];var i,o;for(r||(r=1/0),n=n||0,o=0;o<e.length&&!((n+="\t"===(i=e.charAt(o))?this.getScreenTabSize(n):t.getCharacterWidth(i))>r);o++);return[n,o]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker()},this.isFullWidth=r}.call(p.prototype),t("./edit_session/folding").Folding.call(p.prototype),t("./edit_session/bracket_match").BracketMatch.call(p.prototype),s.defineOptions(p.prototype,"session",{wrap:{set:function(t){if(t&&"off"!=t?"free"==t?t=!0:"printMargin"==t?t=-1:"string"==typeof t&&(t=parseInt(t,10)||!1):t=!1,this.$wrap!=t)if(this.$wrap=t,t){var e="number"==typeof t?t:null;this.setWrapLimitRange(e,e),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(t){(t="auto"==t?"text"!=this.$mode.type:"text"!=t)!=this.$wrapAsCode&&(this.$wrapAsCode=t,this.$useWrapMode&&(this.$modified=!0,this.$resetRowCache(0),this.$updateWrapData(0,this.getLength()-1)))},initialValue:"auto"},indentedSoftWrap:{initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(t){this.$useWorker=t,this.$stopWorker(),t&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(t){isNaN(t)||this.$tabSize===t||(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=t,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},overwrite:{set:function(t){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(t){this.doc.setNewLineMode(t)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(t){this.setMode(t)},get:function(){return this.$modeId}}}),e.EditSession=p})),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(t,e,r){var n=t("./lib/lang"),i=t("./lib/oop"),o=t("./range").Range,s=function(){this.$options={}};(function(){this.set=function(t){return i.mixin(this.$options,t),this},this.getOptions=function(){return n.copyObject(this.$options)},this.setOptions=function(t){this.$options=t},this.find=function(t){var e=this.$options,r=this.$matchIterator(t,e);if(!r)return!1;var n=null;return r.forEach((function(t,r,i,s){return n=new o(t,r,i,s),!(r==s&&e.start&&e.start.start&&0!=e.skipCurrent&&n.isEqual(e.start))||(n=null,!1)})),n},this.findAll=function(t){var e=this.$options;if(!e.needle)return[];this.$assembleRegExp(e);var r=e.range,i=r?t.getLines(r.start.row,r.end.row):t.doc.getAllLines(),s=[],a=e.re;if(e.$isMultiLine){var l,c=a.length,u=i.length-c;t:for(var h=a.offset||0;h<=u;h++){for(var d=0;d<c;d++)if(-1==i[h+d].search(a[d]))continue t;var f=i[h],p=i[h+c-1],m=f.length-f.match(a[0])[0].length,g=p.match(a[c-1])[0].length;l&&l.end.row===h&&l.end.column>m||(s.push(l=new o(h,m,h+c-1,g)),c>2&&(h=h+c-2))}}else for(var y=0;y<i.length;y++){var v=n.getMatchOffsets(i[y],a);for(d=0;d<v.length;d++){var b=v[d];s.push(new o(y,b.offset,y,b.offset+b.length))}}if(r){var A=r.start.column,C=r.start.column;for(y=0,d=s.length-1;y<d&&s[y].start.column<A&&s[y].start.row==r.start.row;)y++;for(;y<d&&s[d].end.column>C&&s[d].end.row==r.end.row;)d--;for(s=s.slice(y,d+1),y=0,d=s.length;y<d;y++)s[y].start.row+=r.start.row,s[y].end.row+=r.start.row}return s},this.replace=function(t,e){var r=this.$options,n=this.$assembleRegExp(r);if(r.$isMultiLine)return e;if(n){var i=n.exec(t);if(!i||i[0].length!=t.length)return null;if(e=t.replace(n,e),r.preserveCase){e=e.split("");for(var o=Math.min(t.length,t.length);o--;){var s=t[o];s&&s.toLowerCase()!=s?e[o]=e[o].toUpperCase():e[o]=e[o].toLowerCase()}e=e.join("")}return e}},this.$assembleRegExp=function(t,e){if(t.needle instanceof RegExp)return t.re=t.needle;var r=t.needle;if(!t.needle)return t.re=!1;t.regExp||(r=n.escapeRegExp(r)),t.wholeWord&&(r=function(t,e){function r(t){return/\w/.test(t)||e.regExp?"\\b":""}return r(t[0])+t+r(t[t.length-1])}(r,t));var i=t.caseSensitive?"gm":"gmi";if(t.$isMultiLine=!e&&/[\n\r]/.test(r),t.$isMultiLine)return t.re=this.$assembleMultilineRegExp(r,i);try{var o=new RegExp(r,i)}catch(t){o=!1}return t.re=o},this.$assembleMultilineRegExp=function(t,e){for(var r=t.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),n=[],i=0;i<r.length;i++)try{n.push(new RegExp(r[i],e))}catch(t){return!1}return n},this.$matchIterator=function(t,e){var r=this.$assembleRegExp(e);if(!r)return!1;var n=1==e.backwards,i=0!=e.skipCurrent,o=e.range,s=e.start;s||(s=o?o[n?"end":"start"]:t.selection.getRange()),s.start&&(s=s[i!=n?"end":"start"]);var a=o?o.start.row:0,l=o?o.end.row:t.getLength()-1;if(n)var c=function(t){var r=s.row;if(!h(r,s.column,t)){for(r--;r>=a;r--)if(h(r,Number.MAX_VALUE,t))return;if(0!=e.wrap)for(r=l,a=s.row;r>=a;r--)if(h(r,Number.MAX_VALUE,t))return}};else c=function(t){var r=s.row;if(!h(r,s.column,t)){for(r+=1;r<=l;r++)if(h(r,0,t))return;if(0!=e.wrap)for(r=a,l=s.row;r<=l;r++)if(h(r,0,t))return}};if(e.$isMultiLine)var u=r.length,h=function(e,i,o){var s=n?e-u+1:e;if(!(s<0)){var a=t.getLine(s),l=a.search(r[0]);if(!(!n&&l<i||-1===l)){for(var c=1;c<u;c++)if(-1==(a=t.getLine(s+c)).search(r[c]))return;var h=a.match(r[u-1])[0].length;if(!(n&&h>i))return!!o(s,l,s+u-1,h)||void 0}}};else if(n)h=function(e,n,i){var o,s=t.getLine(e),a=[],l=0;for(r.lastIndex=0;o=r.exec(s);){var c=o[0].length;if(l=o.index,!c){if(l>=s.length)break;r.lastIndex=l+=1}if(o.index+c>n)break;a.push(o.index,c)}for(var u=a.length-1;u>=0;u-=2){var h=a[u-1];if(i(e,h,e,h+(c=a[u])))return!0}};else h=function(e,n,i){var o,s=t.getLine(e),a=n;for(r.lastIndex=n;o=r.exec(s);){var l=o[0].length;if(i(e,a=o.index,e,a+l))return!0;if(!l&&(r.lastIndex=a+=1,a>=s.length))return!1}};return{forEach:c}}}).call(s.prototype),e.Search=s})),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(t,e,r){var n=t("../lib/keys"),i=t("../lib/useragent"),o=n.KEY_MODS;function s(t,e){this.platform=e||(i.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(t),this.$singleCommand=!0}function a(t,e){s.call(this,t,e),this.$singleCommand=!1}a.prototype=s.prototype,function(){function t(t){return"object"==typeof t&&t.bindKey&&t.bindKey.position||(t.isDefault?-100:0)}this.addCommand=function(t){this.commands[t.name]&&this.removeCommand(t),this.commands[t.name]=t,t.bindKey&&this._buildKeyHash(t)},this.removeCommand=function(t,e){var r=t&&("string"==typeof t?t:t.name);t=this.commands[r],e||delete this.commands[r];var n=this.commandKeyBinding;for(var i in n){var o=n[i];if(o==t)delete n[i];else if(Array.isArray(o)){var s=o.indexOf(t);-1!=s&&(o.splice(s,1),1==o.length&&(n[i]=o[0]))}}},this.bindKey=function(t,e,r){if("object"==typeof t&&t&&(null==r&&(r=t.position),t=t[this.platform]),t)return"function"==typeof e?this.addCommand({exec:e,bindKey:t,name:e.name||t}):void t.split("|").forEach((function(t){var n="";if(-1!=t.indexOf(" ")){var i=t.split(/\s+/);t=i.pop(),i.forEach((function(t){var e=this.parseKeys(t),r=o[e.hashId]+e.key;n+=(n?" ":"")+r,this._addCommandToBinding(n,"chainKeys")}),this),n+=" "}var s=this.parseKeys(t),a=o[s.hashId]+s.key;this._addCommandToBinding(n+a,e,r)}),this)},this._addCommandToBinding=function(e,r,n){var i,o=this.commandKeyBinding;if(r)if(!o[e]||this.$singleCommand)o[e]=r;else{Array.isArray(o[e])?-1!=(i=o[e].indexOf(r))&&o[e].splice(i,1):o[e]=[o[e]],"number"!=typeof n&&(n=t(r));var s=o[e];for(i=0;i<s.length;i++){if(t(s[i])>n)break}s.splice(i,0,r)}else delete o[e]},this.addCommands=function(t){t&&Object.keys(t).forEach((function(e){var r=t[e];if(r){if("string"==typeof r)return this.bindKey(r,e);"function"==typeof r&&(r={exec:r}),"object"==typeof r&&(r.name||(r.name=e),this.addCommand(r))}}),this)},this.removeCommands=function(t){Object.keys(t).forEach((function(e){this.removeCommand(t[e])}),this)},this.bindKeys=function(t){Object.keys(t).forEach((function(e){this.bindKey(e,t[e])}),this)},this._buildKeyHash=function(t){this.bindKey(t.bindKey,t)},this.parseKeys=function(t){var e=t.toLowerCase().split(/[\-\+]([\-\+])?/).filter((function(t){return t})),r=e.pop(),i=n[r];if(n.FUNCTION_KEYS[i])r=n.FUNCTION_KEYS[i].toLowerCase();else{if(!e.length)return{key:r,hashId:-1};if(1==e.length&&"shift"==e[0])return{key:r.toUpperCase(),hashId:-1}}for(var o=0,s=e.length;s--;){var a=n.KEY_MODS[e[s]];if(null==a)return"undefined"!=typeof console&&console.error("invalid modifier "+e[s]+" in "+t),!1;o|=a}return{key:r,hashId:o}},this.findKeyCommand=function(t,e){var r=o[t]+e;return this.commandKeyBinding[r]},this.handleKeyboard=function(t,e,r,n){if(!(n<0)){var i=o[e]+r,s=this.commandKeyBinding[i];return t.$keyChain&&(t.$keyChain+=" "+i,s=this.commandKeyBinding[t.$keyChain]||s),!s||"chainKeys"!=s&&"chainKeys"!=s[s.length-1]?(t.$keyChain&&(e&&4!=e||1!=r.length?(-1==e||n>0)&&(t.$keyChain=""):t.$keyChain=t.$keyChain.slice(0,-i.length-1)),{command:s}):(t.$keyChain=t.$keyChain||i,{command:"null"})}},this.getStatusText=function(t,e){return e.$keyChain||""}}.call(s.prototype),e.HashHandler=s,e.MultiHashHandler=a})),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],(function(t,e,r){var n=t("../lib/oop"),i=t("../keyboard/hash_handler").MultiHashHandler,o=t("../lib/event_emitter").EventEmitter,s=function(t,e){i.call(this,e,t),this.byName=this.commands,this.setDefaultHandler("exec",(function(t){return t.command.exec(t.editor,t.args||{})}))};n.inherits(s,i),function(){n.implement(this,o),this.exec=function(t,e,r){if(Array.isArray(t)){for(var n=t.length;n--;)if(this.exec(t[n],e,r))return!0;return!1}if("string"==typeof t&&(t=this.commands[t]),!t)return!1;if(e&&e.$readOnly&&!t.readOnly)return!1;if(t.isAvailable&&!t.isAvailable(e))return!1;var i={editor:e,command:t,args:r};return i.returnValue=this._emit("exec",i),this._signal("afterExec",i),!1!==i.returnValue},this.toggleRecording=function(t){if(!this.$inReplay)return t&&t._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(t){this.macro.push([t.command,t.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(t){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(t);try{this.$inReplay=!0,this.macro.forEach((function(e){"string"==typeof e?this.exec(e,t):this.exec(e[0],t,e[1])}),this)}finally{this.$inReplay=!1}}},this.trimMacro=function(t){return t.map((function(t){return"string"!=typeof t[0]&&(t[0]=t[0].name),t[1]||(t=t[0]),t}))}}.call(s.prototype),e.CommandManager=s})),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],(function(t,e,r){var n=t("../lib/lang"),i=t("../config"),o=t("../range").Range;function s(t,e){return{win:t,mac:e}}e.commands=[{name:"showSettingsMenu",bindKey:s("Ctrl-,","Command-,"),exec:function(t){i.loadModule("ace/ext/settings_menu",(function(e){e.init(t),t.showSettingsMenu()}))},readOnly:!0},{name:"goToNextError",bindKey:s("Alt-E","F4"),exec:function(t){i.loadModule("ace/ext/error_marker",(function(e){e.showErrorMarker(t,1)}))},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:s("Alt-Shift-E","Shift-F4"),exec:function(t){i.loadModule("ace/ext/error_marker",(function(e){e.showErrorMarker(t,-1)}))},scrollIntoView:"animate",readOnly:!0},{name:"selectall",bindKey:s("Ctrl-A","Command-A"),exec:function(t){t.selectAll()},readOnly:!0},{name:"centerselection",bindKey:s(null,"Ctrl-L"),exec:function(t){t.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:s("Ctrl-L","Command-L"),exec:function(t){var e=parseInt(prompt("Enter line number:"),10);isNaN(e)||t.gotoLine(e)},readOnly:!0},{name:"fold",bindKey:s("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(t){t.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:s("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(t){t.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:s("F2","F2"),exec:function(t){t.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:s("Alt-F2","Alt-F2"),exec:function(t){t.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",bindKey:s(null,"Ctrl-Command-Option-0"),exec:function(t){t.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",bindKey:s("Alt-0","Command-Option-0"),exec:function(t){t.session.foldAll(),t.session.unfold(t.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",bindKey:s("Alt-Shift-0","Command-Option-Shift-0"),exec:function(t){t.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",bindKey:s("Ctrl-K","Command-G"),exec:function(t){t.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",bindKey:s("Ctrl-Shift-K","Command-Shift-G"),exec:function(t){t.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",bindKey:s("Alt-K","Ctrl-G"),exec:function(t){t.selection.isEmpty()?t.selection.selectWord():t.findNext()},readOnly:!0},{name:"selectOrFindPrevious",bindKey:s("Alt-Shift-K","Ctrl-Shift-G"),exec:function(t){t.selection.isEmpty()?t.selection.selectWord():t.findPrevious()},readOnly:!0},{name:"find",bindKey:s("Ctrl-F","Command-F"),exec:function(t){i.loadModule("ace/ext/searchbox",(function(e){e.Search(t)}))},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(t){t.toggleOverwrite()},readOnly:!0},{name:"selecttostart",bindKey:s("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(t){t.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",bindKey:s("Ctrl-Home","Command-Home|Command-Up"),exec:function(t){t.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",bindKey:s("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(t){t.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",bindKey:s("Up","Up|Ctrl-P"),exec:function(t,e){t.navigateUp(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",bindKey:s("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(t){t.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",bindKey:s("Ctrl-End","Command-End|Command-Down"),exec:function(t){t.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",bindKey:s("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(t){t.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",bindKey:s("Down","Down|Ctrl-N"),exec:function(t,e){t.navigateDown(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",bindKey:s("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(t){t.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",bindKey:s("Ctrl-Left","Option-Left"),exec:function(t){t.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",bindKey:s("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(t){t.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",bindKey:s("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(t){t.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",bindKey:s("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(t){t.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",bindKey:s("Left","Left|Ctrl-B"),exec:function(t,e){t.navigateLeft(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",bindKey:s("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(t){t.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",bindKey:s("Ctrl-Right","Option-Right"),exec:function(t){t.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",bindKey:s("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(t){t.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",bindKey:s("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(t){t.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",bindKey:s("Shift-Right","Shift-Right"),exec:function(t){t.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",bindKey:s("Right","Right|Ctrl-F"),exec:function(t,e){t.navigateRight(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(t){t.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:s(null,"Option-PageDown"),exec:function(t){t.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:s("PageDown","PageDown|Ctrl-V"),exec:function(t){t.gotoPageDown()},readOnly:!0},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(t){t.selectPageUp()},readOnly:!0},{name:"pageup",bindKey:s(null,"Option-PageUp"),exec:function(t){t.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(t){t.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:s("Ctrl-Up",null),exec:function(t){t.renderer.scrollBy(0,-2*t.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:s("Ctrl-Down",null),exec:function(t){t.renderer.scrollBy(0,2*t.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",exec:function(t){t.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(t){t.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",bindKey:s("Ctrl-Alt-E","Command-Option-E"),exec:function(t){t.commands.toggleRecording(t)},readOnly:!0},{name:"replaymacro",bindKey:s("Ctrl-Shift-E","Command-Shift-E"),exec:function(t){t.commands.replay(t)},readOnly:!0},{name:"jumptomatching",bindKey:s("Ctrl-P","Ctrl-P"),exec:function(t){t.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",bindKey:s("Ctrl-Shift-P","Ctrl-Shift-P"),exec:function(t){t.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",bindKey:s("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(t){t.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",bindKey:s(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",exec:function(t){},readOnly:!0},{name:"cut",exec:function(t){var e=t.getSelectionRange();t._emit("cut",e),t.selection.isEmpty()||(t.session.remove(e),t.clearSelection())},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",exec:function(t,e){t.$handlePaste(e)},scrollIntoView:"cursor"},{name:"removeline",bindKey:s("Ctrl-D","Command-D"),exec:function(t){t.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",bindKey:s("Ctrl-Shift-D","Command-Shift-D"),exec:function(t){t.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",bindKey:s("Ctrl-Alt-S","Command-Alt-S"),exec:function(t){t.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",bindKey:s("Ctrl-/","Command-/"),exec:function(t){t.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",bindKey:s("Ctrl-Shift-/","Command-Shift-/"),exec:function(t){t.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",bindKey:s("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(t){t.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",bindKey:s("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(t){t.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",bindKey:s("Ctrl-H","Command-Option-F"),exec:function(t){i.loadModule("ace/ext/searchbox",(function(e){e.Search(t,!0)}))}},{name:"undo",bindKey:s("Ctrl-Z","Command-Z"),exec:function(t){t.undo()}},{name:"redo",bindKey:s("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(t){t.redo()}},{name:"copylinesup",bindKey:s("Alt-Shift-Up","Command-Option-Up"),exec:function(t){t.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",bindKey:s("Alt-Up","Option-Up"),exec:function(t){t.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",bindKey:s("Alt-Shift-Down","Command-Option-Down"),exec:function(t){t.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",bindKey:s("Alt-Down","Option-Down"),exec:function(t){t.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",bindKey:s("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(t){t.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",bindKey:s("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(t){t.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",bindKey:s("Shift-Delete",null),exec:function(t){if(!t.selection.isEmpty())return!1;t.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",bindKey:s("Alt-Backspace","Command-Backspace"),exec:function(t){t.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",bindKey:s("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(t){t.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",bindKey:s("Ctrl-Shift-Backspace",null),exec:function(t){var e=t.selection.getRange();e.start.column=0,t.session.remove(e)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",bindKey:s("Ctrl-Shift-Delete",null),exec:function(t){var e=t.selection.getRange();e.end.column=Number.MAX_VALUE,t.session.remove(e)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",bindKey:s("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(t){t.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",bindKey:s("Ctrl-Delete","Alt-Delete"),exec:function(t){t.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",bindKey:s("Shift-Tab","Shift-Tab"),exec:function(t){t.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",bindKey:s("Tab","Tab"),exec:function(t){t.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",bindKey:s("Ctrl-[","Ctrl-["),exec:function(t){t.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",bindKey:s("Ctrl-]","Ctrl-]"),exec:function(t){t.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",exec:function(t,e){t.insert(e)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",exec:function(t,e){t.insert(n.stringRepeat(e.text||"",e.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",bindKey:s(null,"Ctrl-O"),exec:function(t){t.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",bindKey:s("Alt-Shift-X","Ctrl-T"),exec:function(t){t.transposeLetters()},multiSelectAction:function(t){t.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",bindKey:s("Ctrl-U","Ctrl-U"),exec:function(t){t.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",bindKey:s("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(t){t.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",bindKey:s("Ctrl-Shift-L","Command-Shift-L"),exec:function(t){var e=t.selection.getRange();e.start.column=e.end.column=0,e.end.row++,t.selection.setRange(e,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",bindKey:s(null,null),exec:function(t){for(var e=t.selection.isBackwards(),r=e?t.selection.getSelectionLead():t.selection.getSelectionAnchor(),i=e?t.selection.getSelectionAnchor():t.selection.getSelectionLead(),s=t.session.doc.getLine(r.row).length,a=t.session.doc.getTextRange(t.selection.getRange()).replace(/\n\s*/," ").length,l=t.session.doc.getLine(r.row),c=r.row+1;c<=i.row+1;c++){var u=n.stringTrimLeft(n.stringTrimRight(t.session.doc.getLine(c)));0!==u.length&&(u=" "+u),l+=u}i.row+1<t.session.doc.getLength()-1&&(l+=t.session.doc.getNewLineCharacter()),t.clearSelection(),t.session.doc.replace(new o(r.row,0,i.row+2,0),l),a>0?(t.selection.moveCursorTo(r.row,r.column),t.selection.selectTo(r.row,r.column+a)):(s=t.session.doc.getLine(r.row).length>s?s+1:s,t.selection.moveCursorTo(r.row,s))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",bindKey:s(null,null),exec:function(t){var e=t.session.doc.getLength()-1,r=t.session.doc.getLine(e).length,n=t.selection.rangeList.ranges,i=[];n.length<1&&(n=[t.selection.getRange()]);for(var s=0;s<n.length;s++)s==n.length-1&&(n[s].end.row===e&&n[s].end.column===r||i.push(new o(n[s].end.row,n[s].end.column,e,r))),0===s?0===n[s].start.row&&0===n[s].start.column||i.push(new o(0,0,n[s].start.row,n[s].start.column)):i.push(new o(n[s-1].end.row,n[s-1].end.column,n[s].start.row,n[s].start.column));t.exitMultiSelectMode(),t.clearSelection();for(s=0;s<i.length;s++)t.selection.addRange(i[s],!1)},readOnly:!0,scrollIntoView:"none"}]})),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator"],(function(t,e,r){t("./lib/fixoldbrowsers");var n=t("./lib/oop"),i=t("./lib/dom"),o=t("./lib/lang"),s=t("./lib/useragent"),a=t("./keyboard/textinput").TextInput,l=t("./mouse/mouse_handler").MouseHandler,c=t("./mouse/fold_handler").FoldHandler,u=t("./keyboard/keybinding").KeyBinding,h=t("./edit_session").EditSession,d=t("./search").Search,f=t("./range").Range,p=t("./lib/event_emitter").EventEmitter,m=t("./commands/command_manager").CommandManager,g=t("./commands/default_commands").commands,y=t("./config"),v=t("./token_iterator").TokenIterator,b=function(t,e){var r=t.getContainerElement();this.container=r,this.renderer=t,this.id="editor"+ ++b.$uid,this.commands=new m(s.isMac?"mac":"win",g),"object"==typeof document&&(this.textInput=new a(t.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new l(this),new c(this)),this.keyBinding=new u(this),this.$blockScrolling=0,this.$search=(new d).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=o.delayedCall(function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",(function(t,e){e._$emitInputEvent.schedule(31)})),this.setSession(e||new h("")),y.resetOptions(this),y._signal("editor",this)};b.$uid=0,function(){n.implement(this,p),this.$initOperationListeners=function(){this.selections=[],this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=o.delayedCall(this.endOperation.bind(this)),this.on("change",function(){this.curOp||this.startOperation(),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||this.startOperation(),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(t){if(this.curOp){if(!t||this.curOp.command)return;this.prevOp=this.curOp}t||(this.previousCommand=null,t={}),this.$opResetTimer.schedule(),this.curOp={command:t.command||{},args:t.args,scrollTop:this.renderer.scrollTop},this.curOp.command.name&&void 0!==this.curOp.command.scrollIntoView&&this.$blockScrolling++},this.endOperation=function(t){if(this.curOp){if(t&&!1===t.returnValue)return this.curOp=null;this._signal("beforeEndOperation");var e=this.curOp.command;e.name&&this.$blockScrolling>0&&this.$blockScrolling--;var r=e&&e.scrollIntoView;if(r){switch(r){case"center-animate":r="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var n=this.selection.getRange(),i=this.renderer.layerConfig;(n.start.row>=i.lastRow||n.end.row<=i.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==r&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(t){if(this.$mergeUndoDeltas){var e=this.prevOp,r=this.$mergeableCommands,n=e.command&&t.command.name==e.command.name;if("insertstring"==t.command.name){var i=t.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),n=n&&this.mergeNextCommand&&(!/\s/.test(i)||/\s/.test(e.args)),this.mergeNextCommand=!0}else n=n&&-1!==r.indexOf(t.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(n=!1),n?this.session.mergeUndoDeltas=!0:-1!==r.indexOf(t.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(t,e){if(t&&"string"==typeof t){this.$keybindingId=t;var r=this;y.loadModule(["keybinding",t],(function(n){r.$keybindingId==t&&r.keyBinding.setKeyboardHandler(n&&n.handler),e&&e()}))}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(t),e&&e()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(t){if(this.session!=t){this.curOp&&this.endOperation(),this.curOp={};var e=this.session;if(e){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var r=this.session.getSelection();r.off("changeCursor",this.$onCursorChange),r.off("changeSelection",this.$onSelectionChange)}this.session=t,t?(this.$onDocumentChange=this.onDocumentChange.bind(this),t.on("change",this.$onDocumentChange),this.renderer.setSession(t),this.$onChangeMode=this.onChangeMode.bind(this),t.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),t.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),t.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),t.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),t.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),t.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=t.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.$blockScrolling+=1,this.onCursorChange(),this.$blockScrolling-=1,this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(t)),this._signal("changeSession",{session:t,oldSession:e}),this.curOp=null,e&&e._signal("changeEditor",{oldEditor:this}),t&&t._signal("changeEditor",{editor:this}),t&&t.bgTokenizer&&t.bgTokenizer.scheduleStart()}},this.getSession=function(){return this.session},this.setValue=function(t,e){return this.session.doc.setValue(t),e?1==e?this.navigateFileEnd():-1==e&&this.navigateFileStart():this.selectAll(),t},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(t){this.renderer.onResize(t)},this.setTheme=function(t,e){this.renderer.setTheme(t,e)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(t){this.renderer.setStyle(t)},this.unsetStyle=function(t){this.renderer.unsetStyle(t)},this.getFontSize=function(){return this.getOption("fontSize")||i.computedStyle(this.container,"fontSize")},this.setFontSize=function(t){this.setOption("fontSize",t)},this.$highlightBrackets=function(){if(this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null),!this.$highlightPending){var t=this;this.$highlightPending=!0,setTimeout((function(){t.$highlightPending=!1;var e=t.session;if(e&&e.bgTokenizer){var r=e.findMatchingBracket(t.getCursorPosition());if(r)var n=new f(r.row,r.column,r.row,r.column+1);else if(e.$mode.getMatching)n=e.$mode.getMatching(t.session);n&&(e.$bracketHighlight=e.addMarker(n,"ace_bracket","text"))}}),50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var t=this;this.$highlightTagPending=!0,setTimeout((function(){t.$highlightTagPending=!1;var e=t.session;if(e&&e.bgTokenizer){var r=t.getCursorPosition(),n=new v(t.session,r.row,r.column),i=n.getCurrentToken();if(!i||!/\b(?:tag-open|tag-name)/.test(i.type))return e.removeMarker(e.$tagHighlight),void(e.$tagHighlight=null);if(-1==i.type.indexOf("tag-open")||(i=n.stepForward())){var o=i.value,s=0,a=n.stepBackward();if("<"==a.value)do{a=i,(i=n.stepForward())&&i.value===o&&-1!==i.type.indexOf("tag-name")&&("<"===a.value?s++:"</"===a.value&&s--)}while(i&&s>=0);else{do{i=a,a=n.stepBackward(),i&&i.value===o&&-1!==i.type.indexOf("tag-name")&&("<"===a.value?s++:"</"===a.value&&s--)}while(a&&s<=0);n.stepForward()}if(!i)return e.removeMarker(e.$tagHighlight),void(e.$tagHighlight=null);var l=n.getCurrentTokenRow(),c=n.getCurrentTokenColumn(),u=new f(l,c,l,c+i.value.length),h=e.$backMarkers[e.$tagHighlight];e.$tagHighlight&&null!=h&&0!==u.compareRange(h.range)&&(e.removeMarker(e.$tagHighlight),e.$tagHighlight=null),u&&!e.$tagHighlight&&(e.$tagHighlight=e.addMarker(u,"ace_bracket","text"))}}}),50)}},this.focus=function(){var t=this;setTimeout((function(){t.textInput.focus()})),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(t){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",t))},this.onBlur=function(t){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",t))},this.$cursorChange=function(){this.renderer.updateCursor()},this.onDocumentChange=function(t){var e=this.session.$useWrapMode,r=t.start.row==t.end.row?t.end.row:1/0;this.renderer.updateLines(t.start.row,r,e),this._signal("change",t),this.$cursorChange(),this.$updateHighlightActiveLine()},this.onTokenizerUpdate=function(t){var e=t.data;this.renderer.updateLines(e.first,e.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this.$blockScrolling||(y.warn("Automatically scrolling cursor into view after selection change","this will be disabled in the next version","set editor.$blockScrolling = Infinity to disable this message"),this.renderer.scrollCursorIntoView()),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var t,e=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(t=this.getCursorPosition()),!this.renderer.$maxLines||1!==this.session.getLength()||this.renderer.$minLines>1||(t=!1)),e.$highlightLineMarker&&!t)e.removeMarker(e.$highlightLineMarker.id),e.$highlightLineMarker=null;else if(!e.$highlightLineMarker&&t){var r=new f(t.row,t.column,t.row,1/0);r.id=e.addMarker(r,"ace_active-line","screenLine"),e.$highlightLineMarker=r}else t&&(e.$highlightLineMarker.start.row=t.row,e.$highlightLineMarker.end.row=t.row,e.$highlightLineMarker.start.column=t.column,e._signal("changeBackMarker"))},this.onSelectionChange=function(t){var e=this.session;if(e.$selectionMarker&&e.removeMarker(e.$selectionMarker),e.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var r=this.selection.getRange(),n=this.getSelectionStyle();e.$selectionMarker=e.addMarker(r,"ace_selection",n)}var i=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(i),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var t=this.session,e=this.getSelectionRange();if(!e.isEmpty()&&!e.isMultiLine()){var r=e.start.column-1,n=e.end.column+1,i=t.getLine(e.start.row),o=i.length,s=i.substring(Math.max(r,0),Math.min(n,o));if(!(r>=0&&/^[\w\d]/.test(s)||n<=o&&/[\w\d]$/.test(s)))if(s=i.substring(e.start.column,e.end.column),/^[\w\d]+$/.test(s))return this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:s})}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(t){this.renderer.updateText(),this._emit("changeMode",t)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var t=this.getSelectedText();return this._signal("copy",t),t},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(t,e){var r={text:t,event:e};this.commands.exec("paste",this,r)},this.$handlePaste=function(t){"string"==typeof t&&(t={text:t}),this._signal("paste",t);var e=t.text;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)this.insert(e);else{var r=e.split(/\r\n|\r|\n/),n=this.selection.rangeList.ranges;if(r.length>n.length||r.length<2||!r[1])return this.commands.exec("insertstring",this,e);for(var i=n.length;i--;){var o=n[i];o.isEmpty()||this.session.remove(o),this.session.insert(o.start,r[i])}}},this.execCommand=function(t,e){return this.commands.exec(t,this,e)},this.insert=function(t,e){var r=this.session,n=r.getMode(),i=this.getCursorPosition();if(this.getBehavioursEnabled()&&!e){var o=n.transformAction(r.getState(i.row),"insertion",this,r,t);o&&(t!==o.text&&(this.session.mergeUndoDeltas=!1,this.$mergeNextCommand=!1),t=o.text)}if("\t"==t&&(t=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&-1==t.indexOf("\n")){(s=new f.fromPoints(i,i)).end.column+=t.length,this.session.remove(s)}}else{var s=this.getSelectionRange();i=this.session.remove(s),this.clearSelection()}if("\n"==t||"\r\n"==t){var a=r.getLine(i.row);if(i.column>a.search(/\S|$/)){var l=a.substr(i.column).search(/\S|$/);r.doc.removeInLine(i.row,i.column,i.column+l)}}this.clearSelection();var c=i.column,u=r.getState(i.row),h=(a=r.getLine(i.row),n.checkOutdent(u,a,t));r.insert(i,t);if(o&&o.selection&&(2==o.selection.length?this.selection.setSelectionRange(new f(i.row,c+o.selection[0],i.row,c+o.selection[1])):this.selection.setSelectionRange(new f(i.row+o.selection[0],o.selection[1],i.row+o.selection[2],o.selection[3]))),r.getDocument().isNewLine(t)){var d=n.getNextLineIndent(u,a.slice(0,i.column),r.getTabString());r.insert({row:i.row+1,column:0},d)}h&&n.autoOutdent(u,r,i.row)},this.onTextInput=function(t){this.keyBinding.onTextInput(t)},this.onCommandKey=function(t,e,r){this.keyBinding.onCommandKey(t,e,r)},this.setOverwrite=function(t){this.session.setOverwrite(t)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(t){this.setOption("scrollSpeed",t)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(t){this.setOption("dragDelay",t)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(t){this.setOption("selectionStyle",t)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(t){this.setOption("highlightActiveLine",t)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(t){this.setOption("highlightGutterLine",t)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(t){this.setOption("highlightSelectedWord",t)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(t){this.renderer.setAnimatedScroll(t)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(t){this.renderer.setShowInvisibles(t)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(t){this.renderer.setDisplayIndentGuides(t)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(t){this.renderer.setShowPrintMargin(t)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(t){this.renderer.setPrintMarginColumn(t)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(t){this.setOption("readOnly",t)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(t){this.setOption("behavioursEnabled",t)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(t){this.setOption("wrapBehavioursEnabled",t)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(t){this.setOption("showFoldWidgets",t)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(t){this.setOption("fadeFoldWidgets",t)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(t){this.selection.isEmpty()&&("left"==t?this.selection.selectLeft():this.selection.selectRight());var e=this.getSelectionRange();if(this.getBehavioursEnabled()){var r=this.session,n=r.getState(e.start.row),i=r.getMode().transformAction(n,"deletion",this,r,e);if(0===e.end.column){var o=r.getTextRange(e);if("\n"==o[o.length-1]){var s=r.getLine(e.end.row);/^\s+$/.test(s)&&(e.end.column=s.length)}}i&&(e=i)}this.session.remove(e),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var t=this.getSelectionRange();t.start.column==t.end.column&&t.start.row==t.end.row&&(t.end.column=0,t.end.row++),this.session.remove(t),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var t=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(t)},this.transposeLetters=function(){if(this.selection.isEmpty()){var t=this.getCursorPosition(),e=t.column;if(0!==e){var r,n,i=this.session.getLine(t.row);e<i.length?(r=i.charAt(e)+i.charAt(e-1),n=new f(t.row,e-1,t.row,e+1)):(r=i.charAt(e-1)+i.charAt(e-2),n=new f(t.row,e-2,t.row,e)),this.session.replace(n,r),this.session.selection.moveToPosition(n.end)}}},this.toLowerCase=function(){var t=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var e=this.getSelectionRange(),r=this.session.getTextRange(e);this.session.replace(e,r.toLowerCase()),this.selection.setSelectionRange(t)},this.toUpperCase=function(){var t=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var e=this.getSelectionRange(),r=this.session.getTextRange(e);this.session.replace(e,r.toUpperCase()),this.selection.setSelectionRange(t)},this.indent=function(){var t=this.session,e=this.getSelectionRange();if(!(e.start.row<e.end.row)){if(e.start.column<e.end.column){var r=t.getTextRange(e);if(!/^\s+$/.test(r)){u=this.$getSelectedRows();return void t.indentRows(u.first,u.last,"\t")}}var n=t.getLine(e.start.row),i=e.start,s=t.getTabSize(),a=t.documentToScreenColumn(i.row,i.column);if(this.session.getUseSoftTabs())var l=s-a%s,c=o.stringRepeat(" ",l);else{for(l=a%s;" "==n[e.start.column-1]&&l;)e.start.column--,l--;this.selection.setSelectionRange(e),c="\t"}return this.insert(c)}var u=this.$getSelectedRows();t.indentRows(u.first,u.last,"\t")},this.blockIndent=function(){var t=this.$getSelectedRows();this.session.indentRows(t.first,t.last,"\t")},this.blockOutdent=function(){var t=this.session.getSelection();this.session.outdentRows(t.getRange())},this.sortLines=function(){for(var t=this.$getSelectedRows(),e=this.session,r=[],n=t.first;n<=t.last;n++)r.push(e.getLine(n));r.sort((function(t,e){return t.toLowerCase()<e.toLowerCase()?-1:t.toLowerCase()>e.toLowerCase()?1:0}));var i=new f(0,0,0,0);for(n=t.first;n<=t.last;n++){var o=e.getLine(n);i.start.row=n,i.end.row=n,i.end.column=o.length,e.replace(i,r[n-t.first])}},this.toggleCommentLines=function(){var t=this.session.getState(this.getCursorPosition().row),e=this.$getSelectedRows();this.session.getMode().toggleCommentLines(t,this.session,e.first,e.last)},this.toggleBlockComment=function(){var t=this.getCursorPosition(),e=this.session.getState(t.row),r=this.getSelectionRange();this.session.getMode().toggleBlockComment(e,this.session,r,t)},this.getNumberAt=function(t,e){var r=/[\-]?[0-9]+(?:\.[0-9]+)?/g;r.lastIndex=0;for(var n=this.session.getLine(t);r.lastIndex<e;){var i=r.exec(n);if(i.index<=e&&i.index+i[0].length>=e)return{value:i[0],start:i.index,end:i.index+i[0].length}}return null},this.modifyNumber=function(t){var e=this.selection.getCursor().row,r=this.selection.getCursor().column,n=new f(e,r-1,e,r),i=this.session.getTextRange(n);if(!isNaN(parseFloat(i))&&isFinite(i)){var o=this.getNumberAt(e,r);if(o){var s=o.value.indexOf(".")>=0?o.start+o.value.indexOf(".")+1:o.end,a=o.start+o.value.length-s,l=parseFloat(o.value);l*=Math.pow(10,a),s!==o.end&&r<s?t*=Math.pow(10,o.end-r-1):t*=Math.pow(10,o.end-r),l+=t;var c=(l/=Math.pow(10,a)).toFixed(a),u=new f(e,o.start,e,o.end);this.session.replace(u,c),this.moveCursorTo(e,Math.max(o.start+1,r+c.length-o.value.length))}}},this.removeLines=function(){var t=this.$getSelectedRows();this.session.removeFullLines(t.first,t.last),this.clearSelection()},this.duplicateSelection=function(){var t=this.selection,e=this.session,r=t.getRange(),n=t.isBackwards();if(r.isEmpty()){var i=r.start.row;e.duplicateLines(i,i)}else{var o=n?r.start:r.end,s=e.insert(o,e.getTextRange(r),!1);r.start=o,r.end=s,t.setSelectionRange(r,n)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(t,e,r){return this.session.moveText(t,e,r)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(t,e){var r,n,i=this.selection;if(!i.inMultiSelectMode||this.inVirtualSelectionMode){var o=i.toOrientedRange();r=this.$getSelectedRows(o),n=this.session.$moveLines(r.first,r.last,e?0:t),e&&-1==t&&(n=0),o.moveBy(n,0),i.fromOrientedRange(o)}else{var s=i.rangeList.ranges;i.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var a=0,l=0,c=s.length,u=0;u<c;u++){var h=u;s[u].moveBy(a,0);for(var d=(r=this.$getSelectedRows(s[u])).first,f=r.last;++u<c;){l&&s[u].moveBy(l,0);var p=this.$getSelectedRows(s[u]);if(e&&p.first!=f)break;if(!e&&p.first>f+1)break;f=p.last}for(u--,a=this.session.$moveLines(d,f,e?0:t),e&&-1==t&&(h=u+1);h<=u;)s[h].moveBy(a,0),h++;e||(a=0),l+=a}i.fromOrientedRange(i.ranges[0]),i.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(t){return t=(t||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(t.start.row),last:this.session.getRowFoldEnd(t.end.row)}},this.onCompositionStart=function(t){this.renderer.showComposition(this.getCursorPosition())},this.onCompositionUpdate=function(t){this.renderer.setCompositionText(t)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(t){return t>=this.getFirstVisibleRow()&&t<=this.getLastVisibleRow()},this.isRowFullyVisible=function(t){return t>=this.renderer.getFirstFullyVisibleRow()&&t<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(t,e){var r=this.renderer,n=this.renderer.layerConfig,i=t*Math.floor(n.height/n.lineHeight);this.$blockScrolling++,!0===e?this.selection.$moveSelection((function(){this.moveCursorBy(i,0)})):!1===e&&(this.selection.moveCursorBy(i,0),this.selection.clearSelection()),this.$blockScrolling--;var o=r.scrollTop;r.scrollBy(0,i*n.lineHeight),null!=e&&r.scrollCursorIntoView(null,.5),r.animateScrolling(o)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(t){this.renderer.scrollToRow(t)},this.scrollToLine=function(t,e,r,n){this.renderer.scrollToLine(t,e,r,n)},this.centerSelection=function(){var t=this.getSelectionRange(),e={row:Math.floor(t.start.row+(t.end.row-t.start.row)/2),column:Math.floor(t.start.column+(t.end.column-t.start.column)/2)};this.renderer.alignCursor(e,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.$blockScrolling+=1,this.selection.selectAll(),this.$blockScrolling-=1},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(t,e){this.selection.moveCursorTo(t,e)},this.moveCursorToPosition=function(t){this.selection.moveCursorToPosition(t)},this.jumpToMatching=function(t,e){var r=this.getCursorPosition(),n=new v(this.session,r.row,r.column),i=n.getCurrentToken(),o=i||n.stepForward();if(o){var s,a,l=!1,c={},u=r.column-o.start,h={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(o.value.match(/[{}()\[\]]/g)){for(;u<o.value.length&&!l;u++)if(h[o.value[u]])switch(a=h[o.value[u]]+"."+o.type.replace("rparen","lparen"),isNaN(c[a])&&(c[a]=0),o.value[u]){case"(":case"[":case"{":c[a]++;break;case")":case"]":case"}":c[a]--,-1===c[a]&&(s="bracket",l=!0)}}else o&&-1!==o.type.indexOf("tag-name")&&(isNaN(c[o.value])&&(c[o.value]=0),"<"===i.value?c[o.value]++:"</"===i.value&&c[o.value]--,-1===c[o.value]&&(s="tag",l=!0));l||(i=o,o=n.stepForward(),u=0)}while(o&&!l);if(s){var d,p;if("bracket"===s)(d=this.session.getBracketRange(r))||(p=(d=new f(n.getCurrentTokenRow(),n.getCurrentTokenColumn()+u-1,n.getCurrentTokenRow(),n.getCurrentTokenColumn()+u-1)).start,(e||p.row===r.row&&Math.abs(p.column-r.column)<2)&&(d=this.session.getBracketRange(p)));else if("tag"===s){if(!o||-1===o.type.indexOf("tag-name"))return;var m=o.value;if(0===(d=new f(n.getCurrentTokenRow(),n.getCurrentTokenColumn()-2,n.getCurrentTokenRow(),n.getCurrentTokenColumn()-2)).compare(r.row,r.column)){l=!1;do{o=i,(i=n.stepBackward())&&(-1!==i.type.indexOf("tag-close")&&d.setEnd(n.getCurrentTokenRow(),n.getCurrentTokenColumn()+1),o.value===m&&-1!==o.type.indexOf("tag-name")&&("<"===i.value?c[m]++:"</"===i.value&&c[m]--,0===c[m]&&(l=!0)))}while(i&&!l)}o&&o.type.indexOf("tag-name")&&(p=d.start).row==r.row&&Math.abs(p.column-r.column)<2&&(p=d.end)}(p=d&&d.cursor||p)&&(t?d&&e?this.selection.setRange(d):d&&d.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(p.row,p.column):this.selection.moveTo(p.row,p.column))}}},this.gotoLine=function(t,e,r){this.selection.clearSelection(),this.session.unfold({row:t-1,column:e||0}),this.$blockScrolling+=1,this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(t-1,e||0),this.$blockScrolling-=1,this.isRowFullyVisible(t-1)||this.scrollToLine(t-1,!0,r)},this.navigateTo=function(t,e){this.selection.moveTo(t,e)},this.navigateUp=function(t){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var e=this.selection.anchor.getPosition();return this.moveCursorToPosition(e)}this.selection.clearSelection(),this.selection.moveCursorBy(-t||-1,0)},this.navigateDown=function(t){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var e=this.selection.anchor.getPosition();return this.moveCursorToPosition(e)}this.selection.clearSelection(),this.selection.moveCursorBy(t||1,0)},this.navigateLeft=function(t){if(this.selection.isEmpty())for(t=t||1;t--;)this.selection.moveCursorLeft();else{var e=this.getSelectionRange().start;this.moveCursorToPosition(e)}this.clearSelection()},this.navigateRight=function(t){if(this.selection.isEmpty())for(t=t||1;t--;)this.selection.moveCursorRight();else{var e=this.getSelectionRange().end;this.moveCursorToPosition(e)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(t,e){e&&this.$search.set(e);var r=this.$search.find(this.session),n=0;return r?(this.$tryReplace(r,t)&&(n=1),null!==r&&(this.selection.setSelectionRange(r),this.renderer.scrollSelectionIntoView(r.start,r.end)),n):n},this.replaceAll=function(t,e){e&&this.$search.set(e);var r=this.$search.findAll(this.session),n=0;if(!r.length)return n;this.$blockScrolling+=1;var i=this.getSelectionRange();this.selection.moveTo(0,0);for(var o=r.length-1;o>=0;--o)this.$tryReplace(r[o],t)&&n++;return this.selection.setSelectionRange(i),this.$blockScrolling-=1,n},this.$tryReplace=function(t,e){var r=this.session.getTextRange(t);return null!==(e=this.$search.replace(r,e))?(t.end=this.session.replace(t,e),t):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(t,e,r){e||(e={}),"string"==typeof t||t instanceof RegExp?e.needle=t:"object"==typeof t&&n.mixin(e,t);var i=this.selection.getRange();null==e.needle&&((t=this.session.getTextRange(i)||this.$search.$options.needle)||(i=this.session.getWordRange(i.start.row,i.start.column),t=this.session.getTextRange(i)),this.$search.set({needle:t})),this.$search.set(e),e.start||this.$search.set({start:i});var o=this.$search.find(this.session);return e.preventScroll?o:o?(this.revealRange(o,r),o):(e.backwards?i.start=i.end:i.end=i.start,void this.selection.setRange(i))},this.findNext=function(t,e){this.find({skipCurrent:!0,backwards:!1},t,e)},this.findPrevious=function(t,e){this.find(t,{skipCurrent:!0,backwards:!0},e)},this.revealRange=function(t,e){this.$blockScrolling+=1,this.session.unfold(t),this.selection.setSelectionRange(t),this.$blockScrolling-=1;var r=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(t.start,t.end,.5),!1!==e&&this.renderer.animateScrolling(r)},this.undo=function(){this.$blockScrolling++,this.session.getUndoManager().undo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.$blockScrolling++,this.session.getUndoManager().redo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy()},this.setAutoScrollEditorIntoView=function(t){if(t){var e,r=this,n=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var i=this.$scrollAnchor;i.style.cssText="position:absolute",this.container.insertBefore(i,this.container.firstChild);var o=this.on("changeSelection",(function(){n=!0})),s=this.renderer.on("beforeRender",(function(){n&&(e=r.renderer.container.getBoundingClientRect())})),a=this.renderer.on("afterRender",(function(){if(n&&e&&(r.isFocused()||r.searchBox&&r.searchBox.isFocused())){var t=r.renderer,o=t.$cursorLayer.$pixelPos,s=t.layerConfig,a=o.top-s.offset;null!=(n=o.top>=0&&a+e.top<0||!(o.top<s.height&&o.top+e.top+s.lineHeight>window.innerHeight)&&null)&&(i.style.top=a+"px",i.style.left=o.left+"px",i.style.height=s.lineHeight+"px",i.scrollIntoView(n)),n=e=null}}));this.setAutoScrollEditorIntoView=function(t){t||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",o),this.renderer.off("afterRender",a),this.renderer.off("beforeRender",s))}}},this.$resetCursorStyle=function(){var t=this.$cursorStyle||"ace",e=this.renderer.$cursorLayer;e&&(e.setSmoothBlinking(/smooth/.test(t)),e.isBlinking=!this.$readOnly&&"wide"!=t,i.setCssClass(e.element,"ace_slim-cursors",/slim/.test(t)))}}.call(b.prototype),y.defineOptions(b.prototype,"editor",{selectionStyle:{set:function(t){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:t})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(t){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(t){this.$resetCursorStyle()},initialValue:!1},cursorStyle:{set:function(t){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(t){this.setAutoScrollEditorIntoView(t)}},keyboardHandler:{set:function(t){this.setKeyboardHandler(t)},get:function(){return this.keybindingId},handlesSet:!0},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",showLineNumbers:"renderer",showGutter:"renderer",displayIndentGuides:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"}),e.Editor=b})),ace.define("ace/undomanager",["require","exports","module"],(function(t,e,r){var n=function(){this.reset()};(function(){function t(t){return{action:t.action,start:t.start,end:t.end,lines:1==t.lines.length?null:t.lines,text:1==t.lines.length?t.lines[0]:null}}function e(t){return{action:t.action,start:t.start,end:t.end,lines:t.lines||[t.text]}}function r(t,e){for(var r=new Array(t.length),n=0;n<t.length;n++){for(var i=t[n],o={group:i.group,deltas:new Array(i.length)},s=0;s<i.deltas.length;s++){var a=i.deltas[s];o.deltas[s]=e(a)}r[n]=o}return r}this.execute=function(t){var e=t.args[0];this.$doc=t.args[1],t.merge&&this.hasUndo()&&(this.dirtyCounter--,e=this.$undoStack.pop().concat(e)),this.$undoStack.push(e),this.$redoStack=[],this.dirtyCounter<0&&(this.dirtyCounter=NaN),this.dirtyCounter++},this.undo=function(t){var e=this.$undoStack.pop(),r=null;return e&&(r=this.$doc.undoChanges(e,t),this.$redoStack.push(e),this.dirtyCounter--),r},this.redo=function(t){var e=this.$redoStack.pop(),r=null;return e&&(r=this.$doc.redoChanges(this.$deserializeDeltas(e),t),this.$undoStack.push(e),this.dirtyCounter++),r},this.reset=function(){this.$undoStack=[],this.$redoStack=[],this.dirtyCounter=0},this.hasUndo=function(){return this.$undoStack.length>0},this.hasRedo=function(){return this.$redoStack.length>0},this.markClean=function(){this.dirtyCounter=0},this.isClean=function(){return 0===this.dirtyCounter},this.$serializeDeltas=function(e){return r(e,t)},this.$deserializeDeltas=function(t){return r(t,e)}}).call(n.prototype),e.UndoManager=n})),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter"],(function(t,e,r){var n=t("../lib/dom"),i=t("../lib/oop"),o=t("../lib/lang"),s=t("../lib/event_emitter").EventEmitter,a=function(t){this.element=n.createElement("div"),this.element.className="ace_layer ace_gutter-layer",t.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$cells=[]};(function(){i.implement(this,s),this.setSession=function(t){this.session&&this.session.removeEventListener("change",this.$updateAnnotations),this.session=t,t&&t.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(t,e){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(t,e)},this.removeGutterDecoration=function(t,e){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(t,e)},this.setAnnotations=function(t){this.$annotations=[];for(var e=0;e<t.length;e++){var r=t[e],n=r.row,i=this.$annotations[n];i||(i=this.$annotations[n]={text:[]});var s=r.text;s=s?o.escapeHTML(s):r.html||"",-1===i.text.indexOf(s)&&i.text.push(s);var a=r.type;"error"==a?i.className=" ace_error":"warning"==a&&" ace_error"!=i.className?i.className=" ace_warning":"info"!=a||i.className||(i.className=" ace_info")}},this.$updateAnnotations=function(t){if(this.$annotations.length){var e=t.start.row,r=t.end.row-e;if(0===r);else if("remove"==t.action)this.$annotations.splice(e,r+1,null);else{var n=new Array(r+1);n.unshift(e,1),this.$annotations.splice.apply(this.$annotations,n)}}},this.update=function(t){for(var e=this.session,r=t.firstRow,i=Math.min(t.lastRow+t.gutterOffset,e.getLength()-1),o=e.getNextFoldLine(r),s=o?o.start.row:1/0,a=this.$showFoldWidgets&&e.foldWidgets,l=e.$breakpoints,c=e.$decorations,u=e.$firstLineNumber,h=0,d=e.gutterRenderer||this.$renderer,f=null,p=-1,m=r;;){if(m>s&&(m=o.end.row+1,s=(o=e.getNextFoldLine(m,o))?o.start.row:1/0),m>i){for(;this.$cells.length>p+1;)f=this.$cells.pop(),this.element.removeChild(f.element);break}(f=this.$cells[++p])||((f={element:null,textNode:null,foldWidget:null}).element=n.createElement("div"),f.textNode=document.createTextNode(""),f.element.appendChild(f.textNode),this.element.appendChild(f.element),this.$cells[p]=f);var g="ace_gutter-cell ";if(l[m]&&(g+=l[m]),c[m]&&(g+=c[m]),this.$annotations[m]&&(g+=this.$annotations[m].className),f.element.className!=g&&(f.element.className=g),(v=e.getRowLength(m)*t.lineHeight+"px")!=f.element.style.height&&(f.element.style.height=v),a){var y=a[m];null==y&&(y=a[m]=e.getFoldWidget(m))}if(y){f.foldWidget||(f.foldWidget=n.createElement("span"),f.element.appendChild(f.foldWidget));g="ace_fold-widget ace_"+y;"start"==y&&m==s&&m<o.end.row?g+=" ace_closed":g+=" ace_open",f.foldWidget.className!=g&&(f.foldWidget.className=g);var v=t.lineHeight+"px";f.foldWidget.style.height!=v&&(f.foldWidget.style.height=v)}else f.foldWidget&&(f.element.removeChild(f.foldWidget),f.foldWidget=null);var b=h=d?d.getText(e,m):m+u;b!==f.textNode.data&&(f.textNode.data=b),m++}this.element.style.height=t.minHeight+"px",(this.$fixedWidth||e.$useWrapMode)&&(h=e.getLength()+u);var A=d?d.getWidth(e,h,t):h.toString().length*t.characterWidth,C=this.$padding||this.$computePadding();(A+=C.left+C.right)===this.gutterWidth||isNaN(A)||(this.gutterWidth=A,this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._emit("changeGutterWidth",A))},this.$fixedWidth=!1,this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(t){this.$renderer=!t&&{getWidth:function(){return""},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(t){t?n.addCssClass(this.element,"ace_folding-enabled"):n.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=t,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var t=n.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(t.paddingLeft)+1||0,this.$padding.right=parseInt(t.paddingRight)||0,this.$padding},this.getRegion=function(t){var e=this.$padding||this.$computePadding(),r=this.element.getBoundingClientRect();return t.x<e.left+r.left?"markers":this.$showFoldWidgets&&t.x>r.right-e.right?"foldWidgets":void 0}}).call(a.prototype),e.Gutter=a})),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],(function(t,e,r){var n=t("../range").Range,i=t("../lib/dom"),o=function(t){this.element=i.createElement("div"),this.element.className="ace_layer ace_marker-layer",t.appendChild(this.element)};(function(){this.$padding=0,this.setPadding=function(t){this.$padding=t},this.setSession=function(t){this.session=t},this.setMarkers=function(t){this.markers=t},this.update=function(t){if(t){this.config=t;var e=[];for(var r in this.markers){var n=this.markers[r];if(n.range){var i=n.range.clipRows(t.firstRow,t.lastRow);if(!i.isEmpty())if(i=i.toScreenRange(this.session),n.renderer){var o=this.$getTop(i.start.row,t),s=this.$padding+(this.session.$bidiHandler.isBidiRow(i.start.row)?this.session.$bidiHandler.getPosLeft(i.start.column):i.start.column*t.characterWidth);n.renderer(e,i,s,o,t)}else"fullLine"==n.type?this.drawFullLineMarker(e,i,n.clazz,t):"screenLine"==n.type?this.drawScreenLineMarker(e,i,n.clazz,t):i.isMultiLine()?"text"==n.type?this.drawTextMarker(e,i,n.clazz,t):this.drawMultiLineMarker(e,i,n.clazz,t):this.session.$bidiHandler.isBidiRow(i.start.row)?this.drawBidiSingleLineMarker(e,i,n.clazz+" ace_start ace_br15",t):this.drawSingleLineMarker(e,i,n.clazz+" ace_start ace_br15",t)}else n.update(e,this,this.session,t)}this.element.innerHTML=e.join("")}},this.$getTop=function(t,e){return(t-e.firstRowScreen)*e.lineHeight},this.drawTextMarker=function(t,e,r,i,o){for(var s=this.session,a=e.start.row,l=e.end.row,c=a,u=0,h=0,d=s.getScreenLastRowColumn(c),f=null,p=new n(c,e.start.column,c,h);c<=l;c++)p.start.row=p.end.row=c,p.start.column=c==a?e.start.column:s.getRowWrapIndent(c),p.end.column=d,u=h,h=d,d=c+1<l?s.getScreenLastRowColumn(c+1):c==l?0:e.end.column,f=r+(c==a?" ace_start":"")+" ace_br"+((c==a||c==a+1&&e.start.column?1:0)|(u<h?2:0)|(h>d?4:0)|(c==l?8:0)),this.session.$bidiHandler.isBidiRow(c)?this.drawBidiSingleLineMarker(t,p,f,i,c==l?0:1,o):this.drawSingleLineMarker(t,p,f,i,c==l?0:1,o)},this.drawMultiLineMarker=function(t,e,r,n,i){var o,s,a,l=this.$padding;(i=i||"",this.session.$bidiHandler.isBidiRow(e.start.row))?((c=e.clone()).end.row=c.start.row,c.end.column=this.session.getLine(c.start.row).length,this.drawBidiSingleLineMarker(t,c,r+" ace_br1 ace_start",n,null,i)):(o=n.lineHeight,s=this.$getTop(e.start.row,n),a=l+e.start.column*n.characterWidth,t.push("<div class='",r," ace_br1 ace_start' style='","height:",o,"px;","right:0;","top:",s,"px;","left:",a,"px;",i,"'></div>"));if(this.session.$bidiHandler.isBidiRow(e.end.row)){var c;(c=e.clone()).start.row=c.end.row,c.start.column=0,this.drawBidiSingleLineMarker(t,c,r+" ace_br12",n,null,i)}else{var u=e.end.column*n.characterWidth;o=n.lineHeight,s=this.$getTop(e.end.row,n),t.push("<div class='",r," ace_br12' style='","height:",o,"px;","width:",u,"px;","top:",s,"px;","left:",l,"px;",i,"'></div>")}if(!((o=(e.end.row-e.start.row-1)*n.lineHeight)<=0)){s=this.$getTop(e.start.row+1,n);var h=(e.start.column?1:0)|(e.end.column?0:8);t.push("<div class='",r,h?" ace_br"+h:"","' style='","height:",o,"px;","right:0;","top:",s,"px;","left:",l,"px;",i,"'></div>")}},this.drawSingleLineMarker=function(t,e,r,n,i,o){var s=n.lineHeight,a=(e.end.column+(i||0)-e.start.column)*n.characterWidth,l=this.$getTop(e.start.row,n),c=this.$padding+e.start.column*n.characterWidth;t.push("<div class='",r,"' style='","height:",s,"px;","width:",a,"px;","top:",l,"px;","left:",c,"px;",o||"","'></div>")},this.drawBidiSingleLineMarker=function(t,e,r,n,i,o){var s=n.lineHeight,a=this.$getTop(e.start.row,n),l=this.$padding;this.session.$bidiHandler.getSelections(e.start.column,e.end.column).forEach((function(e){t.push("<div class='",r,"' style='","height:",s,"px;","width:",e.width+(i||0),"px;","top:",a,"px;","left:",l+e.left,"px;",o||"","'></div>")}))},this.drawFullLineMarker=function(t,e,r,n,i){var o=this.$getTop(e.start.row,n),s=n.lineHeight;e.start.row!=e.end.row&&(s+=this.$getTop(e.end.row,n)-o),t.push("<div class='",r,"' style='","height:",s,"px;","top:",o,"px;","left:0;right:0;",i||"","'></div>")},this.drawScreenLineMarker=function(t,e,r,n,i){var o=this.$getTop(e.start.row,n),s=n.lineHeight;t.push("<div class='",r,"' style='","height:",s,"px;","top:",o,"px;","left:0;right:0;",i||"","'></div>")}}).call(o.prototype),e.Marker=o})),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],(function(t,e,r){var n=t("../lib/oop"),i=t("../lib/dom"),o=t("../lib/lang"),s=(t("../lib/useragent"),t("../lib/event_emitter").EventEmitter),a=function(t){this.element=i.createElement("div"),this.element.className="ace_layer ace_text-layer",t.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this)};(function(){n.implement(this,s),this.EOF_CHAR="¶",this.EOL_CHAR_LF="¬",this.EOL_CHAR_CRLF="¤",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="—",this.SPACE_CHAR="·",this.$padding=0,this.$updateEolChar=function(){var t="\n"==this.session.doc.getNewLineCharacter()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=t)return this.EOL_CHAR=t,!0},this.setPadding=function(t){this.$padding=t,this.element.style.padding="0 "+t+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(t){this.$fontMetrics=t,this.$fontMetrics.on("changeCharacterSize",function(t){this._signal("changeCharacterSize",t)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(t){this.session=t,t&&this.$computeTabString()},this.showInvisibles=!1,this.setShowInvisibles=function(t){return this.showInvisibles!=t&&(this.showInvisibles=t,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(t){return this.displayIndentGuides!=t&&(this.displayIndentGuides=t,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var t=this.session.getTabSize();this.tabSize=t;for(var e=this.$tabStrings=[0],r=1;r<t+1;r++)this.showInvisibles?e.push("<span class='ace_invisible ace_invisible_tab'>"+o.stringRepeat(this.TAB_CHAR,r)+"</span>"):e.push(o.stringRepeat(" ",r));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var n="ace_indent-guide",i="",s="";if(this.showInvisibles){n+=" ace_invisible",i=" ace_invisible_space",s=" ace_invisible_tab";var a=o.stringRepeat(this.SPACE_CHAR,this.tabSize),l=o.stringRepeat(this.TAB_CHAR,this.tabSize)}else l=a=o.stringRepeat(" ",this.tabSize);this.$tabStrings[" "]="<span class='"+n+i+"'>"+a+"</span>",this.$tabStrings["\t"]="<span class='"+n+s+"'>"+l+"</span>"}},this.updateLines=function(t,e,r){this.config.lastRow==t.lastRow&&this.config.firstRow==t.firstRow||this.scrollLines(t),this.config=t;for(var n=Math.max(e,t.firstRow),i=Math.min(r,t.lastRow),o=this.element.childNodes,s=0,a=t.firstRow;a<n;a++){if(l=this.session.getFoldLine(a)){if(l.containsRow(n)){n=l.start.row;break}a=l.end.row}s++}a=n;for(var l,c=(l=this.session.getNextFoldLine(a))?l.start.row:1/0;a>c&&(a=l.end.row+1,c=(l=this.session.getNextFoldLine(a,l))?l.start.row:1/0),!(a>i);){var u=o[s++];if(u){var h=[];this.$renderLine(h,a,!this.$useLineGroups(),a==c&&l),u.style.height=t.lineHeight*this.session.getRowLength(a)+"px",u.innerHTML=h.join("")}a++}},this.scrollLines=function(t){var e=this.config;if(this.config=t,!e||e.lastRow<t.firstRow)return this.update(t);if(t.lastRow<e.firstRow)return this.update(t);var r=this.element;if(e.firstRow<t.firstRow)for(var n=this.session.getFoldedRowCount(e.firstRow,t.firstRow-1);n>0;n--)r.removeChild(r.firstChild);if(e.lastRow>t.lastRow)for(n=this.session.getFoldedRowCount(t.lastRow+1,e.lastRow);n>0;n--)r.removeChild(r.lastChild);if(t.firstRow<e.firstRow){var i=this.$renderLinesFragment(t,t.firstRow,e.firstRow-1);r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i)}if(t.lastRow>e.lastRow){i=this.$renderLinesFragment(t,e.lastRow+1,t.lastRow);r.appendChild(i)}},this.$renderLinesFragment=function(t,e,r){for(var n=this.element.ownerDocument.createDocumentFragment(),o=e,s=this.session.getNextFoldLine(o),a=s?s.start.row:1/0;o>a&&(o=s.end.row+1,a=(s=this.session.getNextFoldLine(o,s))?s.start.row:1/0),!(o>r);){var l=i.createElement("div"),c=[];if(this.$renderLine(c,o,!1,o==a&&s),l.innerHTML=c.join(""),this.$useLineGroups())l.className="ace_line_group",n.appendChild(l),l.style.height=t.lineHeight*this.session.getRowLength(o)+"px";else for(;l.firstChild;)n.appendChild(l.firstChild);o++}return n},this.update=function(t){this.config=t;for(var e=[],r=t.firstRow,n=t.lastRow,i=r,o=this.session.getNextFoldLine(i),s=o?o.start.row:1/0;i>s&&(i=o.end.row+1,s=(o=this.session.getNextFoldLine(i,o))?o.start.row:1/0),!(i>n);)this.$useLineGroups()&&e.push("<div class='ace_line_group' style='height:",t.lineHeight*this.session.getRowLength(i),"px'>"),this.$renderLine(e,i,!1,i==s&&o),this.$useLineGroups()&&e.push("</div>"),i++;this.element.innerHTML=e.join("")},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(t,e,r,n){var i=this,s=n.replace(/\t|&|<|>|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF\uFFF9-\uFFFC])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,(function(t,r,n,s,a){if(r)return i.showInvisibles?"<span class='ace_invisible ace_invisible_space'>"+o.stringRepeat(i.SPACE_CHAR,t.length)+"</span>":t;if("&"==t)return"&#38;";if("<"==t)return"&#60;";if(">"==t)return"&#62;";if("\t"==t){var l=i.session.getScreenTabSize(e+s);return e+=l-1,i.$tabStrings[l]}if("　"==t){var c=i.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",u=i.showInvisibles?i.SPACE_CHAR:"";return e+=1,"<span class='"+c+"' style='width:"+2*i.config.characterWidth+"px'>"+u+"</span>"}return n?"<span class='ace_invisible ace_invisible_space ace_invalid'>"+i.SPACE_CHAR+"</span>":(e+=1,"<span class='ace_cjk' style='width:"+2*i.config.characterWidth+"px'>"+t+"</span>")}));if(this.$textToken[r.type])t.push(s);else{var a="ace_"+r.type.replace(/\./g," ace_"),l="";"fold"==r.type&&(l=" style='width:"+r.value.length*this.config.characterWidth+"px;' "),t.push("<span class='",a,"'",l,">",s,"</span>")}return e+n.length},this.renderIndentGuide=function(t,e,r){var n=e.search(this.$indentGuideRe);return n<=0||n>=r?e:" "==e[0]?(n-=n%this.tabSize,t.push(o.stringRepeat(this.$tabStrings[" "],n/this.tabSize)),e.substr(n)):"\t"==e[0]?(t.push(o.stringRepeat(this.$tabStrings["\t"],n)),e.substr(n)):e},this.$renderWrappedLine=function(t,e,r,n){for(var i=0,s=0,a=r[0],l=0,c=0;c<e.length;c++){var u=e[c],h=u.value;if(0==c&&this.displayIndentGuides){if(i=h.length,!(h=this.renderIndentGuide(t,h,a)))continue;i-=h.length}if(i+h.length<a)l=this.$renderToken(t,l,u,h),i+=h.length;else{for(;i+h.length>=a;)l=this.$renderToken(t,l,u,h.substring(0,a-i)),h=h.substring(a-i),i=a,n||t.push("</div>","<div class='ace_line' style='height:",this.config.lineHeight,"px'>"),t.push(o.stringRepeat(" ",r.indent)),l=0,a=r[++s]||Number.MAX_VALUE;0!=h.length&&(i+=h.length,l=this.$renderToken(t,l,u,h))}}},this.$renderSimpleLine=function(t,e){var r=0,n=e[0],i=n.value;this.displayIndentGuides&&(i=this.renderIndentGuide(t,i)),i&&(r=this.$renderToken(t,r,n,i));for(var o=1;o<e.length;o++)i=(n=e[o]).value,r=this.$renderToken(t,r,n,i)},this.$renderLine=function(t,e,r,n){if(n||0==n||(n=this.session.getFoldLine(e)),n)var i=this.$getFoldLineTokens(e,n);else i=this.session.getTokens(e);if(r||t.push("<div class='ace_line' style='height:",this.config.lineHeight*(this.$useLineGroups()?1:this.session.getRowLength(e)),"px'>"),i.length){var o=this.session.getRowSplitData(e);o&&o.length?this.$renderWrappedLine(t,i,o,r):this.$renderSimpleLine(t,i)}this.showInvisibles&&(n&&(e=n.end.row),t.push("<span class='ace_invisible ace_invisible_eol'>",e==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,"</span>")),r||t.push("</div>")},this.$getFoldLineTokens=function(t,e){var r=this.session,n=[];var i=r.getTokens(t);return e.walk((function(t,e,o,s,a){null!=t?n.push({type:"fold",value:t}):(a&&(i=r.getTokens(e)),i.length&&function(t,e,r){for(var i=0,o=0;o+t[i].value.length<e;)if(o+=t[i].value.length,++i==t.length)return;for(o!=e&&((s=t[i].value.substring(e-o)).length>r-e&&(s=s.substring(0,r-e)),n.push({type:t[i].type,value:s}),o=e+s.length,i+=1);o<r&&i<t.length;){var s;(s=t[i].value).length+o>r?n.push({type:t[i].type,value:s.substring(0,r-o)}):n.push(t[i]),o+=s.length,i+=1}}(i,s,o))}),e.end.row,this.session.getLine(e.end.row).length),n},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$measureNode&&this.$measureNode.parentNode.removeChild(this.$measureNode),delete this.$measureNode}}).call(a.prototype),e.Text=a})),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],(function(t,e,r){var n,i=t("../lib/dom"),o=function(t){this.element=i.createElement("div"),this.element.className="ace_layer ace_cursor-layer",t.appendChild(this.element),void 0===n&&(n=!("opacity"in this.element.style)),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),i.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=(n?this.$updateVisibility:this.$updateOpacity).bind(this)};(function(){this.$updateVisibility=function(t){for(var e=this.cursors,r=e.length;r--;)e[r].style.visibility=t?"":"hidden"},this.$updateOpacity=function(t){for(var e=this.cursors,r=e.length;r--;)e[r].style.opacity=t?"":"0"},this.$padding=0,this.setPadding=function(t){this.$padding=t},this.setSession=function(t){this.session=t},this.setBlinking=function(t){t!=this.isBlinking&&(this.isBlinking=t,this.restartTimer())},this.setBlinkInterval=function(t){t!=this.blinkInterval&&(this.blinkInterval=t,this.restartTimer())},this.setSmoothBlinking=function(t){t==this.smoothBlinking||n||(this.smoothBlinking=t,i.setCssClass(this.element,"ace_smooth-blinking",t),this.$updateCursors(!0),this.$updateCursors=this.$updateOpacity.bind(this),this.restartTimer())},this.addCursor=function(){var t=i.createElement("div");return t.className="ace_cursor",this.element.appendChild(t),this.cursors.push(t),t},this.removeCursor=function(){if(this.cursors.length>1){var t=this.cursors.pop();return t.parentNode.removeChild(t),t}},this.hideCursor=function(){this.isVisible=!1,i.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,i.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var t=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.smoothBlinking&&i.removeCssClass(this.element,"ace_smooth-blinking"),t(!0),this.isBlinking&&this.blinkInterval&&this.isVisible){this.smoothBlinking&&setTimeout(function(){i.addCssClass(this.element,"ace_smooth-blinking")}.bind(this));var e=function(){this.timeoutId=setTimeout((function(){t(!1)}),.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval((function(){t(!0),e()}),this.blinkInterval),e()}},this.getPixelPosition=function(t,e){if(!this.config||!this.session)return{left:0,top:0};t||(t=this.session.selection.getCursor());var r=this.session.documentToScreenPosition(t);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(r.row,t.row)?this.session.$bidiHandler.getPosLeft(r.column):r.column*this.config.characterWidth),top:(r.row-(e?this.config.firstRowScreen:0))*this.config.lineHeight}},this.update=function(t){this.config=t;var e=this.session.$selectionMarkers,r=0,n=0;void 0!==e&&0!==e.length||(e=[{cursor:null}]);r=0;for(var i=e.length;r<i;r++){var o=this.getPixelPosition(e[r].cursor,!0);if(!((o.top>t.height+t.offset||o.top<0)&&r>1)){var s=(this.cursors[n++]||this.addCursor()).style;this.drawCursor?this.drawCursor(s,o,t,e[r],this.session):(s.left=o.left+"px",s.top=o.top+"px",s.width=t.characterWidth+"px",s.height=t.lineHeight+"px")}}for(;this.cursors.length>n;)this.removeCursor();var a=this.session.getOverwrite();this.$setOverwrite(a),this.$pixelPos=o,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(t){t!=this.overwrite&&(this.overwrite=t,t?i.addCssClass(this.element,"ace_overwrite-cursors"):i.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(o.prototype),e.Cursor=o})),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],(function(t,e,r){var n=t("./lib/oop"),i=t("./lib/dom"),o=t("./lib/event"),s=t("./lib/event_emitter").EventEmitter,a=32768,l=function(t){this.element=i.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=i.createElement("div"),this.inner.className="ace_scrollbar-inner",this.element.appendChild(this.inner),t.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,o.addListener(this.element,"scroll",this.onScroll.bind(this)),o.addListener(this.element,"mousedown",o.preventDefault)};(function(){n.implement(this,s),this.setVisible=function(t){this.element.style.display=t?"":"none",this.isVisible=t,this.coeff=1}}).call(l.prototype);var c=function(t,e){l.call(this,t),this.scrollTop=0,this.scrollHeight=0,e.$scrollbarWidth=this.width=i.scrollbarWidth(t.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0};n.inherits(c,l),function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var t=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-t)/(this.coeff-t)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(t){this.element.style.height=t+"px"},this.setInnerHeight=this.setScrollHeight=function(t){this.scrollHeight=t,t>a?(this.coeff=a/t,t=a):1!=this.coeff&&(this.coeff=1),this.inner.style.height=t+"px"},this.setScrollTop=function(t){this.scrollTop!=t&&(this.skipEvent=!0,this.scrollTop=t,this.element.scrollTop=t*this.coeff)}}.call(c.prototype);var u=function(t,e){l.call(this,t),this.scrollLeft=0,this.height=e.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};n.inherits(u,l),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(t){this.element.style.width=t+"px"},this.setInnerWidth=function(t){this.inner.style.width=t+"px"},this.setScrollWidth=function(t){this.inner.style.width=t+"px"},this.setScrollLeft=function(t){this.scrollLeft!=t&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=t)}}.call(u.prototype),e.ScrollBar=c,e.ScrollBarV=c,e.ScrollBarH=u,e.VScrollBar=c,e.HScrollBar=u})),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],(function(t,e,r){var n=t("./lib/event"),i=function(t,e){this.onRender=t,this.pending=!1,this.changes=0,this.window=e||window};(function(){this.schedule=function(t){if(this.changes=this.changes|t,!this.pending&&this.changes){this.pending=!0;var e=this;n.nextFrame((function(){var t;for(e.pending=!1;t=e.changes;)e.changes=0,e.onRender(t)}),this.window)}}}).call(i.prototype),e.RenderLoop=i})),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],(function(t,e,r){var n=t("../lib/oop"),i=t("../lib/dom"),o=t("../lib/lang"),s=t("../lib/useragent"),a=t("../lib/event_emitter").EventEmitter,l=0,c=e.FontMetrics=function(t){this.el=i.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=i.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=i.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),t.appendChild(this.el),l||this.$testFractionalRect(),this.$measureNode.innerHTML=o.stringRepeat("X",l),this.$characterSize={width:0,height:0},this.checkForSizeChanges()};(function(){n.implement(this,a),this.$characterSize={width:0,height:0},this.$testFractionalRect=function(){var t=i.createElement("div");this.$setMeasureNodeStyles(t.style),t.style.width="0.2px",document.documentElement.appendChild(t);var e=t.getBoundingClientRect().width;l=e>0&&e<1?50:100,t.parentNode.removeChild(t)},this.$setMeasureNodeStyles=function(t,e){t.width=t.height="auto",t.left=t.top="0px",t.visibility="hidden",t.position="absolute",t.whiteSpace="pre",s.isIE<8?t["font-family"]="inherit":t.font="inherit",t.overflow=e?"hidden":"visible"},this.checkForSizeChanges=function(){var t=this.$measureSizes();if(t&&(this.$characterSize.width!==t.width||this.$characterSize.height!==t.height)){this.$measureNode.style.fontWeight="bold";var e=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=t,this.charSizes=Object.create(null),this.allowBoldFonts=e&&e.width===t.width&&e.height===t.height,this._emit("changeCharacterSize",{data:t})}},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer)return this.$pollSizeChangesTimer;var t=this;return this.$pollSizeChangesTimer=setInterval((function(){t.checkForSizeChanges()}),500)},this.setPolling=function(t){t?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(){if(50===l){var t=null;try{t=this.$measureNode.getBoundingClientRect()}catch(e){t={width:0,height:0}}var e={height:t.height,width:t.width/l}}else e={height:this.$measureNode.clientHeight,width:this.$measureNode.clientWidth/l};return 0===e.width||0===e.height?null:e},this.$measureCharWidth=function(t){return this.$main.innerHTML=o.stringRepeat(t,l),this.$main.getBoundingClientRect().width/l},this.getCharacterWidth=function(t){var e=this.charSizes[t];return void 0===e&&(e=this.charSizes[t]=this.$measureCharWidth(t)/this.$characterSize.width),e},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)}}).call(c.prototype)})),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/lib/useragent","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter"],(function(t,e,r){var n=t("./lib/oop"),i=t("./lib/dom"),o=t("./config"),s=t("./lib/useragent"),a=t("./layer/gutter").Gutter,l=t("./layer/marker").Marker,c=t("./layer/text").Text,u=t("./layer/cursor").Cursor,h=t("./scrollbar").HScrollBar,d=t("./scrollbar").VScrollBar,f=t("./renderloop").RenderLoop,p=t("./layer/font_metrics").FontMetrics,m=t("./lib/event_emitter").EventEmitter;i.importCssString('.ace_editor {position: relative;overflow: hidden;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;min-width: 100%;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;text-indent: -1em;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: inherit;color: inherit;z-index: 1000;opacity: 1;text-indent: 0;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {-webkit-transition: opacity 0.18s;transition: opacity 0.18s;}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.ace_line .ace_fold {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {-webkit-transition: opacity 0.4s ease 0.05s;transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {-webkit-transition: opacity 0.05s ease 0.05s;transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_text-input-ios {position: absolute !important;top: -100000px !important;left: -100000px !important;}',"ace_editor.css");var g=function(t,e){var r=this;this.container=t||i.createElement("div"),this.$keepTextAreaAtCursor=!s.isOldIE,i.addCssClass(this.container,"ace_editor"),this.setTheme(e),this.$gutter=i.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=i.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=i.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new a(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new l(this.content);var n=this.$textLayer=new c(this.content);this.canvas=n.element,this.$markerFront=new l(this.content),this.$cursorLayer=new u(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new d(this.container,this),this.scrollBarH=new h(this.container,this),this.scrollBarV.addEventListener("scroll",(function(t){r.$scrollAnimation||r.session.setScrollTop(t.data-r.scrollMargin.top)})),this.scrollBarH.addEventListener("scroll",(function(t){r.$scrollAnimation||r.session.setScrollLeft(t.data-r.scrollMargin.left)})),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new p(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.addEventListener("changeCharacterSize",(function(t){r.updateCharacterSize(),r.onResize(!0,r.gutterWidth,r.$size.width,r.$size.height),r._signal("changeCharacterSize",t)})),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$loop=new f(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),o.resetOptions(this),o._emit("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,n.implement(this,m),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin()},this.setSession=function(t){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=t,t&&this.scrollMargin.top&&t.getScrollTop()<=0&&t.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(t),this.$markerBack.setSession(t),this.$markerFront.setSession(t),this.$gutterLayer.setSession(t),this.$textLayer.setSession(t),t&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(t,e,r){if(void 0===e&&(e=1/0),this.$changedLines?(this.$changedLines.firstRow>t&&(this.$changedLines.firstRow=t),this.$changedLines.lastRow<e&&(this.$changedLines.lastRow=e)):this.$changedLines={firstRow:t,lastRow:e},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!r)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(t){t?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(t,e,r,n){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=t?1:0;var i=this.container;n||(n=i.clientHeight||i.scrollHeight),r||(r=i.clientWidth||i.scrollWidth);var o=this.$updateCachedSize(t,e,r,n);if(!this.$size.scrollerHeight||!r&&!n)return this.resizing=0;t&&(this.$gutterLayer.$padding=null),t?this.$renderChanges(o|this.$changes,!0):this.$loop.schedule(o|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(t,e,r,n){n-=this.$extraHeight||0;var i=0,o=this.$size,s={width:o.width,height:o.height,scrollerHeight:o.scrollerHeight,scrollerWidth:o.scrollerWidth};return n&&(t||o.height!=n)&&(o.height=n,i|=this.CHANGE_SIZE,o.scrollerHeight=o.height,this.$horizScroll&&(o.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",i|=this.CHANGE_SCROLL),r&&(t||o.width!=r)&&(i|=this.CHANGE_SIZE,o.width=r,null==e&&(e=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=e,this.scrollBarH.element.style.left=this.scroller.style.left=e+"px",o.scrollerWidth=Math.max(0,r-e-this.scrollBarV.getWidth()),this.scrollBarH.element.style.right=this.scroller.style.right=this.scrollBarV.getWidth()+"px",this.scroller.style.bottom=this.scrollBarH.getHeight()+"px",(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||t)&&(i|=this.CHANGE_FULL)),o.$dirty=!r||!n,i&&this._signal("resize",s),i},this.onGutterResize=function(){var t=this.$showGutter?this.$gutter.offsetWidth:0;t!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,t,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):(this.$computeLayerConfig(),this.$loop.schedule(this.CHANGE_MARKER))},this.adjustWrapLimit=function(){var t=this.$size.scrollerWidth-2*this.$padding,e=Math.floor(t/this.characterWidth);return this.session.adjustWrapLimit(e,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(t){this.setOption("animatedScroll",t)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(t){this.setOption("showInvisibles",t),this.session.$bidiHandler.setShowInvisibles(t)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(t){this.setOption("displayIndentGuides",t)},this.setShowPrintMargin=function(t){this.setOption("showPrintMargin",t)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(t){this.setOption("printMarginColumn",t)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(t){return this.setOption("showGutter",t)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(t){this.setOption("fadeFoldWidgets",t)},this.setHighlightGutterLine=function(t){this.setOption("highlightGutterLine",t)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updateGutterLineHighlight=function(){var t=this.$cursorLayer.$pixelPos,e=this.layerConfig.lineHeight;if(this.session.getUseWrapMode()){var r=this.session.selection.getCursor();r.column=0,t=this.$cursorLayer.getPixelPosition(r,!0),e*=this.session.getRowLength(r.row)}this.$gutterLineHighlight.style.top=t.top-this.layerConfig.offset+"px",this.$gutterLineHighlight.style.height=e+"px"},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var t=i.createElement("div");t.className="ace_layer ace_print-margin-layer",this.$printMarginEl=i.createElement("div"),this.$printMarginEl.className="ace_print-margin",t.appendChild(this.$printMarginEl),this.content.insertBefore(t,this.content.firstChild)}var e=this.$printMarginEl.style;e.left=this.characterWidth*this.$printMarginColumn+this.$padding+"px",e.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(this.$keepTextAreaAtCursor){var t=this.layerConfig,e=this.$cursorLayer.$pixelPos.top,r=this.$cursorLayer.$pixelPos.left;e-=t.offset;var n=this.textarea.style,i=this.lineHeight;if(e<0||e>t.height-i)n.top=n.left="0";else{var o=this.characterWidth;if(this.$composition){var s=this.textarea.value.replace(/^\x01+/,"");o*=this.session.$getStringScreenWidth(s)[0]+2,i+=2}(r-=this.scrollLeft)>this.$size.scrollerWidth-o&&(r=this.$size.scrollerWidth-o),r+=this.gutterWidth,n.height=i+"px",n.width=o+"px",n.left=Math.min(r,this.$size.scrollerWidth-o)+"px",n.top=Math.min(e,this.$size.height-i)+"px"}}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var t=this.layerConfig,e=t.lastRow;return this.session.documentToScreenRow(e,0)*t.lineHeight-this.session.getScrollTop()>t.height-t.lineHeight?e-1:e},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(t){this.$padding=t,this.$textLayer.setPadding(t),this.$cursorLayer.setPadding(t),this.$markerFront.setPadding(t),this.$markerBack.setPadding(t),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(t,e,r,n){var i=this.scrollMargin;i.top=0|t,i.bottom=0|e,i.right=0|n,i.left=0|r,i.v=i.top+i.bottom,i.h=i.left+i.right,i.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-i.top),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(t){this.setOption("hScrollBarAlwaysVisible",t)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(t){this.setOption("vScrollBarAlwaysVisible",t)},this.$updateScrollBarV=function(){var t=this.layerConfig.maxHeight,e=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(t-=(e-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>t-e&&(t=this.scrollTop+e,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(t+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(t,e){if(this.$changes&&(t|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(t||e)){if(this.$size.$dirty)return this.$changes|=t,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender"),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var r=this.layerConfig;if(t&this.CHANGE_FULL||t&this.CHANGE_SIZE||t&this.CHANGE_TEXT||t&this.CHANGE_LINES||t&this.CHANGE_SCROLL||t&this.CHANGE_H_SCROLL){if(t|=this.$computeLayerConfig(),r.firstRow!=this.layerConfig.firstRow&&r.firstRowScreen==this.layerConfig.firstRowScreen){var n=this.scrollTop+(r.firstRow-this.layerConfig.firstRow)*this.lineHeight;n>0&&(this.scrollTop=n,t|=this.CHANGE_SCROLL,t|=this.$computeLayerConfig())}r=this.layerConfig,this.$updateScrollBarV(),t&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),this.$gutterLayer.element.style.marginTop=-r.offset+"px",this.content.style.marginTop=-r.offset+"px",this.content.style.width=r.width+2*this.$padding+"px",this.content.style.height=r.minHeight+"px"}if(t&this.CHANGE_H_SCROLL&&(this.content.style.marginLeft=-this.scrollLeft+"px",this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),t&this.CHANGE_FULL)return this.$textLayer.update(r),this.$showGutter&&this.$gutterLayer.update(r),this.$markerBack.update(r),this.$markerFront.update(r),this.$cursorLayer.update(r),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),void this._signal("afterRender");if(t&this.CHANGE_SCROLL)return t&this.CHANGE_TEXT||t&this.CHANGE_LINES?this.$textLayer.update(r):this.$textLayer.scrollLines(r),this.$showGutter&&this.$gutterLayer.update(r),this.$markerBack.update(r),this.$markerFront.update(r),this.$cursorLayer.update(r),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),this.$moveTextAreaToCursor(),void this._signal("afterRender");t&this.CHANGE_TEXT?(this.$textLayer.update(r),this.$showGutter&&this.$gutterLayer.update(r)):t&this.CHANGE_LINES?(this.$updateLines()||t&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(r):(t&this.CHANGE_TEXT||t&this.CHANGE_GUTTER)&&this.$showGutter&&this.$gutterLayer.update(r),t&this.CHANGE_CURSOR&&(this.$cursorLayer.update(r),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()),t&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(r),t&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(r),this._signal("afterRender")}else this.$changes|=t},this.$autosize=function(){var t=this.session.getScreenLength()*this.lineHeight,e=this.$maxLines*this.lineHeight,r=Math.min(e,Math.max((this.$minLines||1)*this.lineHeight,t))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(r+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&r>this.$maxPixelHeight&&(r=this.$maxPixelHeight);var n=t>e;if(r!=this.desiredHeight||this.$size.height!=this.desiredHeight||n!=this.$vScroll){n!=this.$vScroll&&(this.$vScroll=n,this.scrollBarV.setVisible(n));var i=this.container.clientWidth;this.container.style.height=r+"px",this.$updateCachedSize(!0,this.$gutterWidth,i,r),this.desiredHeight=r,this._signal("autosize")}},this.$computeLayerConfig=function(){var t=this.session,e=this.$size,r=e.height<=2*this.lineHeight,n=this.session.getScreenLength()*this.lineHeight,i=this.$getLongestLine(),o=!r&&(this.$hScrollBarAlwaysVisible||e.scrollerWidth-i-2*this.$padding<0),s=this.$horizScroll!==o;s&&(this.$horizScroll=o,this.scrollBarH.setVisible(o));var a=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var l=this.scrollTop%this.lineHeight,c=e.scrollerHeight+this.lineHeight,u=!this.$maxLines&&this.$scrollPastEnd?(e.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;n+=u;var h=this.scrollMargin;this.session.setScrollTop(Math.max(-h.top,Math.min(this.scrollTop,n-e.scrollerHeight+h.bottom))),this.session.setScrollLeft(Math.max(-h.left,Math.min(this.scrollLeft,i+2*this.$padding-e.scrollerWidth+h.right)));var d=!r&&(this.$vScrollBarAlwaysVisible||e.scrollerHeight-n+u<0||this.scrollTop>h.top),f=a!==d;f&&(this.$vScroll=d,this.scrollBarV.setVisible(d));var p,m,g=Math.ceil(c/this.lineHeight)-1,y=Math.max(0,Math.round((this.scrollTop-l)/this.lineHeight)),v=y+g,b=this.lineHeight;y=t.screenToDocumentRow(y,0);var A=t.getFoldLine(y);A&&(y=A.start.row),p=t.documentToScreenRow(y,0),m=t.getRowLength(y)*b,v=Math.min(t.screenToDocumentRow(v,0),t.getLength()-1),c=e.scrollerHeight+t.getRowLength(v)*b+m,l=this.scrollTop-p*b;var C=0;return this.layerConfig.width!=i&&(C=this.CHANGE_H_SCROLL),(s||f)&&(C=this.$updateCachedSize(!0,this.gutterWidth,e.width,e.height),this._signal("scrollbarVisibilityChanged"),f&&(i=this.$getLongestLine())),this.layerConfig={width:i,padding:this.$padding,firstRow:y,firstRowScreen:p,lastRow:v,lineHeight:b,characterWidth:this.characterWidth,minHeight:c,maxHeight:n,offset:l,gutterOffset:b?Math.max(0,Math.ceil((l+e.height-e.scrollerHeight)/b)):0,height:this.$size.scrollerHeight},C},this.$updateLines=function(){if(this.$changedLines){var t=this.$changedLines.firstRow,e=this.$changedLines.lastRow;this.$changedLines=null;var r=this.layerConfig;if(!(t>r.lastRow+1||e<r.firstRow))return e===1/0?(this.$showGutter&&this.$gutterLayer.update(r),void this.$textLayer.update(r)):(this.$textLayer.updateLines(r,t,e),!0)}},this.$getLongestLine=function(){var t=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(t+=1),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(t*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(t,e){this.$gutterLayer.addGutterDecoration(t,e)},this.removeGutterDecoration=function(t,e){this.$gutterLayer.removeGutterDecoration(t,e)},this.updateBreakpoints=function(t){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(t){this.$gutterLayer.setAnnotations(t),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(t,e,r){this.scrollCursorIntoView(t,r),this.scrollCursorIntoView(e,r)},this.scrollCursorIntoView=function(t,e,r){if(0!==this.$size.scrollerHeight){var n=this.$cursorLayer.getPixelPosition(t),i=n.left,o=n.top,s=r&&r.top||0,a=r&&r.bottom||0,l=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;l+s>o?(e&&l+s>o+this.lineHeight&&(o-=e*this.$size.scrollerHeight),0===o&&(o=-this.scrollMargin.top),this.session.setScrollTop(o)):l+this.$size.scrollerHeight-a<o+this.lineHeight&&(e&&l+this.$size.scrollerHeight-a<o-this.lineHeight&&(o+=e*this.$size.scrollerHeight),this.session.setScrollTop(o+this.lineHeight-this.$size.scrollerHeight));var c=this.scrollLeft;c>i?(i<this.$padding+2*this.layerConfig.characterWidth&&(i=-this.scrollMargin.left),this.session.setScrollLeft(i)):c+this.$size.scrollerWidth<i+this.characterWidth?this.session.setScrollLeft(Math.round(i+this.characterWidth-this.$size.scrollerWidth)):c<=this.$padding&&i-c<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(t){this.session.setScrollTop(t*this.lineHeight)},this.alignCursor=function(t,e){"number"==typeof t&&(t={row:t,column:0});var r=this.$cursorLayer.getPixelPosition(t),n=this.$size.scrollerHeight-this.lineHeight,i=r.top-n*(e||0);return this.session.setScrollTop(i),i},this.STEPS=8,this.$calcSteps=function(t,e){var r,n,i=0,o=this.STEPS,s=[];for(i=0;i<o;++i)s.push((r=i/this.STEPS,n=t,(e-t)*(Math.pow(r-1,3)+1)+n));return s},this.scrollToLine=function(t,e,r,n){var i=this.$cursorLayer.getPixelPosition({row:t,column:0}).top;e&&(i-=this.$size.scrollerHeight/2);var o=this.scrollTop;this.session.setScrollTop(i),!1!==r&&this.animateScrolling(o,n)},this.animateScrolling=function(t,e){var r=this.scrollTop;if(this.$animatedScroll){var n=this;if(t!=r){if(this.$scrollAnimation){var i=this.$scrollAnimation.steps;if(i.length&&(t=i[0])==r)return}var o=n.$calcSteps(t,r);this.$scrollAnimation={from:t,to:r,steps:o},clearInterval(this.$timer),n.session.setScrollTop(o.shift()),n.session.$scrollTop=r,this.$timer=setInterval((function(){o.length?(n.session.setScrollTop(o.shift()),n.session.$scrollTop=r):null!=r?(n.session.$scrollTop=-1,n.session.setScrollTop(r),r=null):(n.$timer=clearInterval(n.$timer),n.$scrollAnimation=null,e&&e())}),10)}}},this.scrollToY=function(t){this.scrollTop!==t&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=t)},this.scrollToX=function(t){this.scrollLeft!==t&&(this.scrollLeft=t),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(t,e){this.session.setScrollTop(e),this.session.setScrollLeft(e)},this.scrollBy=function(t,e){e&&this.session.setScrollTop(this.session.getScrollTop()+e),t&&this.session.setScrollLeft(this.session.getScrollLeft()+t)},this.isScrollableBy=function(t,e){return e<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||(e>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||(t<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||(t>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0)))},this.pixelToScreenCoordinates=function(t,e){var r=this.scroller.getBoundingClientRect(),n=t+this.scrollLeft-r.left-this.$padding,i=n/this.characterWidth,o=Math.floor((e+this.scrollTop-r.top)/this.lineHeight),s=Math.round(i);return{row:o,column:s,side:i-s>0?1:-1,offsetX:n}},this.screenToTextCoordinates=function(t,e){var r=this.scroller.getBoundingClientRect(),n=t+this.scrollLeft-r.left-this.$padding,i=Math.round(n/this.characterWidth),o=(e+this.scrollTop-r.top)/this.lineHeight;return this.session.screenToDocumentPosition(o,Math.max(i,0),n)},this.textToScreenCoordinates=function(t,e){var r=this.scroller.getBoundingClientRect(),n=this.session.documentToScreenPosition(t,e),i=this.$padding+(this.session.$bidiHandler.isBidiRow(n.row,t)?this.session.$bidiHandler.getPosLeft(n.column):Math.round(n.column*this.characterWidth)),o=n.row*this.lineHeight;return{pageX:r.left+i-this.scrollLeft,pageY:r.top+o-this.scrollTop}},this.visualizeFocus=function(){i.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){i.removeCssClass(this.container,"ace_focus")},this.showComposition=function(t){this.$composition||(this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText}),this.$keepTextAreaAtCursor=!0,i.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor()},this.setCompositionText=function(t){this.$moveTextAreaToCursor()},this.hideComposition=function(){this.$composition&&(i.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null)},this.setTheme=function(t,e){var r=this;if(this.$themeId=t,r._dispatchEvent("themeChange",{theme:t}),t&&"string"!=typeof t)s(t);else{var n=t||this.$options.theme.initialValue;o.loadModule(["theme",n],s)}function s(n){if(r.$themeId!=t)return e&&e();if(!n||!n.cssClass)throw new Error("couldn't load module "+t+" or it didn't call define");i.importCssString(n.cssText,n.cssClass,r.container.ownerDocument),r.theme&&i.removeCssClass(r.container,r.theme.cssClass);var o="padding"in n?n.padding:"padding"in(r.theme||{})?4:r.$padding;r.$padding&&o!=r.$padding&&r.setPadding(o),r.$theme=n.cssClass,r.theme=n,i.addCssClass(r.container,n.cssClass),i.setCssClass(r.container,"ace_dark",n.isDark),r.$size&&(r.$size.width=0,r.$updateSizeAsync()),r._dispatchEvent("themeLoaded",{theme:n}),e&&e()}},this.getTheme=function(){return this.$themeId},this.setStyle=function(t,e){i.setCssClass(this.container,t,!1!==e)},this.unsetStyle=function(t){i.removeCssClass(this.container,t)},this.setCursorStyle=function(t){this.scroller.style.cursor!=t&&(this.scroller.style.cursor=t)},this.setMouseCursor=function(t){this.scroller.style.cursor=t},this.destroy=function(){this.$textLayer.destroy(),this.$cursorLayer.destroy()}}).call(g.prototype),o.defineOptions(g.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(t){this.$textLayer.setShowInvisibles(t)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(t){"number"==typeof t&&(this.$printMarginColumn=t),this.$showPrintMargin=!!t,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(t){this.$gutter.style.display=t?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(t){i.setCssClass(this.$gutter,"ace_fade-fold-widgets",t)},initialValue:!1},showFoldWidgets:{set:function(t){this.$gutterLayer.setShowFoldWidgets(t)},initialValue:!0},showLineNumbers:{set:function(t){this.$gutterLayer.setShowLineNumbers(t),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(t){this.$textLayer.setDisplayIndentGuides(t)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(t){if(!this.$gutterLineHighlight)return this.$gutterLineHighlight=i.createElement("div"),this.$gutterLineHighlight.className="ace_gutter-active-line",void this.$gutter.appendChild(this.$gutterLineHighlight);this.$gutterLineHighlight.style.display=t?"":"none",this.$cursorLayer.$pixelPos&&this.$updateGutterLineHighlight()},initialValue:!1,value:!0},hScrollBarAlwaysVisible:{set:function(t){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(t){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(t){"number"==typeof t&&(t+="px"),this.container.style.fontSize=t,this.updateFontSize()},initialValue:12},fontFamily:{set:function(t){this.container.style.fontFamily=t,this.updateFontSize()}},maxLines:{set:function(t){this.updateFull()}},minLines:{set:function(t){this.updateFull()}},maxPixelHeight:{set:function(t){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(t){t=+t||0,this.$scrollPastEnd!=t&&(this.$scrollPastEnd=t,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(t){this.$gutterLayer.$fixedWidth=!!t,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(t){this.setTheme(t)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0}}),e.VirtualRenderer=g})),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],(function(t,e,r){var n=t("../lib/oop"),i=t("../lib/net"),o=t("../lib/event_emitter").EventEmitter,s=t("../config");function a(t,e){var r=function(t,e){var r=e.src;i.qualifyURL(t);try{return new Blob([r],{type:"application/javascript"})}catch(t){var n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return n.append(r),n.getBlob("application/javascript")}}(t,e),n=(window.URL||window.webkitURL).createObjectURL(r);return new Worker(n)}var l=function(e,r,n,i,o){if(this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),t.nameToUrl&&!t.toUrl&&(t.toUrl=t.nameToUrl),s.get("packaged")||!t.toUrl)i=i||s.moduleUrl(r.id,"worker");else{var l=this.$normalizePath;i=i||l(t.toUrl("ace/worker/worker.js",null,"_"));var c={};e.forEach((function(e){c[e]=l(t.toUrl(e,null,"_").replace(/(\.js)?(\?.*)?$/,""))}))}this.$worker=a(i,r),o&&this.send("importScripts",o),this.$worker.postMessage({init:!0,tlns:c,module:r.id,classname:n}),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){n.implement(this,o),this.onMessage=function(t){var e=t.data;switch(e.type){case"event":this._signal(e.name,{data:e.data});break;case"call":var r=this.callbacks[e.id];r&&(r(e.data),delete this.callbacks[e.id]);break;case"error":this.reportError(e.data);break;case"log":window.console&&console.log&&console.log.apply(console,e.data)}},this.reportError=function(t){window.console&&console.error&&console.error(t)},this.$normalizePath=function(t){return i.qualifyURL(t)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(t,e){this.$worker.postMessage({command:t,args:e})},this.call=function(t,e,r){if(r){var n=this.callbackId++;this.callbacks[n]=r,e.push(n)}this.send(t,e)},this.emit=function(t,e){try{this.$worker.postMessage({event:t,data:{data:e.data}})}catch(t){console.error(t.stack)}},this.attachToDocument=function(t){this.$doc&&this.terminate(),this.$doc=t,this.call("setValue",[t.getValue()]),t.on("change",this.changeListener)},this.changeListener=function(t){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),"insert"==t.action?this.deltaQueue.push(t.start,t.lines):this.deltaQueue.push(t.start,t.end)},this.$sendDeltaQueue=function(){var t=this.deltaQueue;t&&(this.deltaQueue=null,t.length>50&&t.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:t}))}}).call(l.prototype);var c=function(t,e,r){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.callbackId=1,this.callbacks={},this.messageBuffer=[];var n=null,i=!1,a=Object.create(o),l=this;this.$worker={},this.$worker.terminate=function(){},this.$worker.postMessage=function(t){l.messageBuffer.push(t),n&&(i?setTimeout(c):c())},this.setEmitSync=function(t){i=t};var c=function(){var t=l.messageBuffer.shift();t.command?n[t.command].apply(n,t.args):t.event&&a._signal(t.event,t.data)};a.postMessage=function(t){l.onMessage({data:t})},a.callback=function(t,e){this.postMessage({type:"call",id:e,data:t})},a.emit=function(t,e){this.postMessage({type:"event",name:t,data:e})},s.loadModule(["worker",e],(function(t){for(n=new t[r](a);l.messageBuffer.length;)c()}))};c.prototype=l.prototype,e.UIWorkerClient=c,e.WorkerClient=l,e.createWorker=a})),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],(function(t,e,r){var n=t("./range").Range,i=t("./lib/event_emitter").EventEmitter,o=t("./lib/oop"),s=function(t,e,r,n,i,o){var s=this;this.length=e,this.session=t,this.doc=t.getDocument(),this.mainClass=i,this.othersClass=o,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=n,this.$onCursorChange=function(){setTimeout((function(){s.onCursorChange()}))},this.$pos=r;var a=t.getUndoManager().$undoStack||t.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=a.length,this.setup(),t.selection.on("changeCursor",this.$onCursorChange)};(function(){o.implement(this,i),this.setup=function(){var t=this,e=this.doc,r=this.session;this.selectionBefore=r.selection.toJSON(),r.selection.inMultiSelectMode&&r.selection.toSingleRange(),this.pos=e.createAnchor(this.$pos.row,this.$pos.column);var i=this.pos;i.$insertRight=!0,i.detach(),i.markerId=r.addMarker(new n(i.row,i.column,i.row,i.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach((function(r){var n=e.createAnchor(r.row,r.column);n.$insertRight=!0,n.detach(),t.others.push(n)})),r.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var t=this.session,e=this;this.othersActive=!0,this.others.forEach((function(r){r.markerId=t.addMarker(new n(r.row,r.column,r.row,r.column+e.length),e.othersClass,null,!1)}))}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var t=0;t<this.others.length;t++)this.session.removeMarker(this.others[t].markerId)}},this.onUpdate=function(t){if(this.$updating)return this.updateAnchors(t);var e=t;if(e.start.row===e.end.row&&e.start.row===this.pos.row){this.$updating=!0;var r="insert"===t.action?e.end.column-e.start.column:e.start.column-e.end.column,i=e.start.column>=this.pos.column&&e.start.column<=this.pos.column+this.length+1,o=e.start.column-this.pos.column;if(this.updateAnchors(t),i&&(this.length+=r),i&&!this.session.$fromUndo)if("insert"===t.action)for(var s=this.others.length-1;s>=0;s--){var a={row:(l=this.others[s]).row,column:l.column+o};this.doc.insertMergedLines(a,t.lines)}else if("remove"===t.action)for(s=this.others.length-1;s>=0;s--){var l;a={row:(l=this.others[s]).row,column:l.column+o};this.doc.remove(new n(a.row,a.column,a.row,a.column-r))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(t){this.pos.onChange(t);for(var e=this.others.length;e--;)this.others[e].onChange(t);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var t=this,e=this.session,r=function(r,i){e.removeMarker(r.markerId),r.markerId=e.addMarker(new n(r.row,r.column,r.row,r.column+t.length),i,null,!1)};r(this.pos,this.mainClass);for(var i=this.others.length;i--;)r(this.others[i],this.othersClass)}},this.onCursorChange=function(t){if(!this.$updating&&this.session){var e=this.session.selection.getCursor();e.row===this.pos.row&&e.column>=this.pos.column&&e.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",t)):(this.hideOtherMarkers(),this._emit("cursorLeave",t))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.removeEventListener("change",this.$onUpdate),this.session.selection.removeEventListener("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var t=this.session.getUndoManager(),e=(t.$undoStack||t.$undostack).length-this.$undoStackDepth,r=0;r<e;r++)t.undo(!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(s.prototype),e.PlaceHolder=s})),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(t,e,r){var n=t("../lib/event"),i=t("../lib/useragent");function o(t,e){return t.row==e.row&&t.column==e.column}e.onMouseDown=function(t){var e=t.domEvent,r=e.altKey,s=e.shiftKey,a=e.ctrlKey,l=t.getAccelKey(),c=t.getButton();if(a&&i.isMac&&(c=e.button),t.editor.inMultiSelectMode&&2==c)t.editor.textInput.onContextMenu(t.domEvent);else if(a||r||l){if(0===c){var u,h=t.editor,d=h.selection,f=h.inMultiSelectMode,p=t.getDocumentPosition(),m=d.getCursor(),g=t.inSelection()||d.isEmpty()&&o(p,m),y=t.x,v=t.y,b=h.session,A=h.renderer.pixelToScreenCoordinates(y,v),C=A;if(h.$mouseHandler.$enableJumpToDef)a&&r||l&&r?u=s?"block":"add":r&&h.$blockSelectEnabled&&(u="block");else if(l&&!r){if(u="add",!f&&s)return}else r&&h.$blockSelectEnabled&&(u="block");if(u&&i.isMac&&e.ctrlKey&&h.$mouseHandler.cancelContextMenu(),"add"==u){if(!f&&g)return;if(!f){var w=d.toOrientedRange();h.addSelectionMarker(w)}var x=d.rangeList.rangeAtPoint(p);h.$blockScrolling++,h.inVirtualSelectionMode=!0,s&&(x=null,w=d.ranges[0]||w,h.removeSelectionMarker(w)),h.once("mouseup",(function(){var t=d.toOrientedRange();x&&t.isEmpty()&&o(x.cursor,t.cursor)?d.substractPoint(t.cursor):(s?d.substractPoint(w.cursor):w&&(h.removeSelectionMarker(w),d.addRange(w)),d.addRange(t)),h.$blockScrolling--,h.inVirtualSelectionMode=!1}))}else if("block"==u){var E;t.stop(),h.inVirtualSelectionMode=!0;var S=[];h.$blockScrolling++,f&&!l?d.toSingleRange():!f&&l&&(E=d.toOrientedRange(),h.addSelectionMarker(E)),s?A=b.documentToScreenPosition(d.lead):d.moveToPosition(p),h.$blockScrolling--,C={row:-1,column:-1};var M=function(){var t=h.renderer.pixelToScreenCoordinates(y,v),e=b.screenToDocumentPosition(t.row,t.column,t.offsetX);o(C,t)&&o(e,d.lead)||(C=t,h.$blockScrolling++,h.selection.moveToPosition(e),h.renderer.scrollCursorIntoView(),h.removeSelectionMarkers(S),S=d.rectangularRangeBlock(C,A),h.$mouseHandler.$clickSelection&&1==S.length&&S[0].isEmpty()&&(S[0]=h.$mouseHandler.$clickSelection.clone()),S.forEach(h.addSelectionMarker,h),h.updateSelectionMarkers(),h.$blockScrolling--)};n.capture(h.container,(function(t){y=t.clientX,v=t.clientY}),(function(t){clearInterval(O),h.removeSelectionMarkers(S),S.length||(S=[d.toOrientedRange()]),h.$blockScrolling++,E&&(h.removeSelectionMarker(E),d.toSingleRange(E));for(var e=0;e<S.length;e++)d.addRange(S[e]);h.inVirtualSelectionMode=!1,h.$mouseHandler.$clickSelection=null,h.$blockScrolling--}));var O=setInterval((function(){M()}),20);return t.preventDefault()}}}else 0===c&&t.editor.inMultiSelectMode&&t.editor.exitMultiSelectMode()}})),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],(function(t,e,r){e.defaultCommands=[{name:"addCursorAbove",exec:function(t){t.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",exec:function(t){t.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",exec:function(t){t.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",exec:function(t){t.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",exec:function(t){t.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",exec:function(t){t.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",exec:function(t){t.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",exec:function(t){t.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"splitIntoLines",exec:function(t){t.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"alignCursors",exec:function(t){t.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",exec:function(t){t.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],e.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(t){t.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(t){return t&&t.inMultiSelectMode}}];var n=t("../keyboard/hash_handler").HashHandler;e.keyboardHandler=new n(e.multiSelectCommands)})),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],(function(t,e,r){var n=t("./range_list").RangeList,i=t("./range").Range,o=t("./selection").Selection,s=t("./mouse/multi_select_handler").onMouseDown,a=t("./lib/event"),l=t("./lib/lang"),c=t("./commands/multi_select_commands");e.commands=c.defaultCommands.concat(c.multiSelectCommands);var u=new(0,t("./search").Search);var h=t("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(h.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(t,e){if(t){if(!this.inMultiSelectMode&&0===this.rangeCount){var r=this.toOrientedRange();if(this.rangeList.add(r),this.rangeList.add(t),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),e||this.fromOrientedRange(t);this.rangeList.removeAll(),this.rangeList.add(r),this.$onAddRange(r)}t.cursor||(t.cursor=t.end);var n=this.rangeList.add(t);return this.$onAddRange(t),n.length&&this.$onRemoveRange(n),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),e||this.fromOrientedRange(t)}},this.toSingleRange=function(t){t=t||this.ranges[0];var e=this.rangeList.removeAll();e.length&&this.$onRemoveRange(e),t&&this.fromOrientedRange(t)},this.substractPoint=function(t){var e=this.rangeList.substractPoint(t);if(e)return this.$onRemoveRange(e),e[0]},this.mergeOverlappingRanges=function(){var t=this.rangeList.merge();t.length?this.$onRemoveRange(t):this.ranges[0]&&this.fromOrientedRange(this.ranges[0])},this.$onAddRange=function(t){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(t),this._signal("addRange",{range:t})},this.$onRemoveRange=function(t){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var e=this.rangeList.ranges.pop();t.push(e),this.rangeCount=0}for(var r=t.length;r--;){var n=this.ranges.indexOf(t[r]);this.ranges.splice(n,1)}this._signal("removeRange",{ranges:t}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(e=e||this.ranges[0])&&!e.isEqual(this.getRange())&&this.fromOrientedRange(e)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new n,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){if(this.rangeCount>1){var t=this.rangeList.ranges,e=t[t.length-1],r=i.fromPoints(t[0].start,e.end);this.toSingleRange(),this.setSelectionRange(r,e.cursor==e.start)}else{r=this.getRange();var n=this.isBackwards(),o=r.start.row,s=r.end.row;if(o==s){if(n)var a=r.end,l=r.start;else a=r.start,l=r.end;return this.addRange(i.fromPoints(l,l)),void this.addRange(i.fromPoints(a,a))}var c=[],u=this.getLineRange(o,!0);u.start.column=r.start.column,c.push(u);for(var h=o+1;h<s;h++)c.push(this.getLineRange(h,!0));(u=this.getLineRange(s,!0)).end.column=r.end.column,c.push(u),c.forEach(this.addRange,this)}},this.toggleBlockSelection=function(){if(this.rangeCount>1){var t=this.rangeList.ranges,e=t[t.length-1],r=i.fromPoints(t[0].start,e.end);this.toSingleRange(),this.setSelectionRange(r,e.cursor==e.start)}else{var n=this.session.documentToScreenPosition(this.selectionLead),o=this.session.documentToScreenPosition(this.selectionAnchor);this.rectangularRangeBlock(n,o).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(t,e,r){var n=[],o=t.column<e.column;if(o)var s=t.column,a=e.column,l=t.offsetX,c=e.offsetX;else s=e.column,a=t.column,l=e.offsetX,c=t.offsetX;var u,h,d=t.row<e.row;if(d)var f=t.row,p=e.row;else f=e.row,p=t.row;s<0&&(s=0),f<0&&(f=0),f==p&&(r=!0);for(var m=f;m<=p;m++){var g=i.fromPoints(this.session.screenToDocumentPosition(m,s,l),this.session.screenToDocumentPosition(m,a,c));if(g.isEmpty()){if(y&&(u=g.end,h=y,u.row==h.row&&u.column==h.column))break;var y=g.end}g.cursor=o?g.start:g.end,n.push(g)}if(d&&n.reverse(),!r){for(var v=n.length-1;n[v].isEmpty()&&v>0;)v--;if(v>0)for(var b=0;n[b].isEmpty();)b++;for(var A=v;A>=b;A--)n[A].isEmpty()&&n.splice(A,1)}return n}}.call(o.prototype);var d=t("./editor").Editor;function f(t){t.$multiselectOnSessionChange||(t.$onAddRange=t.$onAddRange.bind(t),t.$onRemoveRange=t.$onRemoveRange.bind(t),t.$onMultiSelect=t.$onMultiSelect.bind(t),t.$onSingleSelect=t.$onSingleSelect.bind(t),t.$multiselectOnSessionChange=e.onSessionChange.bind(t),t.$checkMultiselectChange=t.$checkMultiselectChange.bind(t),t.$multiselectOnSessionChange(t),t.on("changeSession",t.$multiselectOnSessionChange),t.on("mousedown",s),t.commands.addCommands(c.defaultCommands),function(t){var e=t.textInput.getElement(),r=!1;function n(e){r&&(t.renderer.setMouseCursor(""),r=!1)}a.addListener(e,"keydown",(function(e){var i=18==e.keyCode&&!(e.ctrlKey||e.shiftKey||e.metaKey);t.$blockSelectEnabled&&i?r||(t.renderer.setMouseCursor("crosshair"),r=!0):r&&n()})),a.addListener(e,"keyup",n),a.addListener(e,"blur",n)}(t))}(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(t){t.cursor||(t.cursor=t.end);var e=this.getSelectionStyle();return t.marker=this.session.addMarker(t,"ace_selection",e),this.session.$selectionMarkers.push(t),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,t},this.removeSelectionMarker=function(t){if(t.marker){this.session.removeMarker(t.marker);var e=this.session.$selectionMarkers.indexOf(t);-1!=e&&this.session.$selectionMarkers.splice(e,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(t){for(var e=this.session.$selectionMarkers,r=t.length;r--;){var n=t[r];if(n.marker){this.session.removeMarker(n.marker);var i=e.indexOf(n);-1!=i&&e.splice(i,1)}}this.session.selectionMarkerCount=e.length},this.$onAddRange=function(t){this.addSelectionMarker(t.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(t){this.removeSelectionMarkers(t.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(t){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(c.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(t){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(c.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(t){var e=t.command,r=t.editor;if(r.multiSelect){if(e.multiSelectAction)"forEach"==e.multiSelectAction?n=r.forEachSelection(e,t.args):"forEachLine"==e.multiSelectAction?n=r.forEachSelection(e,t.args,!0):"single"==e.multiSelectAction?(r.exitMultiSelectMode(),n=e.exec(r,t.args||{})):n=e.multiSelectAction(r,t.args||{});else{var n=e.exec(r,t.args||{});r.multiSelect.addRange(r.multiSelect.toOrientedRange()),r.multiSelect.mergeOverlappingRanges()}return n}},this.forEachSelection=function(t,e,r){if(!this.inVirtualSelectionMode){var n,i=r&&r.keepOrder,s=1==r||r&&r.$byLines,a=this.session,l=this.selection,c=l.rangeList,u=(i?l:c).ranges;if(!u.length)return t.exec?t.exec(this,e||{}):t(this,e||{});var h=l._eventRegistry;l._eventRegistry={};var d=new o(a);this.inVirtualSelectionMode=!0;for(var f=u.length;f--;){if(s)for(;f>0&&u[f].start.row==u[f-1].end.row;)f--;d.fromOrientedRange(u[f]),d.index=f,this.selection=a.selection=d;var p=t.exec?t.exec(this,e||{}):t(this,e||{});n||void 0===p||(n=p),d.toOrientedRange(u[f])}d.detach(),this.selection=a.selection=l,this.inVirtualSelectionMode=!1,l._eventRegistry=h,l.mergeOverlappingRanges();var m=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),m&&m.from==m.to&&this.renderer.animateScrolling(m.from),n}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var t="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var e=this.multiSelect.rangeList.ranges,r=[],n=0;n<e.length;n++)r.push(this.session.getTextRange(e[n]));var i=this.session.getDocument().getNewLineCharacter();(t=r.join(i)).length==(r.length-1)*i.length&&(t="")}else this.selection.isEmpty()||(t=this.session.getTextRange(this.getSelectionRange()));return t},this.$checkMultiselectChange=function(t,e){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var r=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&e==this.multiSelect.anchor)return;var n=e==this.multiSelect.anchor?r.cursor==r.start?r.end:r.start:r.cursor;n.row==e.row&&this.session.$clipPositionToDocument(n.row,n.column).column==e.column||this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange())}},this.findAll=function(t,e,r){if((e=e||{}).needle=t||e.needle,null==e.needle){var n=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();e.needle=this.session.getTextRange(n)}this.$search.set(e);var i=this.$search.findAll(this.session);if(!i.length)return 0;this.$blockScrolling+=1;var o=this.multiSelect;r||o.toSingleRange(i[0]);for(var s=i.length;s--;)o.addRange(i[s],!0);return n&&o.rangeList.rangeAtPoint(n.start)&&o.addRange(n,!0),this.$blockScrolling-=1,i.length},this.selectMoreLines=function(t,e){var r=this.selection.toOrientedRange(),n=r.cursor==r.end,o=this.session.documentToScreenPosition(r.cursor);this.selection.$desiredColumn&&(o.column=this.selection.$desiredColumn);var s,a=this.session.screenToDocumentPosition(o.row+t,o.column);if(r.isEmpty())c=a;else var l=this.session.documentToScreenPosition(n?r.end:r.start),c=this.session.screenToDocumentPosition(l.row+t,l.column);n?(s=i.fromPoints(a,c)).cursor=s.start:(s=i.fromPoints(c,a)).cursor=s.end;if(s.desiredColumn=o.column,this.selection.inMultiSelectMode){if(e)var u=r.cursor}else this.selection.addRange(r);this.selection.addRange(s),u&&this.selection.substractPoint(u)},this.transposeSelections=function(t){for(var e=this.session,r=e.multiSelect,n=r.ranges,i=n.length;i--;){if((a=n[i]).isEmpty()){var o=e.getWordRange(a.start.row,a.start.column);a.start.row=o.start.row,a.start.column=o.start.column,a.end.row=o.end.row,a.end.column=o.end.column}}r.mergeOverlappingRanges();var s=[];for(i=n.length;i--;){var a=n[i];s.unshift(e.getTextRange(a))}t<0?s.unshift(s.pop()):s.push(s.shift());for(i=n.length;i--;){o=(a=n[i]).clone();e.replace(a,s[i]),a.start.row=o.start.row,a.start.column=o.start.column}},this.selectMore=function(t,e,r){var n=this.session,i=n.multiSelect.toOrientedRange();if(!i.isEmpty()||((i=n.getWordRange(i.start.row,i.start.column)).cursor=-1==t?i.start:i.end,this.multiSelect.addRange(i),!r)){var o=n.getTextRange(i),s=function(t,e,r){return u.$options.wrap=!0,u.$options.needle=e,u.$options.backwards=-1==r,u.find(t)}(n,o,t);s&&(s.cursor=-1==t?s.start:s.end,this.$blockScrolling+=1,this.session.unfold(s),this.multiSelect.addRange(s),this.$blockScrolling-=1,this.renderer.scrollCursorIntoView(null,.5)),e&&this.multiSelect.substractPoint(i.cursor)}},this.alignCursors=function(){var t=this.session,e=t.multiSelect,r=e.ranges,n=-1,o=r.filter((function(t){if(t.cursor.row==n)return!0;n=t.cursor.row}));if(r.length&&o.length!=r.length-1){o.forEach((function(t){e.substractPoint(t.cursor)}));var s=0,a=1/0,c=r.map((function(e){var r=e.cursor,n=t.getLine(r.row).substr(r.column).search(/\S/g);return-1==n&&(n=0),r.column>s&&(s=r.column),n<a&&(a=n),n}));r.forEach((function(e,r){var n=e.cursor,o=s-n.column,u=c[r]-a;o>u?t.insert(n,l.stringRepeat(" ",o-u)):t.remove(new i(n.row,n.column,n.row,n.column-o+u)),e.start.column=e.end.column=s,e.start.row=e.end.row=n.row,e.cursor=e.end})),e.fromOrientedRange(r[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var u=this.selection.getRange(),h=u.start.row,d=u.end.row,f=h==d;if(f){var p,m=this.session.getLength();do{p=this.session.getLine(d)}while(/[=:]/.test(p)&&++d<m);do{p=this.session.getLine(h)}while(/[=:]/.test(p)&&--h>0);h<0&&(h=0),d>=m&&(d=m-1)}var g=this.session.removeFullLines(h,d);g=this.$reAlignText(g,f),this.session.insert({row:h,column:0},g.join("\n")+"\n"),f||(u.start.column=0,u.end.column=g[g.length-1].length),this.selection.setRange(u)}},this.$reAlignText=function(t,e){var r,n,i,o=!0,s=!0;function a(t){return l.stringRepeat(" ",t)}function c(t){return t[2]?a(r)+t[2]+a(n-t[2].length+i)+t[4].replace(/^([=:])\s+/,"$1 "):t[0]}return t.map((function(t){var e=t.match(/(\s*)(.*?)(\s*)([=:].*)/);return e?null==r?(r=e[1].length,n=e[2].length,i=e[3].length,e):(r+n+i!=e[1].length+e[2].length+e[3].length&&(s=!1),r!=e[1].length&&(o=!1),r>e[1].length&&(r=e[1].length),n<e[2].length&&(n=e[2].length),i>e[3].length&&(i=e[3].length),e):[t]})).map(e?c:o?s?function(t){return t[2]?a(r+n-t[2].length)+t[2]+a(i)+t[4].replace(/^([=:])\s+/,"$1 "):t[0]}:c:function(t){return t[2]?a(r)+t[2]+a(i)+t[4].replace(/^([=:])\s+/,"$1 "):t[0]})}}).call(d.prototype),e.onSessionChange=function(t){var e=t.session;e&&!e.multiSelect&&(e.$selectionMarkers=[],e.selection.$initRangeList(),e.multiSelect=e.selection),this.multiSelect=e&&e.multiSelect;var r=t.oldSession;r&&(r.multiSelect.off("addRange",this.$onAddRange),r.multiSelect.off("removeRange",this.$onRemoveRange),r.multiSelect.off("multiSelect",this.$onMultiSelect),r.multiSelect.off("singleSelect",this.$onSingleSelect),r.multiSelect.lead.off("change",this.$checkMultiselectChange),r.multiSelect.anchor.off("change",this.$checkMultiselectChange)),e&&(e.multiSelect.on("addRange",this.$onAddRange),e.multiSelect.on("removeRange",this.$onRemoveRange),e.multiSelect.on("multiSelect",this.$onMultiSelect),e.multiSelect.on("singleSelect",this.$onSingleSelect),e.multiSelect.lead.on("change",this.$checkMultiselectChange),e.multiSelect.anchor.on("change",this.$checkMultiselectChange)),e&&this.inMultiSelectMode!=e.selection.inMultiSelectMode&&(e.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},e.MultiSelect=f,t("./config").defineOptions(d.prototype,"editor",{enableMultiselect:{set:function(t){f(this),t?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",s)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",s))},value:!0},enableBlockSelect:{set:function(t){this.$blockSelectEnabled=t},value:!0}})})),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],(function(t,e,r){var n=t("../../range").Range,i=e.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(t,e,r){var n=t.getLine(r);return this.foldingStartMarker.test(n)?"start":"markbeginend"==e&&this.foldingStopMarker&&this.foldingStopMarker.test(n)?"end":""},this.getFoldWidgetRange=function(t,e,r){return null},this.indentationBlock=function(t,e,r){var i=/\S/,o=t.getLine(e),s=o.search(i);if(-1!=s){for(var a=r||o.length,l=t.getLength(),c=e,u=e;++e<l;){var h=t.getLine(e).search(i);if(-1!=h){if(h<=s)break;u=e}}if(u>c){var d=t.getLine(u).length;return new n(c,a,u,d)}}},this.openingBracketBlock=function(t,e,r,i,o){var s={row:r,column:i+1},a=t.$findClosingBracket(e,s,o);if(a){var l=t.foldWidgets[a.row];return null==l&&(l=t.getFoldWidget(a.row)),"start"==l&&a.row>s.row&&(a.row--,a.column=t.getLine(a.row).length),n.fromPoints(s,a)}},this.closingBracketBlock=function(t,e,r,i,o){var s={row:r,column:i},a=t.$findOpeningBracket(e,s);if(a)return a.column++,s.column--,n.fromPoints(a,s)}}).call(i.prototype)})),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],(function(t,e,r){e.isDark=!1,e.cssClass="ace-tm",e.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',t("../lib/dom").importCssString(e.cssText,e.cssClass)})),ace.define("ace/line_widgets",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/range"],(function(t,e,r){t("./lib/oop");var n=t("./lib/dom");t("./range").Range;function i(t){this.session=t,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}(function(){this.getRowLength=function(t){var e;return e=this.lineWidgets&&this.lineWidgets[t]&&this.lineWidgets[t].rowCount||0,this.$useWrapMode&&this.$wrapData[t]?this.$wrapData[t].length+1+e:1+e},this.$getWidgetScreenLength=function(){var t=0;return this.lineWidgets.forEach((function(e){e&&e.rowCount&&!e.hidden&&(t+=e.rowCount)})),t},this.$onChangeEditor=function(t){this.attach(t.editor)},this.attach=function(t){t&&t.widgetManager&&t.widgetManager!=this&&t.widgetManager.detach(),this.editor!=t&&(this.detach(),this.editor=t,t&&(t.widgetManager=this,t.renderer.on("beforeRender",this.measureWidgets),t.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(t){var e=this.editor;if(e){this.editor=null,e.widgetManager=null,e.renderer.off("beforeRender",this.measureWidgets),e.renderer.off("afterRender",this.renderWidgets);var r=this.session.lineWidgets;r&&r.forEach((function(t){t&&t.el&&t.el.parentNode&&(t._inDocument=!1,t.el.parentNode.removeChild(t.el))}))}},this.updateOnFold=function(t,e){var r=e.lineWidgets;if(r&&t.action){for(var n=t.data,i=n.start.row,o=n.end.row,s="add"==t.action,a=i+1;a<o;a++)r[a]&&(r[a].hidden=s);r[o]&&(s?r[i]?r[o].hidden=s:r[i]=r[o]:(r[i]==r[o]&&(r[i]=void 0),r[o].hidden=s))}},this.updateOnChange=function(t){var e=this.session.lineWidgets;if(e){var r=t.start.row,n=t.end.row-r;if(0===n);else if("remove"==t.action){e.splice(r+1,n).forEach((function(t){t&&this.removeLineWidget(t)}),this),this.$updateRows()}else{var i=new Array(n);i.unshift(r,0),e.splice.apply(e,i),this.$updateRows()}}},this.$updateRows=function(){var t=this.session.lineWidgets;if(t){var e=!0;t.forEach((function(t,r){if(t)for(e=!1,t.row=r;t.$oldWidget;)t.$oldWidget.row=r,t=t.$oldWidget})),e&&(this.session.lineWidgets=null)}},this.addLineWidget=function(t){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var e=this.session.lineWidgets[t.row];e&&(t.$oldWidget=e,e.el&&e.el.parentNode&&(e.el.parentNode.removeChild(e.el),e._inDocument=!1)),this.session.lineWidgets[t.row]=t,t.session=this.session;var r=this.editor.renderer;t.html&&!t.el&&(t.el=n.createElement("div"),t.el.innerHTML=t.html),t.el&&(n.addCssClass(t.el,"ace_lineWidgetContainer"),t.el.style.position="absolute",t.el.style.zIndex=5,r.container.appendChild(t.el),t._inDocument=!0),t.coverGutter||(t.el.style.zIndex=3),null==t.pixelHeight&&(t.pixelHeight=t.el.offsetHeight),null==t.rowCount&&(t.rowCount=t.pixelHeight/r.layerConfig.lineHeight);var i=this.session.getFoldAt(t.row,0);if(t.$fold=i,i){var o=this.session.lineWidgets;t.row!=i.end.row||o[i.start.row]?t.hidden=!0:o[i.start.row]=t}return this.session._emit("changeFold",{data:{start:{row:t.row}}}),this.$updateRows(),this.renderWidgets(null,r),this.onWidgetChanged(t),t},this.removeLineWidget=function(t){if(t._inDocument=!1,t.session=null,t.el&&t.el.parentNode&&t.el.parentNode.removeChild(t.el),t.editor&&t.editor.destroy)try{t.editor.destroy()}catch(t){}if(this.session.lineWidgets){var e=this.session.lineWidgets[t.row];if(e==t)this.session.lineWidgets[t.row]=t.$oldWidget,t.$oldWidget&&this.onWidgetChanged(t.$oldWidget);else for(;e;){if(e.$oldWidget==t){e.$oldWidget=t.$oldWidget;break}e=e.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:t.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(t){for(var e=this.session.lineWidgets,r=e&&e[t],n=[];r;)n.push(r),r=r.$oldWidget;return n},this.onWidgetChanged=function(t){this.session._changedWidgets.push(t),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(t,e){var r=this.session._changedWidgets,n=e.layerConfig;if(r&&r.length){for(var i=1/0,o=0;o<r.length;o++){var s=r[o];if(s&&s.el&&s.session==this.session){if(!s._inDocument){if(this.session.lineWidgets[s.row]!=s)continue;s._inDocument=!0,e.container.appendChild(s.el)}s.h=s.el.offsetHeight,s.fixedWidth||(s.w=s.el.offsetWidth,s.screenWidth=Math.ceil(s.w/n.characterWidth));var a=s.h/n.lineHeight;s.coverLine&&(a-=this.session.getRowLineCount(s.row))<0&&(a=0),s.rowCount!=a&&(s.rowCount=a,s.row<i&&(i=s.row))}}i!=1/0&&(this.session._emit("changeFold",{data:{start:{row:i}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(t,e){var r=e.layerConfig,n=this.session.lineWidgets;if(n){for(var i=Math.min(this.firstRow,r.firstRow),o=Math.max(this.lastRow,r.lastRow,n.length);i>0&&!n[i];)i--;this.firstRow=r.firstRow,this.lastRow=r.lastRow,e.$cursorLayer.config=r;for(var s=i;s<=o;s++){var a=n[s];if(a&&a.el)if(a.hidden)a.el.style.top=-100-(a.pixelHeight||0)+"px";else{a._inDocument||(a._inDocument=!0,e.container.appendChild(a.el));var l=e.$cursorLayer.getPixelPosition({row:s,column:0},!0).top;a.coverLine||(l+=r.lineHeight*this.session.getRowLineCount(a.row)),a.el.style.top=l-r.offset+"px";var c=a.coverGutter?0:e.gutterWidth;a.fixedWidth||(c-=e.scrollLeft),a.el.style.left=c+"px",a.fullWidth&&a.screenWidth&&(a.el.style.minWidth=r.width+2*r.padding+"px"),a.fixedWidth?a.el.style.right=e.scrollBar.getWidth()+"px":a.el.style.right=""}}}}}).call(i.prototype),e.LineWidgets=i})),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],(function(t,e,r){var n=t("../line_widgets").LineWidgets,i=t("../lib/dom"),o=t("../range").Range;e.showErrorMarker=function(t,e){var r=t.session;r.widgetManager||(r.widgetManager=new n(r),r.widgetManager.attach(t));var s=t.getCursorPosition(),a=s.row,l=r.widgetManager.getWidgetsAtRow(a).filter((function(t){return"errorMarker"==t.type}))[0];l?l.destroy():a-=e;var c,u=function(t,e,r){var n=t.getAnnotations().sort(o.comparePoints);if(n.length){var i=function(t,e,r){for(var n=0,i=t.length-1;n<=i;){var o=n+i>>1,s=r(e,t[o]);if(s>0)n=o+1;else{if(!(s<0))return o;i=o-1}}return-(n+1)}(n,{row:e,column:-1},o.comparePoints);i<0&&(i=-i-1),i>=n.length?i=r>0?0:n.length-1:0===i&&r<0&&(i=n.length-1);var s=n[i];if(s&&r){if(s.row===e){do{s=n[i+=r]}while(s&&s.row===e);if(!s)return n.slice()}var a=[];e=s.row;do{a[r<0?"unshift":"push"](s),s=n[i+=r]}while(s&&s.row==e);return a.length&&a}}}(r,a,e);if(u){var h=u[0];s.column=(h.pos&&"number"!=typeof h.column?h.pos.sc:h.column)||0,s.row=h.row,c=t.renderer.$gutterLayer.$annotations[s.row]}else{if(l)return;c={text:["Looks good!"],className:"ace_ok"}}t.session.unfold(s.row),t.selection.moveToPosition(s);var d={row:s.row,fixedWidth:!0,coverGutter:!0,el:i.createElement("div"),type:"errorMarker"},f=d.el.appendChild(i.createElement("div")),p=d.el.appendChild(i.createElement("div"));p.className="error_widget_arrow "+c.className;var m=t.renderer.$cursorLayer.getPixelPosition(s).left;p.style.left=m+t.renderer.gutterWidth-5+"px",d.el.className="error_widget_wrapper",f.className="error_widget "+c.className,f.innerHTML=c.text.join("<br>"),f.appendChild(i.createElement("div"));var g=function(t,e,r){if(0===e&&("esc"===r||"return"===r))return d.destroy(),{command:"null"}};d.destroy=function(){t.$mouseHandler.isMousePressed||(t.keyBinding.removeKeyboardHandler(g),r.widgetManager.removeLineWidget(d),t.off("changeSelection",d.destroy),t.off("changeSession",d.destroy),t.off("mouseup",d.destroy),t.off("change",d.destroy))},t.keyBinding.addKeyboardHandler(g),t.on("changeSelection",d.destroy),t.on("changeSession",d.destroy),t.on("mouseup",d.destroy),t.on("change",d.destroy),t.session.widgetManager.addLineWidget(d),d.el.onmousedown=t.focus.bind(t),t.renderer.scrollCursorIntoView(null,.5,{bottom:d.el.offsetHeight})},i.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")})),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],(function(t,e,r){t("./lib/fixoldbrowsers");var n=t("./lib/dom"),i=t("./lib/event"),o=t("./editor").Editor,s=t("./edit_session").EditSession,a=t("./undomanager").UndoManager,l=t("./virtual_renderer").VirtualRenderer;t("./worker/worker_client"),t("./keyboard/hash_handler"),t("./placeholder"),t("./multi_select"),t("./mode/folding/fold_mode"),t("./theme/textmate"),t("./ext/error_marker"),e.config=t("./config"),e.acequire=t,"function"==typeof define&&(e.define=define),e.edit=function(t){if("string"==typeof t){var r=t;if(!(t=document.getElementById(r)))throw new Error("ace.edit can't find div #"+r)}if(t&&t.env&&t.env.editor instanceof o)return t.env.editor;var s="";if(t&&/input|textarea/i.test(t.tagName)){var a=t;s=a.value,t=n.createElement("pre"),a.parentNode.replaceChild(t,a)}else t&&(s=n.getInnerText(t),t.innerHTML="");var c=e.createEditSession(s),u=new o(new l(t));u.setSession(c);var h={document:c,editor:u,onResize:u.resize.bind(u,null)};return a&&(h.textarea=a),i.addListener(window,"resize",h.onResize),u.on("destroy",(function(){i.removeListener(window,"resize",h.onResize),h.editor.container.env=null})),u.container.env=u.env=h,u},e.createEditSession=function(t,e){var r=new s(t,e);return r.setUndoManager(new a),r},e.EditSession=s,e.UndoManager=a,e.version="1.2.9"})),ace.acequire(["ace/ace"],(function(t){for(var e in t&&(t.config.init(!0),t.define=ace.define),window.ace||(window.ace=t),t)t.hasOwnProperty(e)&&(window.ace[e]=t[e])}));const fg=(dg=window.ace.acequire("ace/ace")).acequire("ace/range").Range;ace.define("ace/mode/latex_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(t,e,r){var n=t("../lib/oop"),i=t("./text_highlight_rules").TextHighlightRules,o=function(){this.$rules={start:[{token:"comment",regex:"%.*$"},{token:["keyword","lparen","variable.parameter","rparen","lparen","storage.type","rparen"],regex:"(\\\\(?:documentclass|usepackage|input))(?:(\\[)([^\\]]*)(\\]))?({)([^}]*)(})"},{token:["keyword","lparen","variable.parameter","rparen"],regex:"(\\\\(?:label|v?ref|cite(?:[^{]*)))(?:({)([^}]*)(}))?"},{token:["storage.type","lparen","variable.parameter","rparen"],regex:"(\\\\begin)({)(verbatim)(})",next:"verbatim"},{token:["storage.type","lparen","variable.parameter","rparen"],regex:"(\\\\begin)({)(lstlisting)(})",next:"lstlisting"},{token:["storage.type","lparen","variable.parameter","rparen"],regex:"(\\\\(?:begin|end))({)([\\w*]*)(})"},{token:"storage.type",regex:/\\verb\b\*?/,next:[{token:["keyword.operator","string","keyword.operator"],regex:"(.)(.*?)(\\1|$)|",next:"start"}]},{token:"storage.type",regex:"\\\\[a-zA-Z]+"},{token:"lparen",regex:"[[({]"},{token:"rparen",regex:"[\\])}]"},{token:"constant.character.escape",regex:"\\\\[^a-zA-Z]?"},{token:"string",regex:"\\${1,2}",next:"equation"}],equation:[{token:"comment",regex:"%.*$"},{token:"string",regex:"\\${1,2}",next:"start"},{token:"constant.character.escape",regex:"\\\\(?:[^a-zA-Z]|[a-zA-Z]+)"},{token:"error",regex:"^\\s*$",next:"start"},{defaultToken:"string"}],verbatim:[{token:["storage.type","lparen","variable.parameter","rparen"],regex:"(\\\\end)({)(verbatim)(})",next:"start"},{defaultToken:"text"}],lstlisting:[{token:["storage.type","lparen","variable.parameter","rparen"],regex:"(\\\\end)({)(lstlisting)(})",next:"start"},{defaultToken:"text"}]},this.normalizeRules()};n.inherits(o,i),e.LatexHighlightRules=o})),ace.define("ace/mode/folding/latex",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode","ace/range","ace/token_iterator"],(function(t,e,r){var n=t("../../lib/oop"),i=t("./fold_mode").FoldMode,o=t("../../range").Range,s=t("../../token_iterator").TokenIterator,a={"\\subparagraph":1,"\\paragraph":2,"\\subsubsubsection":3,"\\subsubsection":4,"\\subsection":5,"\\section":6,"\\chapter":7,"\\part":8,"\\begin":9,"\\end":10},l=e.FoldMode=function(){};n.inherits(l,i),function(){this.foldingStartMarker=/^\s*\\(begin)|\s*\\(part|chapter|(?:sub)*(?:section|paragraph))\b|{\s*$/,this.foldingStopMarker=/^\s*\\(end)\b|^\s*}/,this.getFoldWidgetRange=function(t,e,r){var n,i=t.doc.getLine(r);return(n=this.foldingStartMarker.exec(i))?n[1]?this.latexBlock(t,r,n[0].length-1):n[2]?this.latexSection(t,r,n[0].length-1):this.openingBracketBlock(t,"{",r,n.index):(n=this.foldingStopMarker.exec(i))?n[1]?this.latexBlock(t,r,n[0].length-1):this.closingBracketBlock(t,"}",r,n.index+n[0].length):void 0},this.latexBlock=function(t,e,r,n){var i={"\\begin":1,"\\end":-1},a=new s(t,e,r),l=a.getCurrentToken();if(l&&("storage.type"==l.type||"constant.character.escape"==l.type)){var c=i[l.value],u=function(){var t="lparen"==a.stepForward().type?a.stepForward().value:"";return-1===c&&(a.stepBackward(),t&&a.stepBackward()),t},h=[u()],d=-1===c?a.getCurrentTokenColumn():t.getLine(e).length,f=e;for(a.step=-1===c?a.stepBackward:a.stepForward;l=a.step();)if(l&&("storage.type"==l.type||"constant.character.escape"==l.type)){var p=i[l.value];if(p){var m=u();if(p===c)h.unshift(m);else if(h.shift()!==m||!h.length)break}}if(!h.length){if(1==c&&(a.stepBackward(),a.stepBackward()),n)return a.getCurrentTokenRange();e=a.getCurrentTokenRow();return-1===c?new o(e,t.getLine(e).length,f,d):new o(f,d,e,a.getCurrentTokenColumn())}}},this.latexSection=function(t,e,r){var n=new s(t,e,r),i=n.getCurrentToken();if(i&&"storage.type"==i.type){for(var l=a[i.value]||0,c=0,u=e;i=n.stepForward();)if("storage.type"===i.type){var h=a[i.value]||0;if(h>=9){if(c||(u=n.getCurrentTokenRow()-1),(c+=9==h?1:-1)<0)break}else if(h>=l)break}for(c||(u=n.getCurrentTokenRow()-1);u>e&&!/\S/.test(t.getLine(u));)u--;return new o(e,t.getLine(e).length,u,t.getLine(u).length)}}}.call(l.prototype)})),ace.define("ace/mode/latex",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/latex_highlight_rules","ace/mode/behaviour/cstyle","ace/mode/folding/latex"],(function(t,e,r){var n=t("../lib/oop"),i=t("./text").Mode,o=t("./latex_highlight_rules").LatexHighlightRules,s=t("./behaviour/cstyle").CstyleBehaviour,a=t("./folding/latex").FoldMode,l=function(){this.HighlightRules=o,this.foldingRules=new a,this.$behaviour=new s({braces:!0})};n.inherits(l,i),function(){this.type="text",this.lineCommentStart="%",this.$id="ace/mode/latex",this.getMatching=function(t,e,r){null==e&&(e=t.selection.lead),"object"==typeof e&&(r=e.column,e=e.row);var n=t.getTokenAt(e,r);if(n)return"\\begin"==n.value||"\\end"==n.value?this.foldingRules.latexBlock(t,e,r,!0):void 0}}.call(l.prototype),e.Mode=l}));const pg=dg.edit("source");pg.session.setMode("ace/mode/latex"),pg.setFontSize("14px"),pg.session.setUseWrapMode(!0),pg.$blockScrolling=1/0,pg.renderer.setScrollMargin(10,10,10,10);const mg=pg.getSelection(),gg=zh.browserAdaptor();Qh.RegisterHTMLHandler(gg);const yg=new p.TeX({packages:Sf.AllPackages.sort().join(", ").split(/\s*,\s*/)}),vg=new ln.CHTML({fontURL:"https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2"}),bg=o.mathjax.document("",{InputJax:yg,OutputJax:vg}),Ag=document.getElementById("preview");let Cg=0,wg=0,xg=!1;function Eg(){let t=performance.now(),e=pg.getValue();const r=bg.convert(e,{display:!0,em:20,ex:12,containerWidth:1280});Ag.innerHTML="",Ag.appendChild(r),Ag.appendChild(vg.styleSheet(bg)),Sg.length=e.length,Sg.fill(null),Mg(r,0,e.length),xg=!0,Bg(),Cg=performance.now()-t}pg.addEventListener("change",(async function(){xg=!1,wg++;let t=wg;await new Promise((t=>setTimeout(t,Cg))),wg===t&&Eg()}));let Sg=[];function Mg(t,r,n){let i,o,s=!1,a=t.getAttribute("beginloc");a&&(i=parseInt(a),o=parseInt(t.getAttribute("endloc")),s=i!==r||o!==n,s?(r=i,n=o):(t.removeAttribute("beginloc"),t.removeAttribute("endloc")));let l=n,c=r;for(var u=0;u<t.children.length;u++){var h=t.children[u];[b,e]=Mg(h,r,n),b<l&&(l=b),e>c&&(c=e)}return s?(Sg.fill(t,i,l),Sg.fill(t,c,o),[i,o]):[l,c]}function Og(t){return pg.getSession().getDocument().positionToIndex(t)}function _g(t){return pg.getSession().getDocument().indexToPosition(t)}mg.addEventListener("changeCursor",Bg),mg.addEventListener("changeSelection",Bg),pg.addEventListener("focus",Bg);let Tg=0,Fg=0;function Bg(){if(!xg)return;let t=Og(mg.getSelectionLead()),e=Og(mg.getSelectionAnchor());t>e?[t,e]=[e,t]:t===e&&e++;for(let e=Tg;e<t&&e<Fg;e++)kg(Sg[e]);for(let t=Math.max(e,Tg);t<Fg&&t;t++)kg(Sg[t]);for(let r=t;r<Tg&&r<e;r++)Rg(Sg[r]);for(let r=Math.max(Fg,t);r<e;r++)Rg(Sg[r]);Tg=t,Fg=e}function Lg(t){for(;"DIV"!==t.nodeName;){if(t.getAttribute("beginloc"))return t;t=t.parentElement}return null}function kg(t){t&&(t.style.backgroundColor=null)}function Rg(t){t&&(t.style.backgroundColor="#ACCEF7")}function Dg(t,e){mg.setSelectionRange(fg.fromPoints(_g(t),_g(e)))}let Pg=!1,Ig=0,Ng=0;Ag.addEventListener("mousedown",(t=>{target=Lg(t.target),target?(Pg=!0,Ig=parseInt(target.getAttribute("beginloc")),Ng=parseInt(target.getAttribute("endloc")),Dg(Ig,Ng)):(pg.clearSelection(),pg.moveCursorTo(pg.getSession().getLength(),0))}));let $g=null;Ag.addEventListener("mouseup",(t=>{Pg&&(Pg=!1,target=Lg(t.target),pg.focus())})),Ag.addEventListener("mousemove",(t=>{let e=Lg(t.target);if(Pg&&e){let t=parseInt(e.getAttribute("beginloc")),r=parseInt(e.getAttribute("endloc"));Dg(Math.min(t,Ig),Math.max(r,Ng))}$g&&($g.style.outlineStyle="none"),e&&($g=e,$g.style.outlineStyle="solid",$g.style.outlineWidth="1px",$g.style.outlineColor="lightgray")})),Ag.addEventListener("mouseleave",(t=>{$g&&($g.style.outlineStyle="none")})),pg.setValue("% sample code\r\n\\begin{aligned}\r\n  & \\sum_{i=1}^{d}  \\frac{(\\theta_{1,i}-\\theta_{,i}^{\\ast } )^2\\sqrt{\\hat{v}_{1,i}}}{2\\alpha_1(1-\\beta_1)}+ \\sum_{i=1}^{d}\\sum_{t=2}^{T}\\frac{(\\theta_{t,i}-\\theta_{,i}^{\\ast } )^2}{2(1-\\beta_1)}(\\frac{\\sqrt{\\hat{v}_{t,i}}}{\\alpha_t}-\\frac{\\sqrt{\\hat{v}_{t-1,i}}}{\\alpha_{t-1}})\\\\\r\n  \\leq~ & \\sum_{i=1}^{d}  \\frac{D_\\infty^2\\sqrt{\\hat{v}_{1,i}}}{2\\alpha_1(1-\\beta_1)}+ \\sum_{i=1}^{d}\\sum_{t=2}^{T}\\frac{D_\\infty^2}{2(1-\\beta_1)}(\\frac{\\sqrt{\\hat{v}_{t,i}}}{\\alpha_t}-\\frac{\\sqrt{\\hat{v}_{t-1,i}}}{\\alpha_{t-1}})\\\\\r\n  =~&\\frac{D_\\infty^2}{2\\alpha(1-\\beta_1)}\\sum_{i=1}^{d}\\sqrt{T\\hat{v}_{T,i}}.\r\n\\end{aligned}"),pg.clearSelection()}();
//# sourceMappingURL=index.b2f1e9df.js.map
